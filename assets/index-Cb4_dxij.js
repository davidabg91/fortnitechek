(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&o(l)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();function hm(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ld={exports:{}},ti={},ad={exports:{}},B={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uo=Symbol.for("react.element"),gm=Symbol.for("react.portal"),vm=Symbol.for("react.fragment"),ym=Symbol.for("react.strict_mode"),Em=Symbol.for("react.profiler"),_m=Symbol.for("react.provider"),Tm=Symbol.for("react.context"),Sm=Symbol.for("react.forward_ref"),Cm=Symbol.for("react.suspense"),Im=Symbol.for("react.memo"),wm=Symbol.for("react.lazy"),ca=Symbol.iterator;function Am(t){return t===null||typeof t!="object"?null:(t=ca&&t[ca]||t["@@iterator"],typeof t=="function"?t:null)}var ud={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},cd=Object.assign,dd={};function On(t,e,n){this.props=t,this.context=e,this.refs=dd,this.updater=n||ud}On.prototype.isReactComponent={};On.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};On.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function fd(){}fd.prototype=On.prototype;function sl(t,e,n){this.props=t,this.context=e,this.refs=dd,this.updater=n||ud}var ll=sl.prototype=new fd;ll.constructor=sl;cd(ll,On.prototype);ll.isPureReactComponent=!0;var da=Array.isArray,pd=Object.prototype.hasOwnProperty,al={current:null},md={key:!0,ref:!0,__self:!0,__source:!0};function hd(t,e,n){var o,r={},i=null,l=null;if(e!=null)for(o in e.ref!==void 0&&(l=e.ref),e.key!==void 0&&(i=""+e.key),e)pd.call(e,o)&&!md.hasOwnProperty(o)&&(r[o]=e[o]);var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){for(var c=Array(u),d=0;d<u;d++)c[d]=arguments[d+2];r.children=c}if(t&&t.defaultProps)for(o in u=t.defaultProps,u)r[o]===void 0&&(r[o]=u[o]);return{$$typeof:Uo,type:t,key:i,ref:l,props:r,_owner:al.current}}function Rm(t,e){return{$$typeof:Uo,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function ul(t){return typeof t=="object"&&t!==null&&t.$$typeof===Uo}function Nm(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var fa=/\/+/g;function wi(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Nm(""+t.key):e.toString(36)}function dr(t,e,n,o,r){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var l=!1;if(t===null)l=!0;else switch(i){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case Uo:case gm:l=!0}}if(l)return l=t,r=r(l),t=o===""?"."+wi(l,0):o,da(r)?(n="",t!=null&&(n=t.replace(fa,"$&/")+"/"),dr(r,e,n,"",function(d){return d})):r!=null&&(ul(r)&&(r=Rm(r,n+(!r.key||l&&l.key===r.key?"":(""+r.key).replace(fa,"$&/")+"/")+t)),e.push(r)),1;if(l=0,o=o===""?".":o+":",da(t))for(var u=0;u<t.length;u++){i=t[u];var c=o+wi(i,u);l+=dr(i,e,n,c,r)}else if(c=Am(t),typeof c=="function")for(t=c.call(t),u=0;!(i=t.next()).done;)i=i.value,c=o+wi(i,u++),l+=dr(i,e,n,c,r);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return l}function qo(t,e,n){if(t==null)return t;var o=[],r=0;return dr(t,o,"","",function(i){return e.call(n,i,r++)}),o}function xm(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var we={current:null},fr={transition:null},Pm={ReactCurrentDispatcher:we,ReactCurrentBatchConfig:fr,ReactCurrentOwner:al};function gd(){throw Error("act(...) is not supported in production builds of React.")}B.Children={map:qo,forEach:function(t,e,n){qo(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return qo(t,function(){e++}),e},toArray:function(t){return qo(t,function(e){return e})||[]},only:function(t){if(!ul(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};B.Component=On;B.Fragment=vm;B.Profiler=Em;B.PureComponent=sl;B.StrictMode=ym;B.Suspense=Cm;B.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Pm;B.act=gd;B.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var o=cd({},t.props),r=t.key,i=t.ref,l=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,l=al.current),e.key!==void 0&&(r=""+e.key),t.type&&t.type.defaultProps)var u=t.type.defaultProps;for(c in e)pd.call(e,c)&&!md.hasOwnProperty(c)&&(o[c]=e[c]===void 0&&u!==void 0?u[c]:e[c])}var c=arguments.length-2;if(c===1)o.children=n;else if(1<c){u=Array(c);for(var d=0;d<c;d++)u[d]=arguments[d+2];o.children=u}return{$$typeof:Uo,type:t.type,key:r,ref:i,props:o,_owner:l}};B.createContext=function(t){return t={$$typeof:Tm,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:_m,_context:t},t.Consumer=t};B.createElement=hd;B.createFactory=function(t){var e=hd.bind(null,t);return e.type=t,e};B.createRef=function(){return{current:null}};B.forwardRef=function(t){return{$$typeof:Sm,render:t}};B.isValidElement=ul;B.lazy=function(t){return{$$typeof:wm,_payload:{_status:-1,_result:t},_init:xm}};B.memo=function(t,e){return{$$typeof:Im,type:t,compare:e===void 0?null:e}};B.startTransition=function(t){var e=fr.transition;fr.transition={};try{t()}finally{fr.transition=e}};B.unstable_act=gd;B.useCallback=function(t,e){return we.current.useCallback(t,e)};B.useContext=function(t){return we.current.useContext(t)};B.useDebugValue=function(){};B.useDeferredValue=function(t){return we.current.useDeferredValue(t)};B.useEffect=function(t,e){return we.current.useEffect(t,e)};B.useId=function(){return we.current.useId()};B.useImperativeHandle=function(t,e,n){return we.current.useImperativeHandle(t,e,n)};B.useInsertionEffect=function(t,e){return we.current.useInsertionEffect(t,e)};B.useLayoutEffect=function(t,e){return we.current.useLayoutEffect(t,e)};B.useMemo=function(t,e){return we.current.useMemo(t,e)};B.useReducer=function(t,e,n){return we.current.useReducer(t,e,n)};B.useRef=function(t){return we.current.useRef(t)};B.useState=function(t){return we.current.useState(t)};B.useSyncExternalStore=function(t,e,n){return we.current.useSyncExternalStore(t,e,n)};B.useTransition=function(){return we.current.useTransition()};B.version="18.3.1";ad.exports=B;var $=ad.exports;const km=hm($);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mm=$,Dm=Symbol.for("react.element"),Lm=Symbol.for("react.fragment"),Um=Object.prototype.hasOwnProperty,Fm=Mm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Vm={key:!0,ref:!0,__self:!0,__source:!0};function vd(t,e,n){var o,r={},i=null,l=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(l=e.ref);for(o in e)Um.call(e,o)&&!Vm.hasOwnProperty(o)&&(r[o]=e[o]);if(t&&t.defaultProps)for(o in e=t.defaultProps,e)r[o]===void 0&&(r[o]=e[o]);return{$$typeof:Dm,type:t,key:i,ref:l,props:r,_owner:Fm.current}}ti.Fragment=Lm;ti.jsx=vd;ti.jsxs=vd;ld.exports=ti;var I=ld.exports,ji={},yd={exports:{}},Fe={},Ed={exports:{}},_d={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(M,V){var G=M.length;M.push(V);e:for(;0<G;){var oe=G-1>>>1,ue=M[oe];if(0<r(ue,V))M[oe]=V,M[G]=ue,G=oe;else break e}}function n(M){return M.length===0?null:M[0]}function o(M){if(M.length===0)return null;var V=M[0],G=M.pop();if(G!==V){M[0]=G;e:for(var oe=0,ue=M.length,Bo=ue>>>1;oe<Bo;){var Jt=2*(oe+1)-1,Ii=M[Jt],Wt=Jt+1,Oo=M[Wt];if(0>r(Ii,G))Wt<ue&&0>r(Oo,Ii)?(M[oe]=Oo,M[Wt]=G,oe=Wt):(M[oe]=Ii,M[Jt]=G,oe=Jt);else if(Wt<ue&&0>r(Oo,G))M[oe]=Oo,M[Wt]=G,oe=Wt;else break e}}return V}function r(M,V){var G=M.sortIndex-V.sortIndex;return G!==0?G:M.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var l=Date,u=l.now();t.unstable_now=function(){return l.now()-u}}var c=[],d=[],f=1,m=null,p=3,h=!1,E=!1,_=!1,S=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(M){for(var V=n(d);V!==null;){if(V.callback===null)o(d);else if(V.startTime<=M)o(d),V.sortIndex=V.expirationTime,e(c,V);else break;V=n(d)}}function T(M){if(_=!1,y(M),!E)if(n(c)!==null)E=!0,F(C);else{var V=n(d);V!==null&&K(T,V.startTime-M)}}function C(M,V){E=!1,_&&(_=!1,v(R),R=-1),h=!0;var G=p;try{for(y(V),m=n(c);m!==null&&(!(m.expirationTime>V)||M&&!H());){var oe=m.callback;if(typeof oe=="function"){m.callback=null,p=m.priorityLevel;var ue=oe(m.expirationTime<=V);V=t.unstable_now(),typeof ue=="function"?m.callback=ue:m===n(c)&&o(c),y(V)}else o(c);m=n(c)}if(m!==null)var Bo=!0;else{var Jt=n(d);Jt!==null&&K(T,Jt.startTime-V),Bo=!1}return Bo}finally{m=null,p=G,h=!1}}var A=!1,w=null,R=-1,P=5,x=-1;function H(){return!(t.unstable_now()-x<P)}function ie(){if(w!==null){var M=t.unstable_now();x=M;var V=!0;try{V=w(!0,M)}finally{V?z():(A=!1,w=null)}}else A=!1}var z;if(typeof g=="function")z=function(){g(ie)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,O=U.port2;U.port1.onmessage=ie,z=function(){O.postMessage(null)}}else z=function(){S(ie,0)};function F(M){w=M,A||(A=!0,z())}function K(M,V){R=S(function(){M(t.unstable_now())},V)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(M){M.callback=null},t.unstable_continueExecution=function(){E||h||(E=!0,F(C))},t.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<M?Math.floor(1e3/M):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(M){switch(p){case 1:case 2:case 3:var V=3;break;default:V=p}var G=p;p=V;try{return M()}finally{p=G}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(M,V){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var G=p;p=M;try{return V()}finally{p=G}},t.unstable_scheduleCallback=function(M,V,G){var oe=t.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?oe+G:oe):G=oe,M){case 1:var ue=-1;break;case 2:ue=250;break;case 5:ue=1073741823;break;case 4:ue=1e4;break;default:ue=5e3}return ue=G+ue,M={id:f++,callback:V,priorityLevel:M,startTime:G,expirationTime:ue,sortIndex:-1},G>oe?(M.sortIndex=G,e(d,M),n(c)===null&&M===n(d)&&(_?(v(R),R=-1):_=!0,K(T,G-oe))):(M.sortIndex=ue,e(c,M),E||h||(E=!0,F(C))),M},t.unstable_shouldYield=H,t.unstable_wrapCallback=function(M){var V=p;return function(){var G=p;p=V;try{return M.apply(this,arguments)}finally{p=G}}}})(_d);Ed.exports=_d;var Gm=Ed.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hm=$,Ue=Gm;function N(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Td=new Set,yo={};function ln(t,e){Ln(t,e),Ln(t+"Capture",e)}function Ln(t,e){for(yo[t]=e,t=0;t<e.length;t++)Td.add(e[t])}var ht=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),es=Object.prototype.hasOwnProperty,Bm=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,pa={},ma={};function Om(t){return es.call(ma,t)?!0:es.call(pa,t)?!1:Bm.test(t)?ma[t]=!0:(pa[t]=!0,!1)}function qm(t,e,n,o){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return o?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function zm(t,e,n,o){if(e===null||typeof e>"u"||qm(t,e,n,o))return!0;if(o)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ae(t,e,n,o,r,i,l){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=o,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=l}var he={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){he[t]=new Ae(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];he[e]=new Ae(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){he[t]=new Ae(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){he[t]=new Ae(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){he[t]=new Ae(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){he[t]=new Ae(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){he[t]=new Ae(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){he[t]=new Ae(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){he[t]=new Ae(t,5,!1,t.toLowerCase(),null,!1,!1)});var cl=/[\-:]([a-z])/g;function dl(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(cl,dl);he[e]=new Ae(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(cl,dl);he[e]=new Ae(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(cl,dl);he[e]=new Ae(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){he[t]=new Ae(t,1,!1,t.toLowerCase(),null,!1,!1)});he.xlinkHref=new Ae("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){he[t]=new Ae(t,1,!1,t.toLowerCase(),null,!0,!0)});function fl(t,e,n,o){var r=he.hasOwnProperty(e)?he[e]:null;(r!==null?r.type!==0:o||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(zm(e,n,r,o)&&(n=null),o||r===null?Om(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):r.mustUseProperty?t[r.propertyName]=n===null?r.type===3?!1:"":n:(e=r.attributeName,o=r.attributeNamespace,n===null?t.removeAttribute(e):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,o?t.setAttributeNS(o,e,n):t.setAttribute(e,n))))}var _t=Hm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,zo=Symbol.for("react.element"),fn=Symbol.for("react.portal"),pn=Symbol.for("react.fragment"),pl=Symbol.for("react.strict_mode"),ts=Symbol.for("react.profiler"),Sd=Symbol.for("react.provider"),Cd=Symbol.for("react.context"),ml=Symbol.for("react.forward_ref"),ns=Symbol.for("react.suspense"),os=Symbol.for("react.suspense_list"),hl=Symbol.for("react.memo"),It=Symbol.for("react.lazy"),Id=Symbol.for("react.offscreen"),ha=Symbol.iterator;function Kn(t){return t===null||typeof t!="object"?null:(t=ha&&t[ha]||t["@@iterator"],typeof t=="function"?t:null)}var te=Object.assign,Ai;function oo(t){if(Ai===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Ai=e&&e[1]||""}return`
`+Ai+t}var Ri=!1;function Ni(t,e){if(!t||Ri)return"";Ri=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var o=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){o=d}t.call(e.prototype)}else{try{throw Error()}catch(d){o=d}t()}}catch(d){if(d&&o&&typeof d.stack=="string"){for(var r=d.stack.split(`
`),i=o.stack.split(`
`),l=r.length-1,u=i.length-1;1<=l&&0<=u&&r[l]!==i[u];)u--;for(;1<=l&&0<=u;l--,u--)if(r[l]!==i[u]){if(l!==1||u!==1)do if(l--,u--,0>u||r[l]!==i[u]){var c=`
`+r[l].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=l&&0<=u);break}}}finally{Ri=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?oo(t):""}function $m(t){switch(t.tag){case 5:return oo(t.type);case 16:return oo("Lazy");case 13:return oo("Suspense");case 19:return oo("SuspenseList");case 0:case 2:case 15:return t=Ni(t.type,!1),t;case 11:return t=Ni(t.type.render,!1),t;case 1:return t=Ni(t.type,!0),t;default:return""}}function rs(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case pn:return"Fragment";case fn:return"Portal";case ts:return"Profiler";case pl:return"StrictMode";case ns:return"Suspense";case os:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Cd:return(t.displayName||"Context")+".Consumer";case Sd:return(t._context.displayName||"Context")+".Provider";case ml:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case hl:return e=t.displayName||null,e!==null?e:rs(t.type)||"Memo";case It:e=t._payload,t=t._init;try{return rs(t(e))}catch{}}return null}function Jm(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return rs(e);case 8:return e===pl?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ht(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function wd(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Wm(t){var e=wd(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),o=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(l){o=""+l,i.call(this,l)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return o},setValue:function(l){o=""+l},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function $o(t){t._valueTracker||(t._valueTracker=Wm(t))}function Ad(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),o="";return t&&(o=wd(t)?t.checked?"true":"false":t.value),t=o,t!==n?(e.setValue(t),!0):!1}function wr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function is(t,e){var n=e.checked;return te({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function ga(t,e){var n=e.defaultValue==null?"":e.defaultValue,o=e.checked!=null?e.checked:e.defaultChecked;n=Ht(e.value!=null?e.value:n),t._wrapperState={initialChecked:o,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Rd(t,e){e=e.checked,e!=null&&fl(t,"checked",e,!1)}function ss(t,e){Rd(t,e);var n=Ht(e.value),o=e.type;if(n!=null)o==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(o==="submit"||o==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?ls(t,e.type,n):e.hasOwnProperty("defaultValue")&&ls(t,e.type,Ht(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function va(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var o=e.type;if(!(o!=="submit"&&o!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function ls(t,e,n){(e!=="number"||wr(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ro=Array.isArray;function An(t,e,n,o){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&o&&(t[n].defaultSelected=!0)}else{for(n=""+Ht(n),e=null,r=0;r<t.length;r++){if(t[r].value===n){t[r].selected=!0,o&&(t[r].defaultSelected=!0);return}e!==null||t[r].disabled||(e=t[r])}e!==null&&(e.selected=!0)}}function as(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(N(91));return te({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function ya(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(N(92));if(ro(n)){if(1<n.length)throw Error(N(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ht(n)}}function Nd(t,e){var n=Ht(e.value),o=Ht(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),o!=null&&(t.defaultValue=""+o)}function Ea(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function xd(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function us(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?xd(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Jo,Pd=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,o,r){MSApp.execUnsafeLocalFunction(function(){return t(e,n,o,r)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Jo=Jo||document.createElement("div"),Jo.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Jo.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Eo(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ao={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Km=["Webkit","ms","Moz","O"];Object.keys(ao).forEach(function(t){Km.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ao[e]=ao[t]})});function kd(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ao.hasOwnProperty(t)&&ao[t]?(""+e).trim():e+"px"}function Md(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var o=n.indexOf("--")===0,r=kd(n,e[n],o);n==="float"&&(n="cssFloat"),o?t.setProperty(n,r):t[n]=r}}var Ym=te({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function cs(t,e){if(e){if(Ym[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(N(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(N(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(N(61))}if(e.style!=null&&typeof e.style!="object")throw Error(N(62))}}function ds(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fs=null;function gl(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ps=null,Rn=null,Nn=null;function _a(t){if(t=Go(t)){if(typeof ps!="function")throw Error(N(280));var e=t.stateNode;e&&(e=si(e),ps(t.stateNode,t.type,e))}}function Dd(t){Rn?Nn?Nn.push(t):Nn=[t]:Rn=t}function Ld(){if(Rn){var t=Rn,e=Nn;if(Nn=Rn=null,_a(t),e)for(t=0;t<e.length;t++)_a(e[t])}}function Ud(t,e){return t(e)}function Fd(){}var xi=!1;function Vd(t,e,n){if(xi)return t(e,n);xi=!0;try{return Ud(t,e,n)}finally{xi=!1,(Rn!==null||Nn!==null)&&(Fd(),Ld())}}function _o(t,e){var n=t.stateNode;if(n===null)return null;var o=si(n);if(o===null)return null;n=o[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(N(231,e,typeof n));return n}var ms=!1;if(ht)try{var Yn={};Object.defineProperty(Yn,"passive",{get:function(){ms=!0}}),window.addEventListener("test",Yn,Yn),window.removeEventListener("test",Yn,Yn)}catch{ms=!1}function bm(t,e,n,o,r,i,l,u,c){var d=Array.prototype.slice.call(arguments,3);try{e.apply(n,d)}catch(f){this.onError(f)}}var uo=!1,Ar=null,Rr=!1,hs=null,Qm={onError:function(t){uo=!0,Ar=t}};function Xm(t,e,n,o,r,i,l,u,c){uo=!1,Ar=null,bm.apply(Qm,arguments)}function Zm(t,e,n,o,r,i,l,u,c){if(Xm.apply(this,arguments),uo){if(uo){var d=Ar;uo=!1,Ar=null}else throw Error(N(198));Rr||(Rr=!0,hs=d)}}function an(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Gd(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Ta(t){if(an(t)!==t)throw Error(N(188))}function jm(t){var e=t.alternate;if(!e){if(e=an(t),e===null)throw Error(N(188));return e!==t?null:t}for(var n=t,o=e;;){var r=n.return;if(r===null)break;var i=r.alternate;if(i===null){if(o=r.return,o!==null){n=o;continue}break}if(r.child===i.child){for(i=r.child;i;){if(i===n)return Ta(r),t;if(i===o)return Ta(r),e;i=i.sibling}throw Error(N(188))}if(n.return!==o.return)n=r,o=i;else{for(var l=!1,u=r.child;u;){if(u===n){l=!0,n=r,o=i;break}if(u===o){l=!0,o=r,n=i;break}u=u.sibling}if(!l){for(u=i.child;u;){if(u===n){l=!0,n=i,o=r;break}if(u===o){l=!0,o=i,n=r;break}u=u.sibling}if(!l)throw Error(N(189))}}if(n.alternate!==o)throw Error(N(190))}if(n.tag!==3)throw Error(N(188));return n.stateNode.current===n?t:e}function Hd(t){return t=jm(t),t!==null?Bd(t):null}function Bd(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Bd(t);if(e!==null)return e;t=t.sibling}return null}var Od=Ue.unstable_scheduleCallback,Sa=Ue.unstable_cancelCallback,eh=Ue.unstable_shouldYield,th=Ue.unstable_requestPaint,re=Ue.unstable_now,nh=Ue.unstable_getCurrentPriorityLevel,vl=Ue.unstable_ImmediatePriority,qd=Ue.unstable_UserBlockingPriority,Nr=Ue.unstable_NormalPriority,oh=Ue.unstable_LowPriority,zd=Ue.unstable_IdlePriority,ni=null,st=null;function rh(t){if(st&&typeof st.onCommitFiberRoot=="function")try{st.onCommitFiberRoot(ni,t,void 0,(t.current.flags&128)===128)}catch{}}var Xe=Math.clz32?Math.clz32:lh,ih=Math.log,sh=Math.LN2;function lh(t){return t>>>=0,t===0?32:31-(ih(t)/sh|0)|0}var Wo=64,Ko=4194304;function io(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function xr(t,e){var n=t.pendingLanes;if(n===0)return 0;var o=0,r=t.suspendedLanes,i=t.pingedLanes,l=n&268435455;if(l!==0){var u=l&~r;u!==0?o=io(u):(i&=l,i!==0&&(o=io(i)))}else l=n&~r,l!==0?o=io(l):i!==0&&(o=io(i));if(o===0)return 0;if(e!==0&&e!==o&&!(e&r)&&(r=o&-o,i=e&-e,r>=i||r===16&&(i&4194240)!==0))return e;if(o&4&&(o|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=o;0<e;)n=31-Xe(e),r=1<<n,o|=t[n],e&=~r;return o}function ah(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function uh(t,e){for(var n=t.suspendedLanes,o=t.pingedLanes,r=t.expirationTimes,i=t.pendingLanes;0<i;){var l=31-Xe(i),u=1<<l,c=r[l];c===-1?(!(u&n)||u&o)&&(r[l]=ah(u,e)):c<=e&&(t.expiredLanes|=u),i&=~u}}function gs(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function $d(){var t=Wo;return Wo<<=1,!(Wo&4194240)&&(Wo=64),t}function Pi(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Fo(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Xe(e),t[e]=n}function ch(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var o=t.eventTimes;for(t=t.expirationTimes;0<n;){var r=31-Xe(n),i=1<<r;e[r]=0,o[r]=-1,t[r]=-1,n&=~i}}function yl(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var o=31-Xe(n),r=1<<o;r&e|t[o]&e&&(t[o]|=e),n&=~r}}var W=0;function Jd(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Wd,El,Kd,Yd,bd,vs=!1,Yo=[],kt=null,Mt=null,Dt=null,To=new Map,So=new Map,At=[],dh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ca(t,e){switch(t){case"focusin":case"focusout":kt=null;break;case"dragenter":case"dragleave":Mt=null;break;case"mouseover":case"mouseout":Dt=null;break;case"pointerover":case"pointerout":To.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":So.delete(e.pointerId)}}function bn(t,e,n,o,r,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:o,nativeEvent:i,targetContainers:[r]},e!==null&&(e=Go(e),e!==null&&El(e)),t):(t.eventSystemFlags|=o,e=t.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),t)}function fh(t,e,n,o,r){switch(e){case"focusin":return kt=bn(kt,t,e,n,o,r),!0;case"dragenter":return Mt=bn(Mt,t,e,n,o,r),!0;case"mouseover":return Dt=bn(Dt,t,e,n,o,r),!0;case"pointerover":var i=r.pointerId;return To.set(i,bn(To.get(i)||null,t,e,n,o,r)),!0;case"gotpointercapture":return i=r.pointerId,So.set(i,bn(So.get(i)||null,t,e,n,o,r)),!0}return!1}function Qd(t){var e=Qt(t.target);if(e!==null){var n=an(e);if(n!==null){if(e=n.tag,e===13){if(e=Gd(n),e!==null){t.blockedOn=e,bd(t.priority,function(){Kd(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function pr(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=ys(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var o=new n.constructor(n.type,n);fs=o,n.target.dispatchEvent(o),fs=null}else return e=Go(n),e!==null&&El(e),t.blockedOn=n,!1;e.shift()}return!0}function Ia(t,e,n){pr(t)&&n.delete(e)}function ph(){vs=!1,kt!==null&&pr(kt)&&(kt=null),Mt!==null&&pr(Mt)&&(Mt=null),Dt!==null&&pr(Dt)&&(Dt=null),To.forEach(Ia),So.forEach(Ia)}function Qn(t,e){t.blockedOn===e&&(t.blockedOn=null,vs||(vs=!0,Ue.unstable_scheduleCallback(Ue.unstable_NormalPriority,ph)))}function Co(t){function e(r){return Qn(r,t)}if(0<Yo.length){Qn(Yo[0],t);for(var n=1;n<Yo.length;n++){var o=Yo[n];o.blockedOn===t&&(o.blockedOn=null)}}for(kt!==null&&Qn(kt,t),Mt!==null&&Qn(Mt,t),Dt!==null&&Qn(Dt,t),To.forEach(e),So.forEach(e),n=0;n<At.length;n++)o=At[n],o.blockedOn===t&&(o.blockedOn=null);for(;0<At.length&&(n=At[0],n.blockedOn===null);)Qd(n),n.blockedOn===null&&At.shift()}var xn=_t.ReactCurrentBatchConfig,Pr=!0;function mh(t,e,n,o){var r=W,i=xn.transition;xn.transition=null;try{W=1,_l(t,e,n,o)}finally{W=r,xn.transition=i}}function hh(t,e,n,o){var r=W,i=xn.transition;xn.transition=null;try{W=4,_l(t,e,n,o)}finally{W=r,xn.transition=i}}function _l(t,e,n,o){if(Pr){var r=ys(t,e,n,o);if(r===null)Bi(t,e,o,kr,n),Ca(t,o);else if(fh(r,t,e,n,o))o.stopPropagation();else if(Ca(t,o),e&4&&-1<dh.indexOf(t)){for(;r!==null;){var i=Go(r);if(i!==null&&Wd(i),i=ys(t,e,n,o),i===null&&Bi(t,e,o,kr,n),i===r)break;r=i}r!==null&&o.stopPropagation()}else Bi(t,e,o,null,n)}}var kr=null;function ys(t,e,n,o){if(kr=null,t=gl(o),t=Qt(t),t!==null)if(e=an(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Gd(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return kr=t,null}function Xd(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(nh()){case vl:return 1;case qd:return 4;case Nr:case oh:return 16;case zd:return 536870912;default:return 16}default:return 16}}var Nt=null,Tl=null,mr=null;function Zd(){if(mr)return mr;var t,e=Tl,n=e.length,o,r="value"in Nt?Nt.value:Nt.textContent,i=r.length;for(t=0;t<n&&e[t]===r[t];t++);var l=n-t;for(o=1;o<=l&&e[n-o]===r[i-o];o++);return mr=r.slice(t,1<o?1-o:void 0)}function hr(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function bo(){return!0}function wa(){return!1}function Ve(t){function e(n,o,r,i,l){this._reactName=n,this._targetInst=r,this.type=o,this.nativeEvent=i,this.target=l,this.currentTarget=null;for(var u in t)t.hasOwnProperty(u)&&(n=t[u],this[u]=n?n(i):i[u]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?bo:wa,this.isPropagationStopped=wa,this}return te(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=bo)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=bo)},persist:function(){},isPersistent:bo}),e}var qn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Sl=Ve(qn),Vo=te({},qn,{view:0,detail:0}),gh=Ve(Vo),ki,Mi,Xn,oi=te({},Vo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cl,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Xn&&(Xn&&t.type==="mousemove"?(ki=t.screenX-Xn.screenX,Mi=t.screenY-Xn.screenY):Mi=ki=0,Xn=t),ki)},movementY:function(t){return"movementY"in t?t.movementY:Mi}}),Aa=Ve(oi),vh=te({},oi,{dataTransfer:0}),yh=Ve(vh),Eh=te({},Vo,{relatedTarget:0}),Di=Ve(Eh),_h=te({},qn,{animationName:0,elapsedTime:0,pseudoElement:0}),Th=Ve(_h),Sh=te({},qn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ch=Ve(Sh),Ih=te({},qn,{data:0}),Ra=Ve(Ih),wh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ah={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Rh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Nh(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Rh[t])?!!e[t]:!1}function Cl(){return Nh}var xh=te({},Vo,{key:function(t){if(t.key){var e=wh[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=hr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ah[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cl,charCode:function(t){return t.type==="keypress"?hr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?hr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ph=Ve(xh),kh=te({},oi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Na=Ve(kh),Mh=te({},Vo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cl}),Dh=Ve(Mh),Lh=te({},qn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Uh=Ve(Lh),Fh=te({},oi,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Vh=Ve(Fh),Gh=[9,13,27,32],Il=ht&&"CompositionEvent"in window,co=null;ht&&"documentMode"in document&&(co=document.documentMode);var Hh=ht&&"TextEvent"in window&&!co,jd=ht&&(!Il||co&&8<co&&11>=co),xa=" ",Pa=!1;function ef(t,e){switch(t){case"keyup":return Gh.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function tf(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var mn=!1;function Bh(t,e){switch(t){case"compositionend":return tf(e);case"keypress":return e.which!==32?null:(Pa=!0,xa);case"textInput":return t=e.data,t===xa&&Pa?null:t;default:return null}}function Oh(t,e){if(mn)return t==="compositionend"||!Il&&ef(t,e)?(t=Zd(),mr=Tl=Nt=null,mn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return jd&&e.locale!=="ko"?null:e.data;default:return null}}var qh={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ka(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!qh[t.type]:e==="textarea"}function nf(t,e,n,o){Dd(o),e=Mr(e,"onChange"),0<e.length&&(n=new Sl("onChange","change",null,n,o),t.push({event:n,listeners:e}))}var fo=null,Io=null;function zh(t){mf(t,0)}function ri(t){var e=vn(t);if(Ad(e))return t}function $h(t,e){if(t==="change")return e}var of=!1;if(ht){var Li;if(ht){var Ui="oninput"in document;if(!Ui){var Ma=document.createElement("div");Ma.setAttribute("oninput","return;"),Ui=typeof Ma.oninput=="function"}Li=Ui}else Li=!1;of=Li&&(!document.documentMode||9<document.documentMode)}function Da(){fo&&(fo.detachEvent("onpropertychange",rf),Io=fo=null)}function rf(t){if(t.propertyName==="value"&&ri(Io)){var e=[];nf(e,Io,t,gl(t)),Vd(zh,e)}}function Jh(t,e,n){t==="focusin"?(Da(),fo=e,Io=n,fo.attachEvent("onpropertychange",rf)):t==="focusout"&&Da()}function Wh(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ri(Io)}function Kh(t,e){if(t==="click")return ri(e)}function Yh(t,e){if(t==="input"||t==="change")return ri(e)}function bh(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var tt=typeof Object.is=="function"?Object.is:bh;function wo(t,e){if(tt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),o=Object.keys(e);if(n.length!==o.length)return!1;for(o=0;o<n.length;o++){var r=n[o];if(!es.call(e,r)||!tt(t[r],e[r]))return!1}return!0}function La(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ua(t,e){var n=La(t);t=0;for(var o;n;){if(n.nodeType===3){if(o=t+n.textContent.length,t<=e&&o>=e)return{node:n,offset:e-t};t=o}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=La(n)}}function sf(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?sf(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function lf(){for(var t=window,e=wr();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=wr(t.document)}return e}function wl(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Qh(t){var e=lf(),n=t.focusedElem,o=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&sf(n.ownerDocument.documentElement,n)){if(o!==null&&wl(n)){if(e=o.start,t=o.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var r=n.textContent.length,i=Math.min(o.start,r);o=o.end===void 0?i:Math.min(o.end,r),!t.extend&&i>o&&(r=o,o=i,i=r),r=Ua(n,i);var l=Ua(n,o);r&&l&&(t.rangeCount!==1||t.anchorNode!==r.node||t.anchorOffset!==r.offset||t.focusNode!==l.node||t.focusOffset!==l.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),t.removeAllRanges(),i>o?(t.addRange(e),t.extend(l.node,l.offset)):(e.setEnd(l.node,l.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Xh=ht&&"documentMode"in document&&11>=document.documentMode,hn=null,Es=null,po=null,_s=!1;function Fa(t,e,n){var o=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;_s||hn==null||hn!==wr(o)||(o=hn,"selectionStart"in o&&wl(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),po&&wo(po,o)||(po=o,o=Mr(Es,"onSelect"),0<o.length&&(e=new Sl("onSelect","select",null,e,n),t.push({event:e,listeners:o}),e.target=hn)))}function Qo(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var gn={animationend:Qo("Animation","AnimationEnd"),animationiteration:Qo("Animation","AnimationIteration"),animationstart:Qo("Animation","AnimationStart"),transitionend:Qo("Transition","TransitionEnd")},Fi={},af={};ht&&(af=document.createElement("div").style,"AnimationEvent"in window||(delete gn.animationend.animation,delete gn.animationiteration.animation,delete gn.animationstart.animation),"TransitionEvent"in window||delete gn.transitionend.transition);function ii(t){if(Fi[t])return Fi[t];if(!gn[t])return t;var e=gn[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in af)return Fi[t]=e[n];return t}var uf=ii("animationend"),cf=ii("animationiteration"),df=ii("animationstart"),ff=ii("transitionend"),pf=new Map,Va="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ot(t,e){pf.set(t,e),ln(e,[t])}for(var Vi=0;Vi<Va.length;Vi++){var Gi=Va[Vi],Zh=Gi.toLowerCase(),jh=Gi[0].toUpperCase()+Gi.slice(1);Ot(Zh,"on"+jh)}Ot(uf,"onAnimationEnd");Ot(cf,"onAnimationIteration");Ot(df,"onAnimationStart");Ot("dblclick","onDoubleClick");Ot("focusin","onFocus");Ot("focusout","onBlur");Ot(ff,"onTransitionEnd");Ln("onMouseEnter",["mouseout","mouseover"]);Ln("onMouseLeave",["mouseout","mouseover"]);Ln("onPointerEnter",["pointerout","pointerover"]);Ln("onPointerLeave",["pointerout","pointerover"]);ln("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ln("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ln("onBeforeInput",["compositionend","keypress","textInput","paste"]);ln("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ln("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ln("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var so="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),eg=new Set("cancel close invalid load scroll toggle".split(" ").concat(so));function Ga(t,e,n){var o=t.type||"unknown-event";t.currentTarget=n,Zm(o,e,void 0,t),t.currentTarget=null}function mf(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var o=t[n],r=o.event;o=o.listeners;e:{var i=void 0;if(e)for(var l=o.length-1;0<=l;l--){var u=o[l],c=u.instance,d=u.currentTarget;if(u=u.listener,c!==i&&r.isPropagationStopped())break e;Ga(r,u,d),i=c}else for(l=0;l<o.length;l++){if(u=o[l],c=u.instance,d=u.currentTarget,u=u.listener,c!==i&&r.isPropagationStopped())break e;Ga(r,u,d),i=c}}}if(Rr)throw t=hs,Rr=!1,hs=null,t}function b(t,e){var n=e[ws];n===void 0&&(n=e[ws]=new Set);var o=t+"__bubble";n.has(o)||(hf(e,t,2,!1),n.add(o))}function Hi(t,e,n){var o=0;e&&(o|=4),hf(n,t,o,e)}var Xo="_reactListening"+Math.random().toString(36).slice(2);function Ao(t){if(!t[Xo]){t[Xo]=!0,Td.forEach(function(n){n!=="selectionchange"&&(eg.has(n)||Hi(n,!1,t),Hi(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Xo]||(e[Xo]=!0,Hi("selectionchange",!1,e))}}function hf(t,e,n,o){switch(Xd(e)){case 1:var r=mh;break;case 4:r=hh;break;default:r=_l}n=r.bind(null,e,n,t),r=void 0,!ms||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),o?r!==void 0?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):r!==void 0?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function Bi(t,e,n,o,r){var i=o;if(!(e&1)&&!(e&2)&&o!==null)e:for(;;){if(o===null)return;var l=o.tag;if(l===3||l===4){var u=o.stateNode.containerInfo;if(u===r||u.nodeType===8&&u.parentNode===r)break;if(l===4)for(l=o.return;l!==null;){var c=l.tag;if((c===3||c===4)&&(c=l.stateNode.containerInfo,c===r||c.nodeType===8&&c.parentNode===r))return;l=l.return}for(;u!==null;){if(l=Qt(u),l===null)return;if(c=l.tag,c===5||c===6){o=i=l;continue e}u=u.parentNode}}o=o.return}Vd(function(){var d=i,f=gl(n),m=[];e:{var p=pf.get(t);if(p!==void 0){var h=Sl,E=t;switch(t){case"keypress":if(hr(n)===0)break e;case"keydown":case"keyup":h=Ph;break;case"focusin":E="focus",h=Di;break;case"focusout":E="blur",h=Di;break;case"beforeblur":case"afterblur":h=Di;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=Aa;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=yh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=Dh;break;case uf:case cf:case df:h=Th;break;case ff:h=Uh;break;case"scroll":h=gh;break;case"wheel":h=Vh;break;case"copy":case"cut":case"paste":h=Ch;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=Na}var _=(e&4)!==0,S=!_&&t==="scroll",v=_?p!==null?p+"Capture":null:p;_=[];for(var g=d,y;g!==null;){y=g;var T=y.stateNode;if(y.tag===5&&T!==null&&(y=T,v!==null&&(T=_o(g,v),T!=null&&_.push(Ro(g,T,y)))),S)break;g=g.return}0<_.length&&(p=new h(p,E,null,n,f),m.push({event:p,listeners:_}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",h=t==="mouseout"||t==="pointerout",p&&n!==fs&&(E=n.relatedTarget||n.fromElement)&&(Qt(E)||E[gt]))break e;if((h||p)&&(p=f.window===f?f:(p=f.ownerDocument)?p.defaultView||p.parentWindow:window,h?(E=n.relatedTarget||n.toElement,h=d,E=E?Qt(E):null,E!==null&&(S=an(E),E!==S||E.tag!==5&&E.tag!==6)&&(E=null)):(h=null,E=d),h!==E)){if(_=Aa,T="onMouseLeave",v="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(_=Na,T="onPointerLeave",v="onPointerEnter",g="pointer"),S=h==null?p:vn(h),y=E==null?p:vn(E),p=new _(T,g+"leave",h,n,f),p.target=S,p.relatedTarget=y,T=null,Qt(f)===d&&(_=new _(v,g+"enter",E,n,f),_.target=y,_.relatedTarget=S,T=_),S=T,h&&E)t:{for(_=h,v=E,g=0,y=_;y;y=cn(y))g++;for(y=0,T=v;T;T=cn(T))y++;for(;0<g-y;)_=cn(_),g--;for(;0<y-g;)v=cn(v),y--;for(;g--;){if(_===v||v!==null&&_===v.alternate)break t;_=cn(_),v=cn(v)}_=null}else _=null;h!==null&&Ha(m,p,h,_,!1),E!==null&&S!==null&&Ha(m,S,E,_,!0)}}e:{if(p=d?vn(d):window,h=p.nodeName&&p.nodeName.toLowerCase(),h==="select"||h==="input"&&p.type==="file")var C=$h;else if(ka(p))if(of)C=Yh;else{C=Wh;var A=Jh}else(h=p.nodeName)&&h.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(C=Kh);if(C&&(C=C(t,d))){nf(m,C,n,f);break e}A&&A(t,p,d),t==="focusout"&&(A=p._wrapperState)&&A.controlled&&p.type==="number"&&ls(p,"number",p.value)}switch(A=d?vn(d):window,t){case"focusin":(ka(A)||A.contentEditable==="true")&&(hn=A,Es=d,po=null);break;case"focusout":po=Es=hn=null;break;case"mousedown":_s=!0;break;case"contextmenu":case"mouseup":case"dragend":_s=!1,Fa(m,n,f);break;case"selectionchange":if(Xh)break;case"keydown":case"keyup":Fa(m,n,f)}var w;if(Il)e:{switch(t){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else mn?ef(t,n)&&(R="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(R="onCompositionStart");R&&(jd&&n.locale!=="ko"&&(mn||R!=="onCompositionStart"?R==="onCompositionEnd"&&mn&&(w=Zd()):(Nt=f,Tl="value"in Nt?Nt.value:Nt.textContent,mn=!0)),A=Mr(d,R),0<A.length&&(R=new Ra(R,t,null,n,f),m.push({event:R,listeners:A}),w?R.data=w:(w=tf(n),w!==null&&(R.data=w)))),(w=Hh?Bh(t,n):Oh(t,n))&&(d=Mr(d,"onBeforeInput"),0<d.length&&(f=new Ra("onBeforeInput","beforeinput",null,n,f),m.push({event:f,listeners:d}),f.data=w))}mf(m,e)})}function Ro(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Mr(t,e){for(var n=e+"Capture",o=[];t!==null;){var r=t,i=r.stateNode;r.tag===5&&i!==null&&(r=i,i=_o(t,n),i!=null&&o.unshift(Ro(t,i,r)),i=_o(t,e),i!=null&&o.push(Ro(t,i,r))),t=t.return}return o}function cn(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Ha(t,e,n,o,r){for(var i=e._reactName,l=[];n!==null&&n!==o;){var u=n,c=u.alternate,d=u.stateNode;if(c!==null&&c===o)break;u.tag===5&&d!==null&&(u=d,r?(c=_o(n,i),c!=null&&l.unshift(Ro(n,c,u))):r||(c=_o(n,i),c!=null&&l.push(Ro(n,c,u)))),n=n.return}l.length!==0&&t.push({event:e,listeners:l})}var tg=/\r\n?/g,ng=/\u0000|\uFFFD/g;function Ba(t){return(typeof t=="string"?t:""+t).replace(tg,`
`).replace(ng,"")}function Zo(t,e,n){if(e=Ba(e),Ba(t)!==e&&n)throw Error(N(425))}function Dr(){}var Ts=null,Ss=null;function Cs(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Is=typeof setTimeout=="function"?setTimeout:void 0,og=typeof clearTimeout=="function"?clearTimeout:void 0,Oa=typeof Promise=="function"?Promise:void 0,rg=typeof queueMicrotask=="function"?queueMicrotask:typeof Oa<"u"?function(t){return Oa.resolve(null).then(t).catch(ig)}:Is;function ig(t){setTimeout(function(){throw t})}function Oi(t,e){var n=e,o=0;do{var r=n.nextSibling;if(t.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(o===0){t.removeChild(r),Co(e);return}o--}else n!=="$"&&n!=="$?"&&n!=="$!"||o++;n=r}while(n);Co(e)}function Lt(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function qa(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var zn=Math.random().toString(36).slice(2),it="__reactFiber$"+zn,No="__reactProps$"+zn,gt="__reactContainer$"+zn,ws="__reactEvents$"+zn,sg="__reactListeners$"+zn,lg="__reactHandles$"+zn;function Qt(t){var e=t[it];if(e)return e;for(var n=t.parentNode;n;){if(e=n[gt]||n[it]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=qa(t);t!==null;){if(n=t[it])return n;t=qa(t)}return e}t=n,n=t.parentNode}return null}function Go(t){return t=t[it]||t[gt],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function vn(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(N(33))}function si(t){return t[No]||null}var As=[],yn=-1;function qt(t){return{current:t}}function Q(t){0>yn||(t.current=As[yn],As[yn]=null,yn--)}function Y(t,e){yn++,As[yn]=t.current,t.current=e}var Bt={},_e=qt(Bt),xe=qt(!1),tn=Bt;function Un(t,e){var n=t.type.contextTypes;if(!n)return Bt;var o=t.stateNode;if(o&&o.__reactInternalMemoizedUnmaskedChildContext===e)return o.__reactInternalMemoizedMaskedChildContext;var r={},i;for(i in n)r[i]=e[i];return o&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=r),r}function Pe(t){return t=t.childContextTypes,t!=null}function Lr(){Q(xe),Q(_e)}function za(t,e,n){if(_e.current!==Bt)throw Error(N(168));Y(_e,e),Y(xe,n)}function gf(t,e,n){var o=t.stateNode;if(e=e.childContextTypes,typeof o.getChildContext!="function")return n;o=o.getChildContext();for(var r in o)if(!(r in e))throw Error(N(108,Jm(t)||"Unknown",r));return te({},n,o)}function Ur(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Bt,tn=_e.current,Y(_e,t),Y(xe,xe.current),!0}function $a(t,e,n){var o=t.stateNode;if(!o)throw Error(N(169));n?(t=gf(t,e,tn),o.__reactInternalMemoizedMergedChildContext=t,Q(xe),Q(_e),Y(_e,t)):Q(xe),Y(xe,n)}var ut=null,li=!1,qi=!1;function vf(t){ut===null?ut=[t]:ut.push(t)}function ag(t){li=!0,vf(t)}function zt(){if(!qi&&ut!==null){qi=!0;var t=0,e=W;try{var n=ut;for(W=1;t<n.length;t++){var o=n[t];do o=o(!0);while(o!==null)}ut=null,li=!1}catch(r){throw ut!==null&&(ut=ut.slice(t+1)),Od(vl,zt),r}finally{W=e,qi=!1}}return null}var En=[],_n=0,Fr=null,Vr=0,Ge=[],He=0,nn=null,dt=1,ft="";function Kt(t,e){En[_n++]=Vr,En[_n++]=Fr,Fr=t,Vr=e}function yf(t,e,n){Ge[He++]=dt,Ge[He++]=ft,Ge[He++]=nn,nn=t;var o=dt;t=ft;var r=32-Xe(o)-1;o&=~(1<<r),n+=1;var i=32-Xe(e)+r;if(30<i){var l=r-r%5;i=(o&(1<<l)-1).toString(32),o>>=l,r-=l,dt=1<<32-Xe(e)+r|n<<r|o,ft=i+t}else dt=1<<i|n<<r|o,ft=t}function Al(t){t.return!==null&&(Kt(t,1),yf(t,1,0))}function Rl(t){for(;t===Fr;)Fr=En[--_n],En[_n]=null,Vr=En[--_n],En[_n]=null;for(;t===nn;)nn=Ge[--He],Ge[He]=null,ft=Ge[--He],Ge[He]=null,dt=Ge[--He],Ge[He]=null}var Le=null,De=null,X=!1,Qe=null;function Ef(t,e){var n=Be(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Ja(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Le=t,De=Lt(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Le=t,De=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=nn!==null?{id:dt,overflow:ft}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Be(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Le=t,De=null,!0):!1;default:return!1}}function Rs(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Ns(t){if(X){var e=De;if(e){var n=e;if(!Ja(t,e)){if(Rs(t))throw Error(N(418));e=Lt(n.nextSibling);var o=Le;e&&Ja(t,e)?Ef(o,n):(t.flags=t.flags&-4097|2,X=!1,Le=t)}}else{if(Rs(t))throw Error(N(418));t.flags=t.flags&-4097|2,X=!1,Le=t}}}function Wa(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Le=t}function jo(t){if(t!==Le)return!1;if(!X)return Wa(t),X=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Cs(t.type,t.memoizedProps)),e&&(e=De)){if(Rs(t))throw _f(),Error(N(418));for(;e;)Ef(t,e),e=Lt(e.nextSibling)}if(Wa(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(N(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){De=Lt(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}De=null}}else De=Le?Lt(t.stateNode.nextSibling):null;return!0}function _f(){for(var t=De;t;)t=Lt(t.nextSibling)}function Fn(){De=Le=null,X=!1}function Nl(t){Qe===null?Qe=[t]:Qe.push(t)}var ug=_t.ReactCurrentBatchConfig;function Zn(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(N(309));var o=n.stateNode}if(!o)throw Error(N(147,t));var r=o,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(l){var u=r.refs;l===null?delete u[i]:u[i]=l},e._stringRef=i,e)}if(typeof t!="string")throw Error(N(284));if(!n._owner)throw Error(N(290,t))}return t}function er(t,e){throw t=Object.prototype.toString.call(e),Error(N(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Ka(t){var e=t._init;return e(t._payload)}function Tf(t){function e(v,g){if(t){var y=v.deletions;y===null?(v.deletions=[g],v.flags|=16):y.push(g)}}function n(v,g){if(!t)return null;for(;g!==null;)e(v,g),g=g.sibling;return null}function o(v,g){for(v=new Map;g!==null;)g.key!==null?v.set(g.key,g):v.set(g.index,g),g=g.sibling;return v}function r(v,g){return v=Gt(v,g),v.index=0,v.sibling=null,v}function i(v,g,y){return v.index=y,t?(y=v.alternate,y!==null?(y=y.index,y<g?(v.flags|=2,g):y):(v.flags|=2,g)):(v.flags|=1048576,g)}function l(v){return t&&v.alternate===null&&(v.flags|=2),v}function u(v,g,y,T){return g===null||g.tag!==6?(g=bi(y,v.mode,T),g.return=v,g):(g=r(g,y),g.return=v,g)}function c(v,g,y,T){var C=y.type;return C===pn?f(v,g,y.props.children,T,y.key):g!==null&&(g.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===It&&Ka(C)===g.type)?(T=r(g,y.props),T.ref=Zn(v,g,y),T.return=v,T):(T=Sr(y.type,y.key,y.props,null,v.mode,T),T.ref=Zn(v,g,y),T.return=v,T)}function d(v,g,y,T){return g===null||g.tag!==4||g.stateNode.containerInfo!==y.containerInfo||g.stateNode.implementation!==y.implementation?(g=Qi(y,v.mode,T),g.return=v,g):(g=r(g,y.children||[]),g.return=v,g)}function f(v,g,y,T,C){return g===null||g.tag!==7?(g=en(y,v.mode,T,C),g.return=v,g):(g=r(g,y),g.return=v,g)}function m(v,g,y){if(typeof g=="string"&&g!==""||typeof g=="number")return g=bi(""+g,v.mode,y),g.return=v,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case zo:return y=Sr(g.type,g.key,g.props,null,v.mode,y),y.ref=Zn(v,null,g),y.return=v,y;case fn:return g=Qi(g,v.mode,y),g.return=v,g;case It:var T=g._init;return m(v,T(g._payload),y)}if(ro(g)||Kn(g))return g=en(g,v.mode,y,null),g.return=v,g;er(v,g)}return null}function p(v,g,y,T){var C=g!==null?g.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return C!==null?null:u(v,g,""+y,T);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case zo:return y.key===C?c(v,g,y,T):null;case fn:return y.key===C?d(v,g,y,T):null;case It:return C=y._init,p(v,g,C(y._payload),T)}if(ro(y)||Kn(y))return C!==null?null:f(v,g,y,T,null);er(v,y)}return null}function h(v,g,y,T,C){if(typeof T=="string"&&T!==""||typeof T=="number")return v=v.get(y)||null,u(g,v,""+T,C);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case zo:return v=v.get(T.key===null?y:T.key)||null,c(g,v,T,C);case fn:return v=v.get(T.key===null?y:T.key)||null,d(g,v,T,C);case It:var A=T._init;return h(v,g,y,A(T._payload),C)}if(ro(T)||Kn(T))return v=v.get(y)||null,f(g,v,T,C,null);er(g,T)}return null}function E(v,g,y,T){for(var C=null,A=null,w=g,R=g=0,P=null;w!==null&&R<y.length;R++){w.index>R?(P=w,w=null):P=w.sibling;var x=p(v,w,y[R],T);if(x===null){w===null&&(w=P);break}t&&w&&x.alternate===null&&e(v,w),g=i(x,g,R),A===null?C=x:A.sibling=x,A=x,w=P}if(R===y.length)return n(v,w),X&&Kt(v,R),C;if(w===null){for(;R<y.length;R++)w=m(v,y[R],T),w!==null&&(g=i(w,g,R),A===null?C=w:A.sibling=w,A=w);return X&&Kt(v,R),C}for(w=o(v,w);R<y.length;R++)P=h(w,v,R,y[R],T),P!==null&&(t&&P.alternate!==null&&w.delete(P.key===null?R:P.key),g=i(P,g,R),A===null?C=P:A.sibling=P,A=P);return t&&w.forEach(function(H){return e(v,H)}),X&&Kt(v,R),C}function _(v,g,y,T){var C=Kn(y);if(typeof C!="function")throw Error(N(150));if(y=C.call(y),y==null)throw Error(N(151));for(var A=C=null,w=g,R=g=0,P=null,x=y.next();w!==null&&!x.done;R++,x=y.next()){w.index>R?(P=w,w=null):P=w.sibling;var H=p(v,w,x.value,T);if(H===null){w===null&&(w=P);break}t&&w&&H.alternate===null&&e(v,w),g=i(H,g,R),A===null?C=H:A.sibling=H,A=H,w=P}if(x.done)return n(v,w),X&&Kt(v,R),C;if(w===null){for(;!x.done;R++,x=y.next())x=m(v,x.value,T),x!==null&&(g=i(x,g,R),A===null?C=x:A.sibling=x,A=x);return X&&Kt(v,R),C}for(w=o(v,w);!x.done;R++,x=y.next())x=h(w,v,R,x.value,T),x!==null&&(t&&x.alternate!==null&&w.delete(x.key===null?R:x.key),g=i(x,g,R),A===null?C=x:A.sibling=x,A=x);return t&&w.forEach(function(ie){return e(v,ie)}),X&&Kt(v,R),C}function S(v,g,y,T){if(typeof y=="object"&&y!==null&&y.type===pn&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case zo:e:{for(var C=y.key,A=g;A!==null;){if(A.key===C){if(C=y.type,C===pn){if(A.tag===7){n(v,A.sibling),g=r(A,y.props.children),g.return=v,v=g;break e}}else if(A.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===It&&Ka(C)===A.type){n(v,A.sibling),g=r(A,y.props),g.ref=Zn(v,A,y),g.return=v,v=g;break e}n(v,A);break}else e(v,A);A=A.sibling}y.type===pn?(g=en(y.props.children,v.mode,T,y.key),g.return=v,v=g):(T=Sr(y.type,y.key,y.props,null,v.mode,T),T.ref=Zn(v,g,y),T.return=v,v=T)}return l(v);case fn:e:{for(A=y.key;g!==null;){if(g.key===A)if(g.tag===4&&g.stateNode.containerInfo===y.containerInfo&&g.stateNode.implementation===y.implementation){n(v,g.sibling),g=r(g,y.children||[]),g.return=v,v=g;break e}else{n(v,g);break}else e(v,g);g=g.sibling}g=Qi(y,v.mode,T),g.return=v,v=g}return l(v);case It:return A=y._init,S(v,g,A(y._payload),T)}if(ro(y))return E(v,g,y,T);if(Kn(y))return _(v,g,y,T);er(v,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,g!==null&&g.tag===6?(n(v,g.sibling),g=r(g,y),g.return=v,v=g):(n(v,g),g=bi(y,v.mode,T),g.return=v,v=g),l(v)):n(v,g)}return S}var Vn=Tf(!0),Sf=Tf(!1),Gr=qt(null),Hr=null,Tn=null,xl=null;function Pl(){xl=Tn=Hr=null}function kl(t){var e=Gr.current;Q(Gr),t._currentValue=e}function xs(t,e,n){for(;t!==null;){var o=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,o!==null&&(o.childLanes|=e)):o!==null&&(o.childLanes&e)!==e&&(o.childLanes|=e),t===n)break;t=t.return}}function Pn(t,e){Hr=t,xl=Tn=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ne=!0),t.firstContext=null)}function ze(t){var e=t._currentValue;if(xl!==t)if(t={context:t,memoizedValue:e,next:null},Tn===null){if(Hr===null)throw Error(N(308));Tn=t,Hr.dependencies={lanes:0,firstContext:t}}else Tn=Tn.next=t;return e}var Xt=null;function Ml(t){Xt===null?Xt=[t]:Xt.push(t)}function Cf(t,e,n,o){var r=e.interleaved;return r===null?(n.next=n,Ml(e)):(n.next=r.next,r.next=n),e.interleaved=n,vt(t,o)}function vt(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var wt=!1;function Dl(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function If(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function mt(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ut(t,e,n){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,q&2){var r=o.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),o.pending=e,vt(t,n)}return r=o.interleaved,r===null?(e.next=e,Ml(o)):(e.next=r.next,r.next=e),o.interleaved=e,vt(t,n)}function gr(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var o=e.lanes;o&=t.pendingLanes,n|=o,e.lanes=n,yl(t,n)}}function Ya(t,e){var n=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,n===o)){var r=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?r=i=l:i=i.next=l,n=n.next}while(n!==null);i===null?r=i=e:i=i.next=e}else r=i=e;n={baseState:o.baseState,firstBaseUpdate:r,lastBaseUpdate:i,shared:o.shared,effects:o.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Br(t,e,n,o){var r=t.updateQueue;wt=!1;var i=r.firstBaseUpdate,l=r.lastBaseUpdate,u=r.shared.pending;if(u!==null){r.shared.pending=null;var c=u,d=c.next;c.next=null,l===null?i=d:l.next=d,l=c;var f=t.alternate;f!==null&&(f=f.updateQueue,u=f.lastBaseUpdate,u!==l&&(u===null?f.firstBaseUpdate=d:u.next=d,f.lastBaseUpdate=c))}if(i!==null){var m=r.baseState;l=0,f=d=c=null,u=i;do{var p=u.lane,h=u.eventTime;if((o&p)===p){f!==null&&(f=f.next={eventTime:h,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var E=t,_=u;switch(p=e,h=n,_.tag){case 1:if(E=_.payload,typeof E=="function"){m=E.call(h,m,p);break e}m=E;break e;case 3:E.flags=E.flags&-65537|128;case 0:if(E=_.payload,p=typeof E=="function"?E.call(h,m,p):E,p==null)break e;m=te({},m,p);break e;case 2:wt=!0}}u.callback!==null&&u.lane!==0&&(t.flags|=64,p=r.effects,p===null?r.effects=[u]:p.push(u))}else h={eventTime:h,lane:p,tag:u.tag,payload:u.payload,callback:u.callback,next:null},f===null?(d=f=h,c=m):f=f.next=h,l|=p;if(u=u.next,u===null){if(u=r.shared.pending,u===null)break;p=u,u=p.next,p.next=null,r.lastBaseUpdate=p,r.shared.pending=null}}while(!0);if(f===null&&(c=m),r.baseState=c,r.firstBaseUpdate=d,r.lastBaseUpdate=f,e=r.shared.interleaved,e!==null){r=e;do l|=r.lane,r=r.next;while(r!==e)}else i===null&&(r.shared.lanes=0);rn|=l,t.lanes=l,t.memoizedState=m}}function ba(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var o=t[e],r=o.callback;if(r!==null){if(o.callback=null,o=n,typeof r!="function")throw Error(N(191,r));r.call(o)}}}var Ho={},lt=qt(Ho),xo=qt(Ho),Po=qt(Ho);function Zt(t){if(t===Ho)throw Error(N(174));return t}function Ll(t,e){switch(Y(Po,e),Y(xo,t),Y(lt,Ho),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:us(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=us(e,t)}Q(lt),Y(lt,e)}function Gn(){Q(lt),Q(xo),Q(Po)}function wf(t){Zt(Po.current);var e=Zt(lt.current),n=us(e,t.type);e!==n&&(Y(xo,t),Y(lt,n))}function Ul(t){xo.current===t&&(Q(lt),Q(xo))}var j=qt(0);function Or(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var zi=[];function Fl(){for(var t=0;t<zi.length;t++)zi[t]._workInProgressVersionPrimary=null;zi.length=0}var vr=_t.ReactCurrentDispatcher,$i=_t.ReactCurrentBatchConfig,on=0,ee=null,le=null,ce=null,qr=!1,mo=!1,ko=0,cg=0;function ge(){throw Error(N(321))}function Vl(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!tt(t[n],e[n]))return!1;return!0}function Gl(t,e,n,o,r,i){if(on=i,ee=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,vr.current=t===null||t.memoizedState===null?mg:hg,t=n(o,r),mo){i=0;do{if(mo=!1,ko=0,25<=i)throw Error(N(301));i+=1,ce=le=null,e.updateQueue=null,vr.current=gg,t=n(o,r)}while(mo)}if(vr.current=zr,e=le!==null&&le.next!==null,on=0,ce=le=ee=null,qr=!1,e)throw Error(N(300));return t}function Hl(){var t=ko!==0;return ko=0,t}function rt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ce===null?ee.memoizedState=ce=t:ce=ce.next=t,ce}function $e(){if(le===null){var t=ee.alternate;t=t!==null?t.memoizedState:null}else t=le.next;var e=ce===null?ee.memoizedState:ce.next;if(e!==null)ce=e,le=t;else{if(t===null)throw Error(N(310));le=t,t={memoizedState:le.memoizedState,baseState:le.baseState,baseQueue:le.baseQueue,queue:le.queue,next:null},ce===null?ee.memoizedState=ce=t:ce=ce.next=t}return ce}function Mo(t,e){return typeof e=="function"?e(t):e}function Ji(t){var e=$e(),n=e.queue;if(n===null)throw Error(N(311));n.lastRenderedReducer=t;var o=le,r=o.baseQueue,i=n.pending;if(i!==null){if(r!==null){var l=r.next;r.next=i.next,i.next=l}o.baseQueue=r=i,n.pending=null}if(r!==null){i=r.next,o=o.baseState;var u=l=null,c=null,d=i;do{var f=d.lane;if((on&f)===f)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),o=d.hasEagerState?d.eagerState:t(o,d.action);else{var m={lane:f,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(u=c=m,l=o):c=c.next=m,ee.lanes|=f,rn|=f}d=d.next}while(d!==null&&d!==i);c===null?l=o:c.next=u,tt(o,e.memoizedState)||(Ne=!0),e.memoizedState=o,e.baseState=l,e.baseQueue=c,n.lastRenderedState=o}if(t=n.interleaved,t!==null){r=t;do i=r.lane,ee.lanes|=i,rn|=i,r=r.next;while(r!==t)}else r===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Wi(t){var e=$e(),n=e.queue;if(n===null)throw Error(N(311));n.lastRenderedReducer=t;var o=n.dispatch,r=n.pending,i=e.memoizedState;if(r!==null){n.pending=null;var l=r=r.next;do i=t(i,l.action),l=l.next;while(l!==r);tt(i,e.memoizedState)||(Ne=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,o]}function Af(){}function Rf(t,e){var n=ee,o=$e(),r=e(),i=!tt(o.memoizedState,r);if(i&&(o.memoizedState=r,Ne=!0),o=o.queue,Bl(Pf.bind(null,n,o,t),[t]),o.getSnapshot!==e||i||ce!==null&&ce.memoizedState.tag&1){if(n.flags|=2048,Do(9,xf.bind(null,n,o,r,e),void 0,null),de===null)throw Error(N(349));on&30||Nf(n,e,r)}return r}function Nf(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ee.updateQueue,e===null?(e={lastEffect:null,stores:null},ee.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function xf(t,e,n,o){e.value=n,e.getSnapshot=o,kf(e)&&Mf(t)}function Pf(t,e,n){return n(function(){kf(e)&&Mf(t)})}function kf(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!tt(t,n)}catch{return!0}}function Mf(t){var e=vt(t,1);e!==null&&Ze(e,t,1,-1)}function Qa(t){var e=rt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Mo,lastRenderedState:t},e.queue=t,t=t.dispatch=pg.bind(null,ee,t),[e.memoizedState,t]}function Do(t,e,n,o){return t={tag:t,create:e,destroy:n,deps:o,next:null},e=ee.updateQueue,e===null?(e={lastEffect:null,stores:null},ee.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(o=n.next,n.next=t,t.next=o,e.lastEffect=t)),t}function Df(){return $e().memoizedState}function yr(t,e,n,o){var r=rt();ee.flags|=t,r.memoizedState=Do(1|e,n,void 0,o===void 0?null:o)}function ai(t,e,n,o){var r=$e();o=o===void 0?null:o;var i=void 0;if(le!==null){var l=le.memoizedState;if(i=l.destroy,o!==null&&Vl(o,l.deps)){r.memoizedState=Do(e,n,i,o);return}}ee.flags|=t,r.memoizedState=Do(1|e,n,i,o)}function Xa(t,e){return yr(8390656,8,t,e)}function Bl(t,e){return ai(2048,8,t,e)}function Lf(t,e){return ai(4,2,t,e)}function Uf(t,e){return ai(4,4,t,e)}function Ff(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Vf(t,e,n){return n=n!=null?n.concat([t]):null,ai(4,4,Ff.bind(null,e,t),n)}function Ol(){}function Gf(t,e){var n=$e();e=e===void 0?null:e;var o=n.memoizedState;return o!==null&&e!==null&&Vl(e,o[1])?o[0]:(n.memoizedState=[t,e],t)}function Hf(t,e){var n=$e();e=e===void 0?null:e;var o=n.memoizedState;return o!==null&&e!==null&&Vl(e,o[1])?o[0]:(t=t(),n.memoizedState=[t,e],t)}function Bf(t,e,n){return on&21?(tt(n,e)||(n=$d(),ee.lanes|=n,rn|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ne=!0),t.memoizedState=n)}function dg(t,e){var n=W;W=n!==0&&4>n?n:4,t(!0);var o=$i.transition;$i.transition={};try{t(!1),e()}finally{W=n,$i.transition=o}}function Of(){return $e().memoizedState}function fg(t,e,n){var o=Vt(t);if(n={lane:o,action:n,hasEagerState:!1,eagerState:null,next:null},qf(t))zf(e,n);else if(n=Cf(t,e,n,o),n!==null){var r=Ce();Ze(n,t,o,r),$f(n,e,o)}}function pg(t,e,n){var o=Vt(t),r={lane:o,action:n,hasEagerState:!1,eagerState:null,next:null};if(qf(t))zf(e,r);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var l=e.lastRenderedState,u=i(l,n);if(r.hasEagerState=!0,r.eagerState=u,tt(u,l)){var c=e.interleaved;c===null?(r.next=r,Ml(e)):(r.next=c.next,c.next=r),e.interleaved=r;return}}catch{}finally{}n=Cf(t,e,r,o),n!==null&&(r=Ce(),Ze(n,t,o,r),$f(n,e,o))}}function qf(t){var e=t.alternate;return t===ee||e!==null&&e===ee}function zf(t,e){mo=qr=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function $f(t,e,n){if(n&4194240){var o=e.lanes;o&=t.pendingLanes,n|=o,e.lanes=n,yl(t,n)}}var zr={readContext:ze,useCallback:ge,useContext:ge,useEffect:ge,useImperativeHandle:ge,useInsertionEffect:ge,useLayoutEffect:ge,useMemo:ge,useReducer:ge,useRef:ge,useState:ge,useDebugValue:ge,useDeferredValue:ge,useTransition:ge,useMutableSource:ge,useSyncExternalStore:ge,useId:ge,unstable_isNewReconciler:!1},mg={readContext:ze,useCallback:function(t,e){return rt().memoizedState=[t,e===void 0?null:e],t},useContext:ze,useEffect:Xa,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,yr(4194308,4,Ff.bind(null,e,t),n)},useLayoutEffect:function(t,e){return yr(4194308,4,t,e)},useInsertionEffect:function(t,e){return yr(4,2,t,e)},useMemo:function(t,e){var n=rt();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var o=rt();return e=n!==void 0?n(e):e,o.memoizedState=o.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},o.queue=t,t=t.dispatch=fg.bind(null,ee,t),[o.memoizedState,t]},useRef:function(t){var e=rt();return t={current:t},e.memoizedState=t},useState:Qa,useDebugValue:Ol,useDeferredValue:function(t){return rt().memoizedState=t},useTransition:function(){var t=Qa(!1),e=t[0];return t=dg.bind(null,t[1]),rt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var o=ee,r=rt();if(X){if(n===void 0)throw Error(N(407));n=n()}else{if(n=e(),de===null)throw Error(N(349));on&30||Nf(o,e,n)}r.memoizedState=n;var i={value:n,getSnapshot:e};return r.queue=i,Xa(Pf.bind(null,o,i,t),[t]),o.flags|=2048,Do(9,xf.bind(null,o,i,n,e),void 0,null),n},useId:function(){var t=rt(),e=de.identifierPrefix;if(X){var n=ft,o=dt;n=(o&~(1<<32-Xe(o)-1)).toString(32)+n,e=":"+e+"R"+n,n=ko++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=cg++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},hg={readContext:ze,useCallback:Gf,useContext:ze,useEffect:Bl,useImperativeHandle:Vf,useInsertionEffect:Lf,useLayoutEffect:Uf,useMemo:Hf,useReducer:Ji,useRef:Df,useState:function(){return Ji(Mo)},useDebugValue:Ol,useDeferredValue:function(t){var e=$e();return Bf(e,le.memoizedState,t)},useTransition:function(){var t=Ji(Mo)[0],e=$e().memoizedState;return[t,e]},useMutableSource:Af,useSyncExternalStore:Rf,useId:Of,unstable_isNewReconciler:!1},gg={readContext:ze,useCallback:Gf,useContext:ze,useEffect:Bl,useImperativeHandle:Vf,useInsertionEffect:Lf,useLayoutEffect:Uf,useMemo:Hf,useReducer:Wi,useRef:Df,useState:function(){return Wi(Mo)},useDebugValue:Ol,useDeferredValue:function(t){var e=$e();return le===null?e.memoizedState=t:Bf(e,le.memoizedState,t)},useTransition:function(){var t=Wi(Mo)[0],e=$e().memoizedState;return[t,e]},useMutableSource:Af,useSyncExternalStore:Rf,useId:Of,unstable_isNewReconciler:!1};function Ye(t,e){if(t&&t.defaultProps){e=te({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Ps(t,e,n,o){e=t.memoizedState,n=n(o,e),n=n==null?e:te({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var ui={isMounted:function(t){return(t=t._reactInternals)?an(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var o=Ce(),r=Vt(t),i=mt(o,r);i.payload=e,n!=null&&(i.callback=n),e=Ut(t,i,r),e!==null&&(Ze(e,t,r,o),gr(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var o=Ce(),r=Vt(t),i=mt(o,r);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Ut(t,i,r),e!==null&&(Ze(e,t,r,o),gr(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ce(),o=Vt(t),r=mt(n,o);r.tag=2,e!=null&&(r.callback=e),e=Ut(t,r,o),e!==null&&(Ze(e,t,o,n),gr(e,t,o))}};function Za(t,e,n,o,r,i,l){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,i,l):e.prototype&&e.prototype.isPureReactComponent?!wo(n,o)||!wo(r,i):!0}function Jf(t,e,n){var o=!1,r=Bt,i=e.contextType;return typeof i=="object"&&i!==null?i=ze(i):(r=Pe(e)?tn:_e.current,o=e.contextTypes,i=(o=o!=null)?Un(t,r):Bt),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ui,t.stateNode=e,e._reactInternals=t,o&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=i),e}function ja(t,e,n,o){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,o),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,o),e.state!==t&&ui.enqueueReplaceState(e,e.state,null)}function ks(t,e,n,o){var r=t.stateNode;r.props=n,r.state=t.memoizedState,r.refs={},Dl(t);var i=e.contextType;typeof i=="object"&&i!==null?r.context=ze(i):(i=Pe(e)?tn:_e.current,r.context=Un(t,i)),r.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Ps(t,e,i,n),r.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&ui.enqueueReplaceState(r,r.state,null),Br(t,n,r,o),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308)}function Hn(t,e){try{var n="",o=e;do n+=$m(o),o=o.return;while(o);var r=n}catch(i){r=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:r,digest:null}}function Ki(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Ms(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var vg=typeof WeakMap=="function"?WeakMap:Map;function Wf(t,e,n){n=mt(-1,n),n.tag=3,n.payload={element:null};var o=e.value;return n.callback=function(){Jr||(Jr=!0,qs=o),Ms(t,e)},n}function Kf(t,e,n){n=mt(-1,n),n.tag=3;var o=t.type.getDerivedStateFromError;if(typeof o=="function"){var r=e.value;n.payload=function(){return o(r)},n.callback=function(){Ms(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Ms(t,e),typeof o!="function"&&(Ft===null?Ft=new Set([this]):Ft.add(this));var l=e.stack;this.componentDidCatch(e.value,{componentStack:l!==null?l:""})}),n}function eu(t,e,n){var o=t.pingCache;if(o===null){o=t.pingCache=new vg;var r=new Set;o.set(e,r)}else r=o.get(e),r===void 0&&(r=new Set,o.set(e,r));r.has(n)||(r.add(n),t=kg.bind(null,t,e,n),e.then(t,t))}function tu(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function nu(t,e,n,o,r){return t.mode&1?(t.flags|=65536,t.lanes=r,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=mt(-1,1),e.tag=2,Ut(n,e,1))),n.lanes|=1),t)}var yg=_t.ReactCurrentOwner,Ne=!1;function Se(t,e,n,o){e.child=t===null?Sf(e,null,n,o):Vn(e,t.child,n,o)}function ou(t,e,n,o,r){n=n.render;var i=e.ref;return Pn(e,r),o=Gl(t,e,n,o,i,r),n=Hl(),t!==null&&!Ne?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,yt(t,e,r)):(X&&n&&Al(e),e.flags|=1,Se(t,e,o,r),e.child)}function ru(t,e,n,o,r){if(t===null){var i=n.type;return typeof i=="function"&&!bl(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,Yf(t,e,i,o,r)):(t=Sr(n.type,null,o,e,e.mode,r),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&r)){var l=i.memoizedProps;if(n=n.compare,n=n!==null?n:wo,n(l,o)&&t.ref===e.ref)return yt(t,e,r)}return e.flags|=1,t=Gt(i,o),t.ref=e.ref,t.return=e,e.child=t}function Yf(t,e,n,o,r){if(t!==null){var i=t.memoizedProps;if(wo(i,o)&&t.ref===e.ref)if(Ne=!1,e.pendingProps=o=i,(t.lanes&r)!==0)t.flags&131072&&(Ne=!0);else return e.lanes=t.lanes,yt(t,e,r)}return Ds(t,e,n,o,r)}function bf(t,e,n){var o=e.pendingProps,r=o.children,i=t!==null?t.memoizedState:null;if(o.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Y(Cn,Me),Me|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Y(Cn,Me),Me|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},o=i!==null?i.baseLanes:n,Y(Cn,Me),Me|=o}else i!==null?(o=i.baseLanes|n,e.memoizedState=null):o=n,Y(Cn,Me),Me|=o;return Se(t,e,r,n),e.child}function Qf(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Ds(t,e,n,o,r){var i=Pe(n)?tn:_e.current;return i=Un(e,i),Pn(e,r),n=Gl(t,e,n,o,i,r),o=Hl(),t!==null&&!Ne?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,yt(t,e,r)):(X&&o&&Al(e),e.flags|=1,Se(t,e,n,r),e.child)}function iu(t,e,n,o,r){if(Pe(n)){var i=!0;Ur(e)}else i=!1;if(Pn(e,r),e.stateNode===null)Er(t,e),Jf(e,n,o),ks(e,n,o,r),o=!0;else if(t===null){var l=e.stateNode,u=e.memoizedProps;l.props=u;var c=l.context,d=n.contextType;typeof d=="object"&&d!==null?d=ze(d):(d=Pe(n)?tn:_e.current,d=Un(e,d));var f=n.getDerivedStateFromProps,m=typeof f=="function"||typeof l.getSnapshotBeforeUpdate=="function";m||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(u!==o||c!==d)&&ja(e,l,o,d),wt=!1;var p=e.memoizedState;l.state=p,Br(e,o,l,r),c=e.memoizedState,u!==o||p!==c||xe.current||wt?(typeof f=="function"&&(Ps(e,n,f,o),c=e.memoizedState),(u=wt||Za(e,n,u,o,p,c,d))?(m||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(e.flags|=4194308)):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=o,e.memoizedState=c),l.props=o,l.state=c,l.context=d,o=u):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),o=!1)}else{l=e.stateNode,If(t,e),u=e.memoizedProps,d=e.type===e.elementType?u:Ye(e.type,u),l.props=d,m=e.pendingProps,p=l.context,c=n.contextType,typeof c=="object"&&c!==null?c=ze(c):(c=Pe(n)?tn:_e.current,c=Un(e,c));var h=n.getDerivedStateFromProps;(f=typeof h=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(u!==m||p!==c)&&ja(e,l,o,c),wt=!1,p=e.memoizedState,l.state=p,Br(e,o,l,r);var E=e.memoizedState;u!==m||p!==E||xe.current||wt?(typeof h=="function"&&(Ps(e,n,h,o),E=e.memoizedState),(d=wt||Za(e,n,d,o,p,E,c)||!1)?(f||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(o,E,c),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(o,E,c)),typeof l.componentDidUpdate=="function"&&(e.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof l.componentDidUpdate!="function"||u===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=o,e.memoizedState=E),l.props=o,l.state=E,l.context=c,o=d):(typeof l.componentDidUpdate!="function"||u===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),o=!1)}return Ls(t,e,n,o,i,r)}function Ls(t,e,n,o,r,i){Qf(t,e);var l=(e.flags&128)!==0;if(!o&&!l)return r&&$a(e,n,!1),yt(t,e,i);o=e.stateNode,yg.current=e;var u=l&&typeof n.getDerivedStateFromError!="function"?null:o.render();return e.flags|=1,t!==null&&l?(e.child=Vn(e,t.child,null,i),e.child=Vn(e,null,u,i)):Se(t,e,u,i),e.memoizedState=o.state,r&&$a(e,n,!0),e.child}function Xf(t){var e=t.stateNode;e.pendingContext?za(t,e.pendingContext,e.pendingContext!==e.context):e.context&&za(t,e.context,!1),Ll(t,e.containerInfo)}function su(t,e,n,o,r){return Fn(),Nl(r),e.flags|=256,Se(t,e,n,o),e.child}var Us={dehydrated:null,treeContext:null,retryLane:0};function Fs(t){return{baseLanes:t,cachePool:null,transitions:null}}function Zf(t,e,n){var o=e.pendingProps,r=j.current,i=!1,l=(e.flags&128)!==0,u;if((u=l)||(u=t!==null&&t.memoizedState===null?!1:(r&2)!==0),u?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(r|=1),Y(j,r&1),t===null)return Ns(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(l=o.children,t=o.fallback,i?(o=e.mode,i=e.child,l={mode:"hidden",children:l},!(o&1)&&i!==null?(i.childLanes=0,i.pendingProps=l):i=fi(l,o,0,null),t=en(t,o,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Fs(n),e.memoizedState=Us,t):ql(e,l));if(r=t.memoizedState,r!==null&&(u=r.dehydrated,u!==null))return Eg(t,e,l,o,u,r,n);if(i){i=o.fallback,l=e.mode,r=t.child,u=r.sibling;var c={mode:"hidden",children:o.children};return!(l&1)&&e.child!==r?(o=e.child,o.childLanes=0,o.pendingProps=c,e.deletions=null):(o=Gt(r,c),o.subtreeFlags=r.subtreeFlags&14680064),u!==null?i=Gt(u,i):(i=en(i,l,n,null),i.flags|=2),i.return=e,o.return=e,o.sibling=i,e.child=o,o=i,i=e.child,l=t.child.memoizedState,l=l===null?Fs(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},i.memoizedState=l,i.childLanes=t.childLanes&~n,e.memoizedState=Us,o}return i=t.child,t=i.sibling,o=Gt(i,{mode:"visible",children:o.children}),!(e.mode&1)&&(o.lanes=n),o.return=e,o.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=o,e.memoizedState=null,o}function ql(t,e){return e=fi({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function tr(t,e,n,o){return o!==null&&Nl(o),Vn(e,t.child,null,n),t=ql(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Eg(t,e,n,o,r,i,l){if(n)return e.flags&256?(e.flags&=-257,o=Ki(Error(N(422))),tr(t,e,l,o)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=o.fallback,r=e.mode,o=fi({mode:"visible",children:o.children},r,0,null),i=en(i,r,l,null),i.flags|=2,o.return=e,i.return=e,o.sibling=i,e.child=o,e.mode&1&&Vn(e,t.child,null,l),e.child.memoizedState=Fs(l),e.memoizedState=Us,i);if(!(e.mode&1))return tr(t,e,l,null);if(r.data==="$!"){if(o=r.nextSibling&&r.nextSibling.dataset,o)var u=o.dgst;return o=u,i=Error(N(419)),o=Ki(i,o,void 0),tr(t,e,l,o)}if(u=(l&t.childLanes)!==0,Ne||u){if(o=de,o!==null){switch(l&-l){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(o.suspendedLanes|l)?0:r,r!==0&&r!==i.retryLane&&(i.retryLane=r,vt(t,r),Ze(o,t,r,-1))}return Yl(),o=Ki(Error(N(421))),tr(t,e,l,o)}return r.data==="$?"?(e.flags|=128,e.child=t.child,e=Mg.bind(null,t),r._reactRetry=e,null):(t=i.treeContext,De=Lt(r.nextSibling),Le=e,X=!0,Qe=null,t!==null&&(Ge[He++]=dt,Ge[He++]=ft,Ge[He++]=nn,dt=t.id,ft=t.overflow,nn=e),e=ql(e,o.children),e.flags|=4096,e)}function lu(t,e,n){t.lanes|=e;var o=t.alternate;o!==null&&(o.lanes|=e),xs(t.return,e,n)}function Yi(t,e,n,o,r){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:o,tail:n,tailMode:r}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=o,i.tail=n,i.tailMode=r)}function jf(t,e,n){var o=e.pendingProps,r=o.revealOrder,i=o.tail;if(Se(t,e,o.children,n),o=j.current,o&2)o=o&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&lu(t,n,e);else if(t.tag===19)lu(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}o&=1}if(Y(j,o),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(n=e.child,r=null;n!==null;)t=n.alternate,t!==null&&Or(t)===null&&(r=n),n=n.sibling;n=r,n===null?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),Yi(e,!1,r,n,i);break;case"backwards":for(n=null,r=e.child,e.child=null;r!==null;){if(t=r.alternate,t!==null&&Or(t)===null){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}Yi(e,!0,n,null,i);break;case"together":Yi(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Er(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function yt(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),rn|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(N(153));if(e.child!==null){for(t=e.child,n=Gt(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Gt(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function _g(t,e,n){switch(e.tag){case 3:Xf(e),Fn();break;case 5:wf(e);break;case 1:Pe(e.type)&&Ur(e);break;case 4:Ll(e,e.stateNode.containerInfo);break;case 10:var o=e.type._context,r=e.memoizedProps.value;Y(Gr,o._currentValue),o._currentValue=r;break;case 13:if(o=e.memoizedState,o!==null)return o.dehydrated!==null?(Y(j,j.current&1),e.flags|=128,null):n&e.child.childLanes?Zf(t,e,n):(Y(j,j.current&1),t=yt(t,e,n),t!==null?t.sibling:null);Y(j,j.current&1);break;case 19:if(o=(n&e.childLanes)!==0,t.flags&128){if(o)return jf(t,e,n);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),Y(j,j.current),o)break;return null;case 22:case 23:return e.lanes=0,bf(t,e,n)}return yt(t,e,n)}var ep,Vs,tp,np;ep=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Vs=function(){};tp=function(t,e,n,o){var r=t.memoizedProps;if(r!==o){t=e.stateNode,Zt(lt.current);var i=null;switch(n){case"input":r=is(t,r),o=is(t,o),i=[];break;case"select":r=te({},r,{value:void 0}),o=te({},o,{value:void 0}),i=[];break;case"textarea":r=as(t,r),o=as(t,o),i=[];break;default:typeof r.onClick!="function"&&typeof o.onClick=="function"&&(t.onclick=Dr)}cs(n,o);var l;n=null;for(d in r)if(!o.hasOwnProperty(d)&&r.hasOwnProperty(d)&&r[d]!=null)if(d==="style"){var u=r[d];for(l in u)u.hasOwnProperty(l)&&(n||(n={}),n[l]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(yo.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in o){var c=o[d];if(u=r!=null?r[d]:void 0,o.hasOwnProperty(d)&&c!==u&&(c!=null||u!=null))if(d==="style")if(u){for(l in u)!u.hasOwnProperty(l)||c&&c.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in c)c.hasOwnProperty(l)&&u[l]!==c[l]&&(n||(n={}),n[l]=c[l])}else n||(i||(i=[]),i.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,u=u?u.__html:void 0,c!=null&&u!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(yo.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&b("scroll",t),i||u===c||(i=[])):(i=i||[]).push(d,c))}n&&(i=i||[]).push("style",n);var d=i;(e.updateQueue=d)&&(e.flags|=4)}};np=function(t,e,n,o){n!==o&&(e.flags|=4)};function jn(t,e){if(!X)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var o=null;n!==null;)n.alternate!==null&&(o=n),n=n.sibling;o===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function ve(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,o=0;if(e)for(var r=t.child;r!==null;)n|=r.lanes|r.childLanes,o|=r.subtreeFlags&14680064,o|=r.flags&14680064,r.return=t,r=r.sibling;else for(r=t.child;r!==null;)n|=r.lanes|r.childLanes,o|=r.subtreeFlags,o|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=o,t.childLanes=n,e}function Tg(t,e,n){var o=e.pendingProps;switch(Rl(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ve(e),null;case 1:return Pe(e.type)&&Lr(),ve(e),null;case 3:return o=e.stateNode,Gn(),Q(xe),Q(_e),Fl(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(t===null||t.child===null)&&(jo(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Qe!==null&&(Js(Qe),Qe=null))),Vs(t,e),ve(e),null;case 5:Ul(e);var r=Zt(Po.current);if(n=e.type,t!==null&&e.stateNode!=null)tp(t,e,n,o,r),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!o){if(e.stateNode===null)throw Error(N(166));return ve(e),null}if(t=Zt(lt.current),jo(e)){o=e.stateNode,n=e.type;var i=e.memoizedProps;switch(o[it]=e,o[No]=i,t=(e.mode&1)!==0,n){case"dialog":b("cancel",o),b("close",o);break;case"iframe":case"object":case"embed":b("load",o);break;case"video":case"audio":for(r=0;r<so.length;r++)b(so[r],o);break;case"source":b("error",o);break;case"img":case"image":case"link":b("error",o),b("load",o);break;case"details":b("toggle",o);break;case"input":ga(o,i),b("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!i.multiple},b("invalid",o);break;case"textarea":ya(o,i),b("invalid",o)}cs(n,i),r=null;for(var l in i)if(i.hasOwnProperty(l)){var u=i[l];l==="children"?typeof u=="string"?o.textContent!==u&&(i.suppressHydrationWarning!==!0&&Zo(o.textContent,u,t),r=["children",u]):typeof u=="number"&&o.textContent!==""+u&&(i.suppressHydrationWarning!==!0&&Zo(o.textContent,u,t),r=["children",""+u]):yo.hasOwnProperty(l)&&u!=null&&l==="onScroll"&&b("scroll",o)}switch(n){case"input":$o(o),va(o,i,!0);break;case"textarea":$o(o),Ea(o);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(o.onclick=Dr)}o=r,e.updateQueue=o,o!==null&&(e.flags|=4)}else{l=r.nodeType===9?r:r.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=xd(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=l.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof o.is=="string"?t=l.createElement(n,{is:o.is}):(t=l.createElement(n),n==="select"&&(l=t,o.multiple?l.multiple=!0:o.size&&(l.size=o.size))):t=l.createElementNS(t,n),t[it]=e,t[No]=o,ep(t,e,!1,!1),e.stateNode=t;e:{switch(l=ds(n,o),n){case"dialog":b("cancel",t),b("close",t),r=o;break;case"iframe":case"object":case"embed":b("load",t),r=o;break;case"video":case"audio":for(r=0;r<so.length;r++)b(so[r],t);r=o;break;case"source":b("error",t),r=o;break;case"img":case"image":case"link":b("error",t),b("load",t),r=o;break;case"details":b("toggle",t),r=o;break;case"input":ga(t,o),r=is(t,o),b("invalid",t);break;case"option":r=o;break;case"select":t._wrapperState={wasMultiple:!!o.multiple},r=te({},o,{value:void 0}),b("invalid",t);break;case"textarea":ya(t,o),r=as(t,o),b("invalid",t);break;default:r=o}cs(n,r),u=r;for(i in u)if(u.hasOwnProperty(i)){var c=u[i];i==="style"?Md(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Pd(t,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Eo(t,c):typeof c=="number"&&Eo(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(yo.hasOwnProperty(i)?c!=null&&i==="onScroll"&&b("scroll",t):c!=null&&fl(t,i,c,l))}switch(n){case"input":$o(t),va(t,o,!1);break;case"textarea":$o(t),Ea(t);break;case"option":o.value!=null&&t.setAttribute("value",""+Ht(o.value));break;case"select":t.multiple=!!o.multiple,i=o.value,i!=null?An(t,!!o.multiple,i,!1):o.defaultValue!=null&&An(t,!!o.multiple,o.defaultValue,!0);break;default:typeof r.onClick=="function"&&(t.onclick=Dr)}switch(n){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}}o&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ve(e),null;case 6:if(t&&e.stateNode!=null)np(t,e,t.memoizedProps,o);else{if(typeof o!="string"&&e.stateNode===null)throw Error(N(166));if(n=Zt(Po.current),Zt(lt.current),jo(e)){if(o=e.stateNode,n=e.memoizedProps,o[it]=e,(i=o.nodeValue!==n)&&(t=Le,t!==null))switch(t.tag){case 3:Zo(o.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Zo(o.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else o=(n.nodeType===9?n:n.ownerDocument).createTextNode(o),o[it]=e,e.stateNode=o}return ve(e),null;case 13:if(Q(j),o=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(X&&De!==null&&e.mode&1&&!(e.flags&128))_f(),Fn(),e.flags|=98560,i=!1;else if(i=jo(e),o!==null&&o.dehydrated!==null){if(t===null){if(!i)throw Error(N(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(N(317));i[it]=e}else Fn(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ve(e),i=!1}else Qe!==null&&(Js(Qe),Qe=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(o=o!==null,o!==(t!==null&&t.memoizedState!==null)&&o&&(e.child.flags|=8192,e.mode&1&&(t===null||j.current&1?ae===0&&(ae=3):Yl())),e.updateQueue!==null&&(e.flags|=4),ve(e),null);case 4:return Gn(),Vs(t,e),t===null&&Ao(e.stateNode.containerInfo),ve(e),null;case 10:return kl(e.type._context),ve(e),null;case 17:return Pe(e.type)&&Lr(),ve(e),null;case 19:if(Q(j),i=e.memoizedState,i===null)return ve(e),null;if(o=(e.flags&128)!==0,l=i.rendering,l===null)if(o)jn(i,!1);else{if(ae!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(l=Or(t),l!==null){for(e.flags|=128,jn(i,!1),o=l.updateQueue,o!==null&&(e.updateQueue=o,e.flags|=4),e.subtreeFlags=0,o=n,n=e.child;n!==null;)i=n,t=o,i.flags&=14680066,l=i.alternate,l===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,t=l.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Y(j,j.current&1|2),e.child}t=t.sibling}i.tail!==null&&re()>Bn&&(e.flags|=128,o=!0,jn(i,!1),e.lanes=4194304)}else{if(!o)if(t=Or(l),t!==null){if(e.flags|=128,o=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),jn(i,!0),i.tail===null&&i.tailMode==="hidden"&&!l.alternate&&!X)return ve(e),null}else 2*re()-i.renderingStartTime>Bn&&n!==1073741824&&(e.flags|=128,o=!0,jn(i,!1),e.lanes=4194304);i.isBackwards?(l.sibling=e.child,e.child=l):(n=i.last,n!==null?n.sibling=l:e.child=l,i.last=l)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=re(),e.sibling=null,n=j.current,Y(j,o?n&1|2:n&1),e):(ve(e),null);case 22:case 23:return Kl(),o=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==o&&(e.flags|=8192),o&&e.mode&1?Me&1073741824&&(ve(e),e.subtreeFlags&6&&(e.flags|=8192)):ve(e),null;case 24:return null;case 25:return null}throw Error(N(156,e.tag))}function Sg(t,e){switch(Rl(e),e.tag){case 1:return Pe(e.type)&&Lr(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Gn(),Q(xe),Q(_e),Fl(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Ul(e),null;case 13:if(Q(j),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(N(340));Fn()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Q(j),null;case 4:return Gn(),null;case 10:return kl(e.type._context),null;case 22:case 23:return Kl(),null;case 24:return null;default:return null}}var nr=!1,ye=!1,Cg=typeof WeakSet=="function"?WeakSet:Set,D=null;function Sn(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(o){ne(t,e,o)}else n.current=null}function Gs(t,e,n){try{n()}catch(o){ne(t,e,o)}}var au=!1;function Ig(t,e){if(Ts=Pr,t=lf(),wl(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var o=n.getSelection&&n.getSelection();if(o&&o.rangeCount!==0){n=o.anchorNode;var r=o.anchorOffset,i=o.focusNode;o=o.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var l=0,u=-1,c=-1,d=0,f=0,m=t,p=null;t:for(;;){for(var h;m!==n||r!==0&&m.nodeType!==3||(u=l+r),m!==i||o!==0&&m.nodeType!==3||(c=l+o),m.nodeType===3&&(l+=m.nodeValue.length),(h=m.firstChild)!==null;)p=m,m=h;for(;;){if(m===t)break t;if(p===n&&++d===r&&(u=l),p===i&&++f===o&&(c=l),(h=m.nextSibling)!==null)break;m=p,p=m.parentNode}m=h}n=u===-1||c===-1?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ss={focusedElem:t,selectionRange:n},Pr=!1,D=e;D!==null;)if(e=D,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,D=t;else for(;D!==null;){e=D;try{var E=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(E!==null){var _=E.memoizedProps,S=E.memoizedState,v=e.stateNode,g=v.getSnapshotBeforeUpdate(e.elementType===e.type?_:Ye(e.type,_),S);v.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var y=e.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(N(163))}}catch(T){ne(e,e.return,T)}if(t=e.sibling,t!==null){t.return=e.return,D=t;break}D=e.return}return E=au,au=!1,E}function ho(t,e,n){var o=e.updateQueue;if(o=o!==null?o.lastEffect:null,o!==null){var r=o=o.next;do{if((r.tag&t)===t){var i=r.destroy;r.destroy=void 0,i!==void 0&&Gs(e,n,i)}r=r.next}while(r!==o)}}function ci(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var o=n.create;n.destroy=o()}n=n.next}while(n!==e)}}function Hs(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function op(t){var e=t.alternate;e!==null&&(t.alternate=null,op(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[it],delete e[No],delete e[ws],delete e[sg],delete e[lg])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function rp(t){return t.tag===5||t.tag===3||t.tag===4}function uu(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||rp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Bs(t,e,n){var o=t.tag;if(o===5||o===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Dr));else if(o!==4&&(t=t.child,t!==null))for(Bs(t,e,n),t=t.sibling;t!==null;)Bs(t,e,n),t=t.sibling}function Os(t,e,n){var o=t.tag;if(o===5||o===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(o!==4&&(t=t.child,t!==null))for(Os(t,e,n),t=t.sibling;t!==null;)Os(t,e,n),t=t.sibling}var pe=null,be=!1;function Ct(t,e,n){for(n=n.child;n!==null;)ip(t,e,n),n=n.sibling}function ip(t,e,n){if(st&&typeof st.onCommitFiberUnmount=="function")try{st.onCommitFiberUnmount(ni,n)}catch{}switch(n.tag){case 5:ye||Sn(n,e);case 6:var o=pe,r=be;pe=null,Ct(t,e,n),pe=o,be=r,pe!==null&&(be?(t=pe,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):pe.removeChild(n.stateNode));break;case 18:pe!==null&&(be?(t=pe,n=n.stateNode,t.nodeType===8?Oi(t.parentNode,n):t.nodeType===1&&Oi(t,n),Co(t)):Oi(pe,n.stateNode));break;case 4:o=pe,r=be,pe=n.stateNode.containerInfo,be=!0,Ct(t,e,n),pe=o,be=r;break;case 0:case 11:case 14:case 15:if(!ye&&(o=n.updateQueue,o!==null&&(o=o.lastEffect,o!==null))){r=o=o.next;do{var i=r,l=i.destroy;i=i.tag,l!==void 0&&(i&2||i&4)&&Gs(n,e,l),r=r.next}while(r!==o)}Ct(t,e,n);break;case 1:if(!ye&&(Sn(n,e),o=n.stateNode,typeof o.componentWillUnmount=="function"))try{o.props=n.memoizedProps,o.state=n.memoizedState,o.componentWillUnmount()}catch(u){ne(n,e,u)}Ct(t,e,n);break;case 21:Ct(t,e,n);break;case 22:n.mode&1?(ye=(o=ye)||n.memoizedState!==null,Ct(t,e,n),ye=o):Ct(t,e,n);break;default:Ct(t,e,n)}}function cu(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Cg),e.forEach(function(o){var r=Dg.bind(null,t,o);n.has(o)||(n.add(o),o.then(r,r))})}}function Ke(t,e){var n=e.deletions;if(n!==null)for(var o=0;o<n.length;o++){var r=n[o];try{var i=t,l=e,u=l;e:for(;u!==null;){switch(u.tag){case 5:pe=u.stateNode,be=!1;break e;case 3:pe=u.stateNode.containerInfo,be=!0;break e;case 4:pe=u.stateNode.containerInfo,be=!0;break e}u=u.return}if(pe===null)throw Error(N(160));ip(i,l,r),pe=null,be=!1;var c=r.alternate;c!==null&&(c.return=null),r.return=null}catch(d){ne(r,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)sp(e,t),e=e.sibling}function sp(t,e){var n=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ke(e,t),ot(t),o&4){try{ho(3,t,t.return),ci(3,t)}catch(_){ne(t,t.return,_)}try{ho(5,t,t.return)}catch(_){ne(t,t.return,_)}}break;case 1:Ke(e,t),ot(t),o&512&&n!==null&&Sn(n,n.return);break;case 5:if(Ke(e,t),ot(t),o&512&&n!==null&&Sn(n,n.return),t.flags&32){var r=t.stateNode;try{Eo(r,"")}catch(_){ne(t,t.return,_)}}if(o&4&&(r=t.stateNode,r!=null)){var i=t.memoizedProps,l=n!==null?n.memoizedProps:i,u=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{u==="input"&&i.type==="radio"&&i.name!=null&&Rd(r,i),ds(u,l);var d=ds(u,i);for(l=0;l<c.length;l+=2){var f=c[l],m=c[l+1];f==="style"?Md(r,m):f==="dangerouslySetInnerHTML"?Pd(r,m):f==="children"?Eo(r,m):fl(r,f,m,d)}switch(u){case"input":ss(r,i);break;case"textarea":Nd(r,i);break;case"select":var p=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!i.multiple;var h=i.value;h!=null?An(r,!!i.multiple,h,!1):p!==!!i.multiple&&(i.defaultValue!=null?An(r,!!i.multiple,i.defaultValue,!0):An(r,!!i.multiple,i.multiple?[]:"",!1))}r[No]=i}catch(_){ne(t,t.return,_)}}break;case 6:if(Ke(e,t),ot(t),o&4){if(t.stateNode===null)throw Error(N(162));r=t.stateNode,i=t.memoizedProps;try{r.nodeValue=i}catch(_){ne(t,t.return,_)}}break;case 3:if(Ke(e,t),ot(t),o&4&&n!==null&&n.memoizedState.isDehydrated)try{Co(e.containerInfo)}catch(_){ne(t,t.return,_)}break;case 4:Ke(e,t),ot(t);break;case 13:Ke(e,t),ot(t),r=t.child,r.flags&8192&&(i=r.memoizedState!==null,r.stateNode.isHidden=i,!i||r.alternate!==null&&r.alternate.memoizedState!==null||(Jl=re())),o&4&&cu(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(ye=(d=ye)||f,Ke(e,t),ye=d):Ke(e,t),ot(t),o&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!f&&t.mode&1)for(D=t,f=t.child;f!==null;){for(m=D=f;D!==null;){switch(p=D,h=p.child,p.tag){case 0:case 11:case 14:case 15:ho(4,p,p.return);break;case 1:Sn(p,p.return);var E=p.stateNode;if(typeof E.componentWillUnmount=="function"){o=p,n=p.return;try{e=o,E.props=e.memoizedProps,E.state=e.memoizedState,E.componentWillUnmount()}catch(_){ne(o,n,_)}}break;case 5:Sn(p,p.return);break;case 22:if(p.memoizedState!==null){fu(m);continue}}h!==null?(h.return=p,D=h):fu(m)}f=f.sibling}e:for(f=null,m=t;;){if(m.tag===5){if(f===null){f=m;try{r=m.stateNode,d?(i=r.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(u=m.stateNode,c=m.memoizedProps.style,l=c!=null&&c.hasOwnProperty("display")?c.display:null,u.style.display=kd("display",l))}catch(_){ne(t,t.return,_)}}}else if(m.tag===6){if(f===null)try{m.stateNode.nodeValue=d?"":m.memoizedProps}catch(_){ne(t,t.return,_)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===t)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;f===m&&(f=null),m=m.return}f===m&&(f=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:Ke(e,t),ot(t),o&4&&cu(t);break;case 21:break;default:Ke(e,t),ot(t)}}function ot(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(rp(n)){var o=n;break e}n=n.return}throw Error(N(160))}switch(o.tag){case 5:var r=o.stateNode;o.flags&32&&(Eo(r,""),o.flags&=-33);var i=uu(t);Os(t,i,r);break;case 3:case 4:var l=o.stateNode.containerInfo,u=uu(t);Bs(t,u,l);break;default:throw Error(N(161))}}catch(c){ne(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function wg(t,e,n){D=t,lp(t)}function lp(t,e,n){for(var o=(t.mode&1)!==0;D!==null;){var r=D,i=r.child;if(r.tag===22&&o){var l=r.memoizedState!==null||nr;if(!l){var u=r.alternate,c=u!==null&&u.memoizedState!==null||ye;u=nr;var d=ye;if(nr=l,(ye=c)&&!d)for(D=r;D!==null;)l=D,c=l.child,l.tag===22&&l.memoizedState!==null?pu(r):c!==null?(c.return=l,D=c):pu(r);for(;i!==null;)D=i,lp(i),i=i.sibling;D=r,nr=u,ye=d}du(t)}else r.subtreeFlags&8772&&i!==null?(i.return=r,D=i):du(t)}}function du(t){for(;D!==null;){var e=D;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ye||ci(5,e);break;case 1:var o=e.stateNode;if(e.flags&4&&!ye)if(n===null)o.componentDidMount();else{var r=e.elementType===e.type?n.memoizedProps:Ye(e.type,n.memoizedProps);o.componentDidUpdate(r,n.memoizedState,o.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&ba(e,i,o);break;case 3:var l=e.updateQueue;if(l!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}ba(e,l,n)}break;case 5:var u=e.stateNode;if(n===null&&e.flags&4){n=u;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var f=d.memoizedState;if(f!==null){var m=f.dehydrated;m!==null&&Co(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(N(163))}ye||e.flags&512&&Hs(e)}catch(p){ne(e,e.return,p)}}if(e===t){D=null;break}if(n=e.sibling,n!==null){n.return=e.return,D=n;break}D=e.return}}function fu(t){for(;D!==null;){var e=D;if(e===t){D=null;break}var n=e.sibling;if(n!==null){n.return=e.return,D=n;break}D=e.return}}function pu(t){for(;D!==null;){var e=D;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{ci(4,e)}catch(c){ne(e,n,c)}break;case 1:var o=e.stateNode;if(typeof o.componentDidMount=="function"){var r=e.return;try{o.componentDidMount()}catch(c){ne(e,r,c)}}var i=e.return;try{Hs(e)}catch(c){ne(e,i,c)}break;case 5:var l=e.return;try{Hs(e)}catch(c){ne(e,l,c)}}}catch(c){ne(e,e.return,c)}if(e===t){D=null;break}var u=e.sibling;if(u!==null){u.return=e.return,D=u;break}D=e.return}}var Ag=Math.ceil,$r=_t.ReactCurrentDispatcher,zl=_t.ReactCurrentOwner,Oe=_t.ReactCurrentBatchConfig,q=0,de=null,se=null,me=0,Me=0,Cn=qt(0),ae=0,Lo=null,rn=0,di=0,$l=0,go=null,Re=null,Jl=0,Bn=1/0,at=null,Jr=!1,qs=null,Ft=null,or=!1,xt=null,Wr=0,vo=0,zs=null,_r=-1,Tr=0;function Ce(){return q&6?re():_r!==-1?_r:_r=re()}function Vt(t){return t.mode&1?q&2&&me!==0?me&-me:ug.transition!==null?(Tr===0&&(Tr=$d()),Tr):(t=W,t!==0||(t=window.event,t=t===void 0?16:Xd(t.type)),t):1}function Ze(t,e,n,o){if(50<vo)throw vo=0,zs=null,Error(N(185));Fo(t,n,o),(!(q&2)||t!==de)&&(t===de&&(!(q&2)&&(di|=n),ae===4&&Rt(t,me)),ke(t,o),n===1&&q===0&&!(e.mode&1)&&(Bn=re()+500,li&&zt()))}function ke(t,e){var n=t.callbackNode;uh(t,e);var o=xr(t,t===de?me:0);if(o===0)n!==null&&Sa(n),t.callbackNode=null,t.callbackPriority=0;else if(e=o&-o,t.callbackPriority!==e){if(n!=null&&Sa(n),e===1)t.tag===0?ag(mu.bind(null,t)):vf(mu.bind(null,t)),rg(function(){!(q&6)&&zt()}),n=null;else{switch(Jd(o)){case 1:n=vl;break;case 4:n=qd;break;case 16:n=Nr;break;case 536870912:n=zd;break;default:n=Nr}n=hp(n,ap.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function ap(t,e){if(_r=-1,Tr=0,q&6)throw Error(N(327));var n=t.callbackNode;if(kn()&&t.callbackNode!==n)return null;var o=xr(t,t===de?me:0);if(o===0)return null;if(o&30||o&t.expiredLanes||e)e=Kr(t,o);else{e=o;var r=q;q|=2;var i=cp();(de!==t||me!==e)&&(at=null,Bn=re()+500,jt(t,e));do try{xg();break}catch(u){up(t,u)}while(!0);Pl(),$r.current=i,q=r,se!==null?e=0:(de=null,me=0,e=ae)}if(e!==0){if(e===2&&(r=gs(t),r!==0&&(o=r,e=$s(t,r))),e===1)throw n=Lo,jt(t,0),Rt(t,o),ke(t,re()),n;if(e===6)Rt(t,o);else{if(r=t.current.alternate,!(o&30)&&!Rg(r)&&(e=Kr(t,o),e===2&&(i=gs(t),i!==0&&(o=i,e=$s(t,i))),e===1))throw n=Lo,jt(t,0),Rt(t,o),ke(t,re()),n;switch(t.finishedWork=r,t.finishedLanes=o,e){case 0:case 1:throw Error(N(345));case 2:Yt(t,Re,at);break;case 3:if(Rt(t,o),(o&130023424)===o&&(e=Jl+500-re(),10<e)){if(xr(t,0)!==0)break;if(r=t.suspendedLanes,(r&o)!==o){Ce(),t.pingedLanes|=t.suspendedLanes&r;break}t.timeoutHandle=Is(Yt.bind(null,t,Re,at),e);break}Yt(t,Re,at);break;case 4:if(Rt(t,o),(o&4194240)===o)break;for(e=t.eventTimes,r=-1;0<o;){var l=31-Xe(o);i=1<<l,l=e[l],l>r&&(r=l),o&=~i}if(o=r,o=re()-o,o=(120>o?120:480>o?480:1080>o?1080:1920>o?1920:3e3>o?3e3:4320>o?4320:1960*Ag(o/1960))-o,10<o){t.timeoutHandle=Is(Yt.bind(null,t,Re,at),o);break}Yt(t,Re,at);break;case 5:Yt(t,Re,at);break;default:throw Error(N(329))}}}return ke(t,re()),t.callbackNode===n?ap.bind(null,t):null}function $s(t,e){var n=go;return t.current.memoizedState.isDehydrated&&(jt(t,e).flags|=256),t=Kr(t,e),t!==2&&(e=Re,Re=n,e!==null&&Js(e)),t}function Js(t){Re===null?Re=t:Re.push.apply(Re,t)}function Rg(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var o=0;o<n.length;o++){var r=n[o],i=r.getSnapshot;r=r.value;try{if(!tt(i(),r))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Rt(t,e){for(e&=~$l,e&=~di,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Xe(e),o=1<<n;t[n]=-1,e&=~o}}function mu(t){if(q&6)throw Error(N(327));kn();var e=xr(t,0);if(!(e&1))return ke(t,re()),null;var n=Kr(t,e);if(t.tag!==0&&n===2){var o=gs(t);o!==0&&(e=o,n=$s(t,o))}if(n===1)throw n=Lo,jt(t,0),Rt(t,e),ke(t,re()),n;if(n===6)throw Error(N(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Yt(t,Re,at),ke(t,re()),null}function Wl(t,e){var n=q;q|=1;try{return t(e)}finally{q=n,q===0&&(Bn=re()+500,li&&zt())}}function sn(t){xt!==null&&xt.tag===0&&!(q&6)&&kn();var e=q;q|=1;var n=Oe.transition,o=W;try{if(Oe.transition=null,W=1,t)return t()}finally{W=o,Oe.transition=n,q=e,!(q&6)&&zt()}}function Kl(){Me=Cn.current,Q(Cn)}function jt(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,og(n)),se!==null)for(n=se.return;n!==null;){var o=n;switch(Rl(o),o.tag){case 1:o=o.type.childContextTypes,o!=null&&Lr();break;case 3:Gn(),Q(xe),Q(_e),Fl();break;case 5:Ul(o);break;case 4:Gn();break;case 13:Q(j);break;case 19:Q(j);break;case 10:kl(o.type._context);break;case 22:case 23:Kl()}n=n.return}if(de=t,se=t=Gt(t.current,null),me=Me=e,ae=0,Lo=null,$l=di=rn=0,Re=go=null,Xt!==null){for(e=0;e<Xt.length;e++)if(n=Xt[e],o=n.interleaved,o!==null){n.interleaved=null;var r=o.next,i=n.pending;if(i!==null){var l=i.next;i.next=r,o.next=l}n.pending=o}Xt=null}return t}function up(t,e){do{var n=se;try{if(Pl(),vr.current=zr,qr){for(var o=ee.memoizedState;o!==null;){var r=o.queue;r!==null&&(r.pending=null),o=o.next}qr=!1}if(on=0,ce=le=ee=null,mo=!1,ko=0,zl.current=null,n===null||n.return===null){ae=1,Lo=e,se=null;break}e:{var i=t,l=n.return,u=n,c=e;if(e=me,u.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,f=u,m=f.tag;if(!(f.mode&1)&&(m===0||m===11||m===15)){var p=f.alternate;p?(f.updateQueue=p.updateQueue,f.memoizedState=p.memoizedState,f.lanes=p.lanes):(f.updateQueue=null,f.memoizedState=null)}var h=tu(l);if(h!==null){h.flags&=-257,nu(h,l,u,i,e),h.mode&1&&eu(i,d,e),e=h,c=d;var E=e.updateQueue;if(E===null){var _=new Set;_.add(c),e.updateQueue=_}else E.add(c);break e}else{if(!(e&1)){eu(i,d,e),Yl();break e}c=Error(N(426))}}else if(X&&u.mode&1){var S=tu(l);if(S!==null){!(S.flags&65536)&&(S.flags|=256),nu(S,l,u,i,e),Nl(Hn(c,u));break e}}i=c=Hn(c,u),ae!==4&&(ae=2),go===null?go=[i]:go.push(i),i=l;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var v=Wf(i,c,e);Ya(i,v);break e;case 1:u=c;var g=i.type,y=i.stateNode;if(!(i.flags&128)&&(typeof g.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Ft===null||!Ft.has(y)))){i.flags|=65536,e&=-e,i.lanes|=e;var T=Kf(i,u,e);Ya(i,T);break e}}i=i.return}while(i!==null)}fp(n)}catch(C){e=C,se===n&&n!==null&&(se=n=n.return);continue}break}while(!0)}function cp(){var t=$r.current;return $r.current=zr,t===null?zr:t}function Yl(){(ae===0||ae===3||ae===2)&&(ae=4),de===null||!(rn&268435455)&&!(di&268435455)||Rt(de,me)}function Kr(t,e){var n=q;q|=2;var o=cp();(de!==t||me!==e)&&(at=null,jt(t,e));do try{Ng();break}catch(r){up(t,r)}while(!0);if(Pl(),q=n,$r.current=o,se!==null)throw Error(N(261));return de=null,me=0,ae}function Ng(){for(;se!==null;)dp(se)}function xg(){for(;se!==null&&!eh();)dp(se)}function dp(t){var e=mp(t.alternate,t,Me);t.memoizedProps=t.pendingProps,e===null?fp(t):se=e,zl.current=null}function fp(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Sg(n,e),n!==null){n.flags&=32767,se=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ae=6,se=null;return}}else if(n=Tg(n,e,Me),n!==null){se=n;return}if(e=e.sibling,e!==null){se=e;return}se=e=t}while(e!==null);ae===0&&(ae=5)}function Yt(t,e,n){var o=W,r=Oe.transition;try{Oe.transition=null,W=1,Pg(t,e,n,o)}finally{Oe.transition=r,W=o}return null}function Pg(t,e,n,o){do kn();while(xt!==null);if(q&6)throw Error(N(327));n=t.finishedWork;var r=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(N(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(ch(t,i),t===de&&(se=de=null,me=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||or||(or=!0,hp(Nr,function(){return kn(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Oe.transition,Oe.transition=null;var l=W;W=1;var u=q;q|=4,zl.current=null,Ig(t,n),sp(n,t),Qh(Ss),Pr=!!Ts,Ss=Ts=null,t.current=n,wg(n),th(),q=u,W=l,Oe.transition=i}else t.current=n;if(or&&(or=!1,xt=t,Wr=r),i=t.pendingLanes,i===0&&(Ft=null),rh(n.stateNode),ke(t,re()),e!==null)for(o=t.onRecoverableError,n=0;n<e.length;n++)r=e[n],o(r.value,{componentStack:r.stack,digest:r.digest});if(Jr)throw Jr=!1,t=qs,qs=null,t;return Wr&1&&t.tag!==0&&kn(),i=t.pendingLanes,i&1?t===zs?vo++:(vo=0,zs=t):vo=0,zt(),null}function kn(){if(xt!==null){var t=Jd(Wr),e=Oe.transition,n=W;try{if(Oe.transition=null,W=16>t?16:t,xt===null)var o=!1;else{if(t=xt,xt=null,Wr=0,q&6)throw Error(N(331));var r=q;for(q|=4,D=t.current;D!==null;){var i=D,l=i.child;if(D.flags&16){var u=i.deletions;if(u!==null){for(var c=0;c<u.length;c++){var d=u[c];for(D=d;D!==null;){var f=D;switch(f.tag){case 0:case 11:case 15:ho(8,f,i)}var m=f.child;if(m!==null)m.return=f,D=m;else for(;D!==null;){f=D;var p=f.sibling,h=f.return;if(op(f),f===d){D=null;break}if(p!==null){p.return=h,D=p;break}D=h}}}var E=i.alternate;if(E!==null){var _=E.child;if(_!==null){E.child=null;do{var S=_.sibling;_.sibling=null,_=S}while(_!==null)}}D=i}}if(i.subtreeFlags&2064&&l!==null)l.return=i,D=l;else e:for(;D!==null;){if(i=D,i.flags&2048)switch(i.tag){case 0:case 11:case 15:ho(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,D=v;break e}D=i.return}}var g=t.current;for(D=g;D!==null;){l=D;var y=l.child;if(l.subtreeFlags&2064&&y!==null)y.return=l,D=y;else e:for(l=g;D!==null;){if(u=D,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:ci(9,u)}}catch(C){ne(u,u.return,C)}if(u===l){D=null;break e}var T=u.sibling;if(T!==null){T.return=u.return,D=T;break e}D=u.return}}if(q=r,zt(),st&&typeof st.onPostCommitFiberRoot=="function")try{st.onPostCommitFiberRoot(ni,t)}catch{}o=!0}return o}finally{W=n,Oe.transition=e}}return!1}function hu(t,e,n){e=Hn(n,e),e=Wf(t,e,1),t=Ut(t,e,1),e=Ce(),t!==null&&(Fo(t,1,e),ke(t,e))}function ne(t,e,n){if(t.tag===3)hu(t,t,n);else for(;e!==null;){if(e.tag===3){hu(e,t,n);break}else if(e.tag===1){var o=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Ft===null||!Ft.has(o))){t=Hn(n,t),t=Kf(e,t,1),e=Ut(e,t,1),t=Ce(),e!==null&&(Fo(e,1,t),ke(e,t));break}}e=e.return}}function kg(t,e,n){var o=t.pingCache;o!==null&&o.delete(e),e=Ce(),t.pingedLanes|=t.suspendedLanes&n,de===t&&(me&n)===n&&(ae===4||ae===3&&(me&130023424)===me&&500>re()-Jl?jt(t,0):$l|=n),ke(t,e)}function pp(t,e){e===0&&(t.mode&1?(e=Ko,Ko<<=1,!(Ko&130023424)&&(Ko=4194304)):e=1);var n=Ce();t=vt(t,e),t!==null&&(Fo(t,e,n),ke(t,n))}function Mg(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),pp(t,n)}function Dg(t,e){var n=0;switch(t.tag){case 13:var o=t.stateNode,r=t.memoizedState;r!==null&&(n=r.retryLane);break;case 19:o=t.stateNode;break;default:throw Error(N(314))}o!==null&&o.delete(e),pp(t,n)}var mp;mp=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||xe.current)Ne=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Ne=!1,_g(t,e,n);Ne=!!(t.flags&131072)}else Ne=!1,X&&e.flags&1048576&&yf(e,Vr,e.index);switch(e.lanes=0,e.tag){case 2:var o=e.type;Er(t,e),t=e.pendingProps;var r=Un(e,_e.current);Pn(e,n),r=Gl(null,e,o,t,r,n);var i=Hl();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Pe(o)?(i=!0,Ur(e)):i=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,Dl(e),r.updater=ui,e.stateNode=r,r._reactInternals=e,ks(e,o,t,n),e=Ls(null,e,o,!0,i,n)):(e.tag=0,X&&i&&Al(e),Se(null,e,r,n),e=e.child),e;case 16:o=e.elementType;e:{switch(Er(t,e),t=e.pendingProps,r=o._init,o=r(o._payload),e.type=o,r=e.tag=Ug(o),t=Ye(o,t),r){case 0:e=Ds(null,e,o,t,n);break e;case 1:e=iu(null,e,o,t,n);break e;case 11:e=ou(null,e,o,t,n);break e;case 14:e=ru(null,e,o,Ye(o.type,t),n);break e}throw Error(N(306,o,""))}return e;case 0:return o=e.type,r=e.pendingProps,r=e.elementType===o?r:Ye(o,r),Ds(t,e,o,r,n);case 1:return o=e.type,r=e.pendingProps,r=e.elementType===o?r:Ye(o,r),iu(t,e,o,r,n);case 3:e:{if(Xf(e),t===null)throw Error(N(387));o=e.pendingProps,i=e.memoizedState,r=i.element,If(t,e),Br(e,o,null,n);var l=e.memoizedState;if(o=l.element,i.isDehydrated)if(i={element:o,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){r=Hn(Error(N(423)),e),e=su(t,e,o,n,r);break e}else if(o!==r){r=Hn(Error(N(424)),e),e=su(t,e,o,n,r);break e}else for(De=Lt(e.stateNode.containerInfo.firstChild),Le=e,X=!0,Qe=null,n=Sf(e,null,o,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Fn(),o===r){e=yt(t,e,n);break e}Se(t,e,o,n)}e=e.child}return e;case 5:return wf(e),t===null&&Ns(e),o=e.type,r=e.pendingProps,i=t!==null?t.memoizedProps:null,l=r.children,Cs(o,r)?l=null:i!==null&&Cs(o,i)&&(e.flags|=32),Qf(t,e),Se(t,e,l,n),e.child;case 6:return t===null&&Ns(e),null;case 13:return Zf(t,e,n);case 4:return Ll(e,e.stateNode.containerInfo),o=e.pendingProps,t===null?e.child=Vn(e,null,o,n):Se(t,e,o,n),e.child;case 11:return o=e.type,r=e.pendingProps,r=e.elementType===o?r:Ye(o,r),ou(t,e,o,r,n);case 7:return Se(t,e,e.pendingProps,n),e.child;case 8:return Se(t,e,e.pendingProps.children,n),e.child;case 12:return Se(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(o=e.type._context,r=e.pendingProps,i=e.memoizedProps,l=r.value,Y(Gr,o._currentValue),o._currentValue=l,i!==null)if(tt(i.value,l)){if(i.children===r.children&&!xe.current){e=yt(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var u=i.dependencies;if(u!==null){l=i.child;for(var c=u.firstContext;c!==null;){if(c.context===o){if(i.tag===1){c=mt(-1,n&-n),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var f=d.pending;f===null?c.next=c:(c.next=f.next,f.next=c),d.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),xs(i.return,n,e),u.lanes|=n;break}c=c.next}}else if(i.tag===10)l=i.type===e.type?null:i.child;else if(i.tag===18){if(l=i.return,l===null)throw Error(N(341));l.lanes|=n,u=l.alternate,u!==null&&(u.lanes|=n),xs(l,n,e),l=i.sibling}else l=i.child;if(l!==null)l.return=i;else for(l=i;l!==null;){if(l===e){l=null;break}if(i=l.sibling,i!==null){i.return=l.return,l=i;break}l=l.return}i=l}Se(t,e,r.children,n),e=e.child}return e;case 9:return r=e.type,o=e.pendingProps.children,Pn(e,n),r=ze(r),o=o(r),e.flags|=1,Se(t,e,o,n),e.child;case 14:return o=e.type,r=Ye(o,e.pendingProps),r=Ye(o.type,r),ru(t,e,o,r,n);case 15:return Yf(t,e,e.type,e.pendingProps,n);case 17:return o=e.type,r=e.pendingProps,r=e.elementType===o?r:Ye(o,r),Er(t,e),e.tag=1,Pe(o)?(t=!0,Ur(e)):t=!1,Pn(e,n),Jf(e,o,r),ks(e,o,r,n),Ls(null,e,o,!0,t,n);case 19:return jf(t,e,n);case 22:return bf(t,e,n)}throw Error(N(156,e.tag))};function hp(t,e){return Od(t,e)}function Lg(t,e,n,o){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Be(t,e,n,o){return new Lg(t,e,n,o)}function bl(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ug(t){if(typeof t=="function")return bl(t)?1:0;if(t!=null){if(t=t.$$typeof,t===ml)return 11;if(t===hl)return 14}return 2}function Gt(t,e){var n=t.alternate;return n===null?(n=Be(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Sr(t,e,n,o,r,i){var l=2;if(o=t,typeof t=="function")bl(t)&&(l=1);else if(typeof t=="string")l=5;else e:switch(t){case pn:return en(n.children,r,i,e);case pl:l=8,r|=8;break;case ts:return t=Be(12,n,e,r|2),t.elementType=ts,t.lanes=i,t;case ns:return t=Be(13,n,e,r),t.elementType=ns,t.lanes=i,t;case os:return t=Be(19,n,e,r),t.elementType=os,t.lanes=i,t;case Id:return fi(n,r,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Sd:l=10;break e;case Cd:l=9;break e;case ml:l=11;break e;case hl:l=14;break e;case It:l=16,o=null;break e}throw Error(N(130,t==null?t:typeof t,""))}return e=Be(l,n,e,r),e.elementType=t,e.type=o,e.lanes=i,e}function en(t,e,n,o){return t=Be(7,t,o,e),t.lanes=n,t}function fi(t,e,n,o){return t=Be(22,t,o,e),t.elementType=Id,t.lanes=n,t.stateNode={isHidden:!1},t}function bi(t,e,n){return t=Be(6,t,null,e),t.lanes=n,t}function Qi(t,e,n){return e=Be(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Fg(t,e,n,o,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Pi(0),this.expirationTimes=Pi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pi(0),this.identifierPrefix=o,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function Ql(t,e,n,o,r,i,l,u,c){return t=new Fg(t,e,n,u,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Be(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:o,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Dl(i),t}function Vg(t,e,n){var o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:fn,key:o==null?null:""+o,children:t,containerInfo:e,implementation:n}}function gp(t){if(!t)return Bt;t=t._reactInternals;e:{if(an(t)!==t||t.tag!==1)throw Error(N(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Pe(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(N(171))}if(t.tag===1){var n=t.type;if(Pe(n))return gf(t,n,e)}return e}function vp(t,e,n,o,r,i,l,u,c){return t=Ql(n,o,!0,t,r,i,l,u,c),t.context=gp(null),n=t.current,o=Ce(),r=Vt(n),i=mt(o,r),i.callback=e??null,Ut(n,i,r),t.current.lanes=r,Fo(t,r,o),ke(t,o),t}function pi(t,e,n,o){var r=e.current,i=Ce(),l=Vt(r);return n=gp(n),e.context===null?e.context=n:e.pendingContext=n,e=mt(i,l),e.payload={element:t},o=o===void 0?null:o,o!==null&&(e.callback=o),t=Ut(r,e,l),t!==null&&(Ze(t,r,l,i),gr(t,r,l)),l}function Yr(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function gu(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Xl(t,e){gu(t,e),(t=t.alternate)&&gu(t,e)}function Gg(){return null}var yp=typeof reportError=="function"?reportError:function(t){console.error(t)};function Zl(t){this._internalRoot=t}mi.prototype.render=Zl.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(N(409));pi(t,e,null,null)};mi.prototype.unmount=Zl.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;sn(function(){pi(null,t,null,null)}),e[gt]=null}};function mi(t){this._internalRoot=t}mi.prototype.unstable_scheduleHydration=function(t){if(t){var e=Yd();t={blockedOn:null,target:t,priority:e};for(var n=0;n<At.length&&e!==0&&e<At[n].priority;n++);At.splice(n,0,t),n===0&&Qd(t)}};function jl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function hi(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function vu(){}function Hg(t,e,n,o,r){if(r){if(typeof o=="function"){var i=o;o=function(){var d=Yr(l);i.call(d)}}var l=vp(e,o,t,0,null,!1,!1,"",vu);return t._reactRootContainer=l,t[gt]=l.current,Ao(t.nodeType===8?t.parentNode:t),sn(),l}for(;r=t.lastChild;)t.removeChild(r);if(typeof o=="function"){var u=o;o=function(){var d=Yr(c);u.call(d)}}var c=Ql(t,0,!1,null,null,!1,!1,"",vu);return t._reactRootContainer=c,t[gt]=c.current,Ao(t.nodeType===8?t.parentNode:t),sn(function(){pi(e,c,n,o)}),c}function gi(t,e,n,o,r){var i=n._reactRootContainer;if(i){var l=i;if(typeof r=="function"){var u=r;r=function(){var c=Yr(l);u.call(c)}}pi(e,l,t,r)}else l=Hg(n,e,t,r,o);return Yr(l)}Wd=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=io(e.pendingLanes);n!==0&&(yl(e,n|1),ke(e,re()),!(q&6)&&(Bn=re()+500,zt()))}break;case 13:sn(function(){var o=vt(t,1);if(o!==null){var r=Ce();Ze(o,t,1,r)}}),Xl(t,1)}};El=function(t){if(t.tag===13){var e=vt(t,134217728);if(e!==null){var n=Ce();Ze(e,t,134217728,n)}Xl(t,134217728)}};Kd=function(t){if(t.tag===13){var e=Vt(t),n=vt(t,e);if(n!==null){var o=Ce();Ze(n,t,e,o)}Xl(t,e)}};Yd=function(){return W};bd=function(t,e){var n=W;try{return W=t,e()}finally{W=n}};ps=function(t,e,n){switch(e){case"input":if(ss(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var o=n[e];if(o!==t&&o.form===t.form){var r=si(o);if(!r)throw Error(N(90));Ad(o),ss(o,r)}}}break;case"textarea":Nd(t,n);break;case"select":e=n.value,e!=null&&An(t,!!n.multiple,e,!1)}};Ud=Wl;Fd=sn;var Bg={usingClientEntryPoint:!1,Events:[Go,vn,si,Dd,Ld,Wl]},eo={findFiberByHostInstance:Qt,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Og={bundleType:eo.bundleType,version:eo.version,rendererPackageName:eo.rendererPackageName,rendererConfig:eo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_t.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Hd(t),t===null?null:t.stateNode},findFiberByHostInstance:eo.findFiberByHostInstance||Gg,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var rr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rr.isDisabled&&rr.supportsFiber)try{ni=rr.inject(Og),st=rr}catch{}}Fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Bg;Fe.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!jl(e))throw Error(N(200));return Vg(t,e,null,n)};Fe.createRoot=function(t,e){if(!jl(t))throw Error(N(299));var n=!1,o="",r=yp;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(o=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=Ql(t,1,!1,null,null,n,!1,o,r),t[gt]=e.current,Ao(t.nodeType===8?t.parentNode:t),new Zl(e)};Fe.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(N(188)):(t=Object.keys(t).join(","),Error(N(268,t)));return t=Hd(e),t=t===null?null:t.stateNode,t};Fe.flushSync=function(t){return sn(t)};Fe.hydrate=function(t,e,n){if(!hi(e))throw Error(N(200));return gi(null,t,e,!0,n)};Fe.hydrateRoot=function(t,e,n){if(!jl(t))throw Error(N(405));var o=n!=null&&n.hydratedSources||null,r=!1,i="",l=yp;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(l=n.onRecoverableError)),e=vp(e,null,t,1,n??null,r,!1,i,l),t[gt]=e.current,Ao(t),o)for(t=0;t<o.length;t++)n=o[t],r=n._getVersion,r=r(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,r]:e.mutableSourceEagerHydrationData.push(n,r);return new mi(e)};Fe.render=function(t,e,n){if(!hi(e))throw Error(N(200));return gi(null,t,e,!1,n)};Fe.unmountComponentAtNode=function(t){if(!hi(t))throw Error(N(40));return t._reactRootContainer?(sn(function(){gi(null,null,t,!1,function(){t._reactRootContainer=null,t[gt]=null})}),!0):!1};Fe.unstable_batchedUpdates=Wl;Fe.unstable_renderSubtreeIntoContainer=function(t,e,n,o){if(!hi(n))throw Error(N(200));if(t==null||t._reactInternals===void 0)throw Error(N(38));return gi(t,e,n,!1,o)};Fe.version="18.3.1-next-f1338f8080-20240426";function Ep(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Ep)}catch(t){console.error(t)}}Ep(),yd.exports=Fe;var qg=yd.exports,yu=qg;ji.createRoot=yu.createRoot,ji.hydrateRoot=yu.hydrateRoot;var Z=(t=>(t.IDLE="IDLE",t.CHECKING="CHECKING",t.ONLINE="ONLINE",t.OFFLINE="OFFLINE",t.ERROR="ERROR",t))(Z||{}),zg={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let $g,Jg;function Wg(){return{geminiUrl:$g,vertexUrl:Jg}}function Kg(t,e,n,o){var r,i;if(!(t!=null&&t.baseUrl)){const l=Wg();return e?(r=l.vertexUrl)!==null&&r!==void 0?r:n:(i=l.geminiUrl)!==null&&i!==void 0?i:o}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Tt{}function k(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(o,r)=>{if(Object.prototype.hasOwnProperty.call(e,r)){const i=e[r];return i!=null?String(i):""}else throw new Error(`Key '${r}' not found in valueMap.`)})}function a(t,e,n){for(let i=0;i<e.length-1;i++){const l=e[i];if(l.endsWith("[]")){const u=l.slice(0,-2);if(!(u in t))if(Array.isArray(n))t[u]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${l}`);if(Array.isArray(t[u])){const c=t[u];if(Array.isArray(n))for(let d=0;d<c.length;d++){const f=c[d];a(f,e.slice(i+1),n[d])}else for(const d of c)a(d,e.slice(i+1),n)}return}else if(l.endsWith("[0]")){const u=l.slice(0,-3);u in t||(t[u]=[{}]);const c=t[u];a(c[0],e.slice(i+1),n);return}(!t[l]||typeof t[l]!="object")&&(t[l]={}),t=t[l]}const o=e[e.length-1],r=t[o];if(r!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===r)return;if(typeof r=="object"&&typeof n=="object"&&r!==null&&n!==null)Object.assign(r,n);else throw new Error(`Cannot set value for an existing key. Key: ${o}`)}else o==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[o]=n}function s(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let o=0;o<e.length;o++){if(typeof t!="object"||t===null)return n;const r=e[o];if(r.endsWith("[]")){const i=r.slice(0,-2);if(i in t){const l=t[i];return Array.isArray(l)?l.map(u=>s(u,e.slice(o+1),n)):n}else return n}else t=t[r]}return t}catch(o){if(o instanceof TypeError)return n;throw o}}function Yg(t,e){for(const[n,o]of Object.entries(e)){const r=n.split("."),i=o.split("."),l=new Set;let u=-1;for(let c=0;c<r.length;c++)if(r[c]==="*"){u=c;break}if(u!==-1&&i.length>u)for(let c=u;c<i.length;c++){const d=i[c];d!=="*"&&!d.endsWith("[]")&&!d.endsWith("[0]")&&l.add(d)}Ws(t,r,i,0,l)}}function Ws(t,e,n,o,r){if(o>=e.length||typeof t!="object"||t===null)return;const i=e[o];if(i.endsWith("[]")){const l=i.slice(0,-2),u=t;if(l in u&&Array.isArray(u[l]))for(const c of u[l])Ws(c,e,n,o+1,r)}else if(i==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const l=t,u=Object.keys(l).filter(d=>!d.startsWith("_")&&!r.has(d)),c={};for(const d of u)c[d]=l[d];for(const[d,f]of Object.entries(c)){const m=[];for(const p of n.slice(o))p==="*"?m.push(d):m.push(p);a(l,m,f)}for(const d of u)delete l[d]}}else{const l=t;i in l&&Ws(l[i],e,n,o+1,r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ea(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function bg(t){const e={},n=s(t,["operationName"]);n!=null&&a(e,["operationName"],n);const o=s(t,["resourceName"]);return o!=null&&a(e,["_url","resourceName"],o),e}function Qg(t){const e={},n=s(t,["name"]);n!=null&&a(e,["name"],n);const o=s(t,["metadata"]);o!=null&&a(e,["metadata"],o);const r=s(t,["done"]);r!=null&&a(e,["done"],r);const i=s(t,["error"]);i!=null&&a(e,["error"],i);const l=s(t,["response","generateVideoResponse"]);return l!=null&&a(e,["response"],Zg(l)),e}function Xg(t){const e={},n=s(t,["name"]);n!=null&&a(e,["name"],n);const o=s(t,["metadata"]);o!=null&&a(e,["metadata"],o);const r=s(t,["done"]);r!=null&&a(e,["done"],r);const i=s(t,["error"]);i!=null&&a(e,["error"],i);const l=s(t,["response"]);return l!=null&&a(e,["response"],jg(l)),e}function Zg(t){const e={},n=s(t,["generatedSamples"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>ev(l))),a(e,["generatedVideos"],i)}const o=s(t,["raiMediaFilteredCount"]);o!=null&&a(e,["raiMediaFilteredCount"],o);const r=s(t,["raiMediaFilteredReasons"]);return r!=null&&a(e,["raiMediaFilteredReasons"],r),e}function jg(t){const e={},n=s(t,["videos"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>tv(l))),a(e,["generatedVideos"],i)}const o=s(t,["raiMediaFilteredCount"]);o!=null&&a(e,["raiMediaFilteredCount"],o);const r=s(t,["raiMediaFilteredReasons"]);return r!=null&&a(e,["raiMediaFilteredReasons"],r),e}function ev(t){const e={},n=s(t,["video"]);return n!=null&&a(e,["video"],lv(n)),e}function tv(t){const e={},n=s(t,["_self"]);return n!=null&&a(e,["video"],av(n)),e}function nv(t){const e={},n=s(t,["operationName"]);return n!=null&&a(e,["_url","operationName"],n),e}function ov(t){const e={},n=s(t,["operationName"]);return n!=null&&a(e,["_url","operationName"],n),e}function rv(t){const e={},n=s(t,["name"]);n!=null&&a(e,["name"],n);const o=s(t,["metadata"]);o!=null&&a(e,["metadata"],o);const r=s(t,["done"]);r!=null&&a(e,["done"],r);const i=s(t,["error"]);i!=null&&a(e,["error"],i);const l=s(t,["response"]);return l!=null&&a(e,["response"],iv(l)),e}function iv(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["parent"]);o!=null&&a(e,["parent"],o);const r=s(t,["documentName"]);return r!=null&&a(e,["documentName"],r),e}function _p(t){const e={},n=s(t,["name"]);n!=null&&a(e,["name"],n);const o=s(t,["metadata"]);o!=null&&a(e,["metadata"],o);const r=s(t,["done"]);r!=null&&a(e,["done"],r);const i=s(t,["error"]);i!=null&&a(e,["error"],i);const l=s(t,["response"]);return l!=null&&a(e,["response"],sv(l)),e}function sv(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["parent"]);o!=null&&a(e,["parent"],o);const r=s(t,["documentName"]);return r!=null&&a(e,["documentName"],r),e}function lv(t){const e={},n=s(t,["uri"]);n!=null&&a(e,["uri"],n);const o=s(t,["encodedVideo"]);o!=null&&a(e,["videoBytes"],ea(o));const r=s(t,["encoding"]);return r!=null&&a(e,["mimeType"],r),e}function av(t){const e={},n=s(t,["gcsUri"]);n!=null&&a(e,["uri"],n);const o=s(t,["bytesBase64Encoded"]);o!=null&&a(e,["videoBytes"],ea(o));const r=s(t,["mimeType"]);return r!=null&&a(e,["mimeType"],r),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Eu;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Eu||(Eu={}));var _u;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(_u||(_u={}));var Tu;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(Tu||(Tu={}));var Pt;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(Pt||(Pt={}));var Su;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(Su||(Su={}));var Cu;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Cu||(Cu={}));var Iu;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(Iu||(Iu={}));var wu;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(wu||(wu={}));var Au;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(Au||(Au={}));var Ru;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH",t.MINIMAL="MINIMAL"})(Ru||(Ru={}));var Nu;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(Nu||(Nu={}));var xu;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(xu||(xu={}));var Pu;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(Pu||(Pu={}));var ku;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE",t.IMAGE_RECITATION="IMAGE_RECITATION",t.IMAGE_OTHER="IMAGE_OTHER"})(ku||(ku={}));var Mu;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(Mu||(Mu={}));var Du;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Du||(Du={}));var Lu;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Lu||(Lu={}));var Uu;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(Uu||(Uu={}));var Fu;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Fu||(Fu={}));var br;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(br||(br={}));var Vu;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Vu||(Vu={}));var Gu;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(Gu||(Gu={}));var Hu;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Hu||(Hu={}));var Ks;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Ks||(Ks={}));var Bu;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(Bu||(Bu={}));var Ou;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",t.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(Ou||(Ou={}));var qu;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(qu||(qu={}));var zu;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(zu||(zu={}));var $u;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})($u||($u={}));var Ju;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Ju||(Ju={}));var Wu;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(Wu||(Wu={}));var Ku;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(Ku||(Ku={}));var Yu;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(Yu||(Yu={}));var bu;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(bu||(bu={}));var Qu;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Qu||(Qu={}));var Xu;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Xu||(Xu={}));var Zu;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Zu||(Zu={}));var ju;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(ju||(ju={}));var ec;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(ec||(ec={}));var tc;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(tc||(tc={}));var nc;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(nc||(nc={}));var oc;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(oc||(oc={}));var rc;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(rc||(rc={}));var ic;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(ic||(ic={}));var sc;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(sc||(sc={}));var lc;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(lc||(lc={}));var ac;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(ac||(ac={}));var uc;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(uc||(uc={}));var cc;(function(t){t.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",t.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",t.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(cc||(cc={}));var dc;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(dc||(dc={}));var fc;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(fc||(fc={}));var pc;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(pc||(pc={}));var mc;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(mc||(mc={}));var hc;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(hc||(hc={}));var gc;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(gc||(gc={}));var In;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(In||(In={}));class Ys{constructor(e){const n={};for(const o of e.headers.entries())n[o[0]]=o[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class to{get text(){var e,n,o,r,i,l,u,c;if(((r=(o=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let d="",f=!1;const m=[];for(const p of(c=(u=(l=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)!==null&&c!==void 0?c:[]){for(const[h,E]of Object.entries(p))h!=="text"&&h!=="thought"&&h!=="thoughtSignature"&&(E!==null||E!==void 0)&&m.push(h);if(typeof p.text=="string"){if(typeof p.thought=="boolean"&&p.thought)continue;f=!0,d+=p.text}}return m.length>0&&console.warn(`there are non-text parts ${m} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),f?d:void 0}get data(){var e,n,o,r,i,l,u,c;if(((r=(o=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let d="";const f=[];for(const m of(c=(u=(l=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)!==null&&c!==void 0?c:[]){for(const[p,h]of Object.entries(m))p!=="inlineData"&&(h!==null||h!==void 0)&&f.push(p);m.inlineData&&typeof m.inlineData.data=="string"&&(d+=atob(m.inlineData.data))}return f.length>0&&console.warn(`there are non-data parts ${f} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),d.length>0?btoa(d):void 0}get functionCalls(){var e,n,o,r,i,l,u,c;if(((r=(o=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const d=(c=(u=(l=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(f=>f.functionCall).map(f=>f.functionCall).filter(f=>f!==void 0);if((d==null?void 0:d.length)!==0)return d}get executableCode(){var e,n,o,r,i,l,u,c,d;if(((r=(o=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const f=(c=(u=(l=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(m=>m.executableCode).map(m=>m.executableCode).filter(m=>m!==void 0);if((f==null?void 0:f.length)!==0)return(d=f==null?void 0:f[0])===null||d===void 0?void 0:d.code}get codeExecutionResult(){var e,n,o,r,i,l,u,c,d;if(((r=(o=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const f=(c=(u=(l=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(m=>m.codeExecutionResult).map(m=>m.codeExecutionResult).filter(m=>m!==void 0);if((f==null?void 0:f.length)!==0)return(d=f==null?void 0:f[0])===null||d===void 0?void 0:d.output}}class vc{}class yc{}class uv{}class cv{}class dv{}class fv{}class Ec{}class _c{}class Tc{}class pv{}class Qr{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const o=new Qr;let r;const i=e;return n?r=Xg(i):r=Qg(i),Object.assign(o,r),o}}class Sc{}class Cc{}class Ic{}class wc{}class mv{}class hv{}class gv{}class ta{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const o=new ta,i=rv(e);return Object.assign(o,i),o}}class vv{}class yv{}class Ev{}class Ac{}class _v{get text(){var e,n,o;let r="",i=!1;const l=[];for(const u of(o=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&o!==void 0?o:[]){for(const[c,d]of Object.entries(u))c!=="text"&&c!=="thought"&&d!==null&&l.push(c);if(typeof u.text=="string"){if(typeof u.thought=="boolean"&&u.thought)continue;i=!0,r+=u.text}}return l.length>0&&console.warn(`there are non-text parts ${l} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),i?r:void 0}get data(){var e,n,o;let r="";const i=[];for(const l of(o=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&o!==void 0?o:[]){for(const[u,c]of Object.entries(l))u!=="inlineData"&&c!==null&&i.push(u);l.inlineData&&typeof l.inlineData.data=="string"&&(r+=atob(l.inlineData.data))}return i.length>0&&console.warn(`there are non-data parts ${i} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),r.length>0?btoa(r):void 0}}class Tv{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class na{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const o=new na,i=_p(e);return Object.assign(o,i),o}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function J(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function Tp(t,e){const n=J(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function Sp(t){return Array.isArray(t)?t.map(e=>Xr(e)):[Xr(t)]}function Xr(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function Cp(t){const e=Xr(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Ip(t){const e=Xr(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Rc(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function wp(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>Rc(e)):[Rc(t)]}function bs(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function Nc(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function xc(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function Ee(t){if(t==null)throw new Error("ContentUnion is required");return bs(t)?t:{role:"user",parts:wp(t)}}function oa(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const o=Ee(n);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]});if(t.isVertexAI()){const n=Ee(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>Ee(n)):[Ee(e)]}function qe(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(Nc(t)||xc(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Ee(t)]}const e=[],n=[],o=bs(t[0]);for(const r of t){const i=bs(r);if(i!=o)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(i)e.push(r);else{if(Nc(r)||xc(r))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(r)}}return o||e.push({role:"user",parts:wp(n)}),e}function Sv(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(o=>o!=="null");if(n.length===1)e.type=Object.values(Pt).includes(n[0].toUpperCase())?n[0].toUpperCase():Pt.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const o of n)e.anyOf.push({type:Object.values(Pt).includes(o.toUpperCase())?o.toUpperCase():Pt.TYPE_UNSPECIFIED})}}function Mn(t){const e={},n=["items"],o=["anyOf"],r=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const i=t.anyOf;i!=null&&i.length==2&&(i[0].type==="null"?(e.nullable=!0,t=i[1]):i[1].type==="null"&&(e.nullable=!0,t=i[0])),t.type instanceof Array&&Sv(t.type,e);for(const[l,u]of Object.entries(t))if(u!=null)if(l=="type"){if(u==="null")throw new Error("type: null can not be the only possible type for the field.");if(u instanceof Array)continue;e.type=Object.values(Pt).includes(u.toUpperCase())?u.toUpperCase():Pt.TYPE_UNSPECIFIED}else if(n.includes(l))e[l]=Mn(u);else if(o.includes(l)){const c=[];for(const d of u){if(d.type=="null"){e.nullable=!0;continue}c.push(Mn(d))}e[l]=c}else if(r.includes(l)){const c={};for(const[d,f]of Object.entries(u))c[d]=Mn(f);e[l]=c}else{if(l==="additionalProperties")continue;e[l]=u}return e}function ra(t){return Mn(t)}function ia(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function sa(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function $n(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Mn(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Mn(e.response));return t}function Jn(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function Cv(t,e,n,o=1){const r=!e.startsWith(`${n}/`)&&e.split("/").length===o;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:r?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:r?`${n}/${e}`:e}function St(t,e){if(typeof e!="string")throw new Error("name must be a string");return Cv(t,e,"cachedContents")}function Ap(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function $t(t){return ea(t)}function Iv(t){return t!=null&&typeof t=="object"&&"name"in t}function wv(t){return t!=null&&typeof t=="object"&&"video"in t}function Av(t){return t!=null&&typeof t=="object"&&"uri"in t}function Rp(t){var e;let n;if(Iv(t)&&(n=t.name),!(Av(t)&&(n=t.uri,n===void 0))&&!(wv(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const r=n.split("files/")[1].match(/[a-z0-9]+/);if(r===null)throw new Error(`Could not extract file name from URI ${n}`);n=r[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function Np(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function xp(t){for(const e of["models","tunedModels","publisherModels"])if(Rv(t,e))return t[e];return[]}function Rv(t,e){return t!==null&&typeof t=="object"&&e in t}function Nv(t,e={}){const n=t,o={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(o.responseJsonSchema=n.outputSchema),e.behavior&&(o.behavior=e.behavior),{functionDeclarations:[o]}}function xv(t,e={}){const n=[],o=new Set;for(const r of t){const i=r.name;if(o.has(i))throw new Error(`Duplicate function name ${i} found in MCP tools. Please ensure function names are unique.`);o.add(i);const l=Nv(r,e);l.functionDeclarations&&n.push(...l.functionDeclarations)}return{functionDeclarations:n}}function Pp(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const o=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,r=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(r>0||o!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(o>0||r!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function Pv(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function kp(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const r=n.inlinedResponses;if(!Array.isArray(r)||r.length===0)return t;let i=!1;for(const l of r){if(typeof l!="object"||l===null)continue;const c=l.response;if(typeof c!="object"||c===null)continue;if(c.embedding!==void 0){i=!0;break}}return i&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function Wn(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function Mp(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function kv(t){const e={},n=s(t,["responsesFile"]);n!=null&&a(e,["fileName"],n);const o=s(t,["inlinedResponses","inlinedResponses"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(l=>dy(l))),a(e,["inlinedResponses"],i)}const r=s(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(l=>l)),a(e,["inlinedEmbedContentResponses"],i)}return e}function Mv(t){const e={},n=s(t,["predictionsFormat"]);n!=null&&a(e,["format"],n);const o=s(t,["gcsDestination","outputUriPrefix"]);o!=null&&a(e,["gcsUri"],o);const r=s(t,["bigqueryDestination","outputUri"]);return r!=null&&a(e,["bigqueryUri"],r),e}function Dv(t){const e={},n=s(t,["format"]);n!=null&&a(e,["predictionsFormat"],n);const o=s(t,["gcsUri"]);o!=null&&a(e,["gcsDestination","outputUriPrefix"],o);const r=s(t,["bigqueryUri"]);if(r!=null&&a(e,["bigqueryDestination","outputUri"],r),s(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(s(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(s(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function Cr(t){const e={},n=s(t,["name"]);n!=null&&a(e,["name"],n);const o=s(t,["metadata","displayName"]);o!=null&&a(e,["displayName"],o);const r=s(t,["metadata","state"]);r!=null&&a(e,["state"],Mp(r));const i=s(t,["metadata","createTime"]);i!=null&&a(e,["createTime"],i);const l=s(t,["metadata","endTime"]);l!=null&&a(e,["endTime"],l);const u=s(t,["metadata","updateTime"]);u!=null&&a(e,["updateTime"],u);const c=s(t,["metadata","model"]);c!=null&&a(e,["model"],c);const d=s(t,["metadata","output"]);return d!=null&&a(e,["dest"],kv(kp(d))),e}function Qs(t){const e={},n=s(t,["name"]);n!=null&&a(e,["name"],n);const o=s(t,["displayName"]);o!=null&&a(e,["displayName"],o);const r=s(t,["state"]);r!=null&&a(e,["state"],Mp(r));const i=s(t,["error"]);i!=null&&a(e,["error"],i);const l=s(t,["createTime"]);l!=null&&a(e,["createTime"],l);const u=s(t,["startTime"]);u!=null&&a(e,["startTime"],u);const c=s(t,["endTime"]);c!=null&&a(e,["endTime"],c);const d=s(t,["updateTime"]);d!=null&&a(e,["updateTime"],d);const f=s(t,["model"]);f!=null&&a(e,["model"],f);const m=s(t,["inputConfig"]);m!=null&&a(e,["src"],Lv(m));const p=s(t,["outputConfig"]);p!=null&&a(e,["dest"],Mv(kp(p)));const h=s(t,["completionStats"]);return h!=null&&a(e,["completionStats"],h),e}function Lv(t){const e={},n=s(t,["instancesFormat"]);n!=null&&a(e,["format"],n);const o=s(t,["gcsSource","uris"]);o!=null&&a(e,["gcsUri"],o);const r=s(t,["bigquerySource","inputUri"]);return r!=null&&a(e,["bigqueryUri"],r),e}function Uv(t,e){const n={};if(s(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(s(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(s(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const o=s(e,["fileName"]);o!=null&&a(n,["fileName"],o);const r=s(e,["inlinedRequests"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(l=>cy(t,l))),a(n,["requests","requests"],i)}return n}function Fv(t){const e={},n=s(t,["format"]);n!=null&&a(e,["instancesFormat"],n);const o=s(t,["gcsUri"]);o!=null&&a(e,["gcsSource","uris"],o);const r=s(t,["bigqueryUri"]);if(r!=null&&a(e,["bigquerySource","inputUri"],r),s(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(s(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function Vv(t){const e={},n=s(t,["data"]);if(n!=null&&a(e,["data"],n),s(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(t,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function Gv(t,e){const n={},o=s(e,["name"]);return o!=null&&a(n,["_url","name"],Wn(t,o)),n}function Hv(t,e){const n={},o=s(e,["name"]);return o!=null&&a(n,["_url","name"],Wn(t,o)),n}function Bv(t){const e={},n=s(t,["content"]);n!=null&&a(e,["content"],n);const o=s(t,["citationMetadata"]);o!=null&&a(e,["citationMetadata"],Ov(o));const r=s(t,["tokenCount"]);r!=null&&a(e,["tokenCount"],r);const i=s(t,["finishReason"]);i!=null&&a(e,["finishReason"],i);const l=s(t,["avgLogprobs"]);l!=null&&a(e,["avgLogprobs"],l);const u=s(t,["groundingMetadata"]);u!=null&&a(e,["groundingMetadata"],u);const c=s(t,["index"]);c!=null&&a(e,["index"],c);const d=s(t,["logprobsResult"]);d!=null&&a(e,["logprobsResult"],d);const f=s(t,["safetyRatings"]);if(f!=null){let p=f;Array.isArray(p)&&(p=p.map(h=>h)),a(e,["safetyRatings"],p)}const m=s(t,["urlContextMetadata"]);return m!=null&&a(e,["urlContextMetadata"],m),e}function Ov(t){const e={},n=s(t,["citationSources"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>r)),a(e,["citations"],o)}return e}function Dp(t){const e={},n=s(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>yy(i))),a(e,["parts"],r)}const o=s(t,["role"]);return o!=null&&a(e,["role"],o),e}function qv(t,e){const n={},o=s(t,["displayName"]);if(e!==void 0&&o!=null&&a(e,["batch","displayName"],o),s(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function zv(t,e){const n={},o=s(t,["displayName"]);e!==void 0&&o!=null&&a(e,["displayName"],o);const r=s(t,["dest"]);return e!==void 0&&r!=null&&a(e,["outputConfig"],Dv(Pv(r))),n}function Pc(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["_url","model"],J(t,o));const r=s(e,["src"]);r!=null&&a(n,["batch","inputConfig"],Uv(t,Pp(t,r)));const i=s(e,["config"]);return i!=null&&qv(i,n),n}function $v(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["model"],J(t,o));const r=s(e,["src"]);r!=null&&a(n,["inputConfig"],Fv(Pp(t,r)));const i=s(e,["config"]);return i!=null&&zv(i,n),n}function Jv(t,e){const n={},o=s(t,["displayName"]);return e!==void 0&&o!=null&&a(e,["batch","displayName"],o),n}function Wv(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["_url","model"],J(t,o));const r=s(e,["src"]);r!=null&&a(n,["batch","inputConfig"],jv(t,r));const i=s(e,["config"]);return i!=null&&Jv(i,n),n}function Kv(t,e){const n={},o=s(e,["name"]);return o!=null&&a(n,["_url","name"],Wn(t,o)),n}function Yv(t,e){const n={},o=s(e,["name"]);return o!=null&&a(n,["_url","name"],Wn(t,o)),n}function bv(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["name"]);o!=null&&a(e,["name"],o);const r=s(t,["done"]);r!=null&&a(e,["done"],r);const i=s(t,["error"]);return i!=null&&a(e,["error"],i),e}function Qv(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["name"]);o!=null&&a(e,["name"],o);const r=s(t,["done"]);r!=null&&a(e,["done"],r);const i=s(t,["error"]);return i!=null&&a(e,["error"],i),e}function Xv(t,e){const n={},o=s(e,["contents"]);if(o!=null){let i=oa(t,o);Array.isArray(i)&&(i=i.map(l=>l)),a(n,["requests[]","request","content"],i)}const r=s(e,["config"]);return r!=null&&(a(n,["_self"],Zv(r,n)),Yg(n,{"requests[].*":"requests[].request.*"})),n}function Zv(t,e){const n={},o=s(t,["taskType"]);e!==void 0&&o!=null&&a(e,["requests[]","taskType"],o);const r=s(t,["title"]);e!==void 0&&r!=null&&a(e,["requests[]","title"],r);const i=s(t,["outputDimensionality"]);if(e!==void 0&&i!=null&&a(e,["requests[]","outputDimensionality"],i),s(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(s(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function jv(t,e){const n={},o=s(e,["fileName"]);o!=null&&a(n,["file_name"],o);const r=s(e,["inlinedRequests"]);return r!=null&&a(n,["requests"],Xv(t,r)),n}function ey(t){const e={};if(s(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=s(t,["fileUri"]);n!=null&&a(e,["fileUri"],n);const o=s(t,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function ty(t){const e={},n=s(t,["id"]);n!=null&&a(e,["id"],n);const o=s(t,["args"]);o!=null&&a(e,["args"],o);const r=s(t,["name"]);if(r!=null&&a(e,["name"],r),s(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(s(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function ny(t){const e={},n=s(t,["mode"]);n!=null&&a(e,["mode"],n);const o=s(t,["allowedFunctionNames"]);if(o!=null&&a(e,["allowedFunctionNames"],o),s(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function oy(t,e,n){const o={},r=s(e,["systemInstruction"]);n!==void 0&&r!=null&&a(n,["systemInstruction"],Dp(Ee(r)));const i=s(e,["temperature"]);i!=null&&a(o,["temperature"],i);const l=s(e,["topP"]);l!=null&&a(o,["topP"],l);const u=s(e,["topK"]);u!=null&&a(o,["topK"],u);const c=s(e,["candidateCount"]);c!=null&&a(o,["candidateCount"],c);const d=s(e,["maxOutputTokens"]);d!=null&&a(o,["maxOutputTokens"],d);const f=s(e,["stopSequences"]);f!=null&&a(o,["stopSequences"],f);const m=s(e,["responseLogprobs"]);m!=null&&a(o,["responseLogprobs"],m);const p=s(e,["logprobs"]);p!=null&&a(o,["logprobs"],p);const h=s(e,["presencePenalty"]);h!=null&&a(o,["presencePenalty"],h);const E=s(e,["frequencyPenalty"]);E!=null&&a(o,["frequencyPenalty"],E);const _=s(e,["seed"]);_!=null&&a(o,["seed"],_);const S=s(e,["responseMimeType"]);S!=null&&a(o,["responseMimeType"],S);const v=s(e,["responseSchema"]);v!=null&&a(o,["responseSchema"],ra(v));const g=s(e,["responseJsonSchema"]);if(g!=null&&a(o,["responseJsonSchema"],g),s(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(s(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const y=s(e,["safetySettings"]);if(n!==void 0&&y!=null){let z=y;Array.isArray(z)&&(z=z.map(U=>Ey(U))),a(n,["safetySettings"],z)}const T=s(e,["tools"]);if(n!==void 0&&T!=null){let z=Jn(T);Array.isArray(z)&&(z=z.map(U=>Ty($n(U)))),a(n,["tools"],z)}const C=s(e,["toolConfig"]);if(n!==void 0&&C!=null&&a(n,["toolConfig"],_y(C)),s(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const A=s(e,["cachedContent"]);n!==void 0&&A!=null&&a(n,["cachedContent"],St(t,A));const w=s(e,["responseModalities"]);w!=null&&a(o,["responseModalities"],w);const R=s(e,["mediaResolution"]);R!=null&&a(o,["mediaResolution"],R);const P=s(e,["speechConfig"]);if(P!=null&&a(o,["speechConfig"],ia(P)),s(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const x=s(e,["thinkingConfig"]);x!=null&&a(o,["thinkingConfig"],x);const H=s(e,["imageConfig"]);H!=null&&a(o,["imageConfig"],uy(H));const ie=s(e,["enableEnhancedCivicAnswers"]);return ie!=null&&a(o,["enableEnhancedCivicAnswers"],ie),o}function ry(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["candidates"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>Bv(d))),a(e,["candidates"],c)}const r=s(t,["modelVersion"]);r!=null&&a(e,["modelVersion"],r);const i=s(t,["promptFeedback"]);i!=null&&a(e,["promptFeedback"],i);const l=s(t,["responseId"]);l!=null&&a(e,["responseId"],l);const u=s(t,["usageMetadata"]);return u!=null&&a(e,["usageMetadata"],u),e}function iy(t,e){const n={},o=s(e,["name"]);return o!=null&&a(n,["_url","name"],Wn(t,o)),n}function sy(t,e){const n={},o=s(e,["name"]);return o!=null&&a(n,["_url","name"],Wn(t,o)),n}function ly(t){const e={};if(s(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=s(t,["enableWidget"]);return n!=null&&a(e,["enableWidget"],n),e}function ay(t){const e={};if(s(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(s(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=s(t,["timeRangeFilter"]);return n!=null&&a(e,["timeRangeFilter"],n),e}function uy(t){const e={},n=s(t,["aspectRatio"]);n!=null&&a(e,["aspectRatio"],n);const o=s(t,["imageSize"]);if(o!=null&&a(e,["imageSize"],o),s(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(s(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function cy(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["request","model"],J(t,o));const r=s(e,["contents"]);if(r!=null){let u=qe(r);Array.isArray(u)&&(u=u.map(c=>Dp(c))),a(n,["request","contents"],u)}const i=s(e,["metadata"]);i!=null&&a(n,["metadata"],i);const l=s(e,["config"]);return l!=null&&a(n,["request","generationConfig"],oy(t,l,s(n,["request"],{}))),n}function dy(t){const e={},n=s(t,["response"]);n!=null&&a(e,["response"],ry(n));const o=s(t,["error"]);return o!=null&&a(e,["error"],o),e}function fy(t,e){const n={},o=s(t,["pageSize"]);e!==void 0&&o!=null&&a(e,["_query","pageSize"],o);const r=s(t,["pageToken"]);if(e!==void 0&&r!=null&&a(e,["_query","pageToken"],r),s(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function py(t,e){const n={},o=s(t,["pageSize"]);e!==void 0&&o!=null&&a(e,["_query","pageSize"],o);const r=s(t,["pageToken"]);e!==void 0&&r!=null&&a(e,["_query","pageToken"],r);const i=s(t,["filter"]);return e!==void 0&&i!=null&&a(e,["_query","filter"],i),n}function my(t){const e={},n=s(t,["config"]);return n!=null&&fy(n,e),e}function hy(t){const e={},n=s(t,["config"]);return n!=null&&py(n,e),e}function gy(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["nextPageToken"]);o!=null&&a(e,["nextPageToken"],o);const r=s(t,["operations"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(l=>Cr(l))),a(e,["batchJobs"],i)}return e}function vy(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["nextPageToken"]);o!=null&&a(e,["nextPageToken"],o);const r=s(t,["batchPredictionJobs"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(l=>Qs(l))),a(e,["batchJobs"],i)}return e}function yy(t){const e={},n=s(t,["mediaResolution"]);n!=null&&a(e,["mediaResolution"],n);const o=s(t,["codeExecutionResult"]);o!=null&&a(e,["codeExecutionResult"],o);const r=s(t,["executableCode"]);r!=null&&a(e,["executableCode"],r);const i=s(t,["fileData"]);i!=null&&a(e,["fileData"],ey(i));const l=s(t,["functionCall"]);l!=null&&a(e,["functionCall"],ty(l));const u=s(t,["functionResponse"]);u!=null&&a(e,["functionResponse"],u);const c=s(t,["inlineData"]);c!=null&&a(e,["inlineData"],Vv(c));const d=s(t,["text"]);d!=null&&a(e,["text"],d);const f=s(t,["thought"]);f!=null&&a(e,["thought"],f);const m=s(t,["thoughtSignature"]);m!=null&&a(e,["thoughtSignature"],m);const p=s(t,["videoMetadata"]);return p!=null&&a(e,["videoMetadata"],p),e}function Ey(t){const e={},n=s(t,["category"]);if(n!=null&&a(e,["category"],n),s(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const o=s(t,["threshold"]);return o!=null&&a(e,["threshold"],o),e}function _y(t){const e={},n=s(t,["functionCallingConfig"]);n!=null&&a(e,["functionCallingConfig"],ny(n));const o=s(t,["retrievalConfig"]);return o!=null&&a(e,["retrievalConfig"],o),e}function Ty(t){const e={},n=s(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(m=>m)),a(e,["functionDeclarations"],f)}if(s(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=s(t,["googleSearchRetrieval"]);o!=null&&a(e,["googleSearchRetrieval"],o);const r=s(t,["computerUse"]);r!=null&&a(e,["computerUse"],r);const i=s(t,["fileSearch"]);i!=null&&a(e,["fileSearch"],i);const l=s(t,["codeExecution"]);if(l!=null&&a(e,["codeExecution"],l),s(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=s(t,["googleMaps"]);u!=null&&a(e,["googleMaps"],ly(u));const c=s(t,["googleSearch"]);c!=null&&a(e,["googleSearch"],ay(c));const d=s(t,["urlContext"]);return d!=null&&a(e,["urlContext"],d),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Et;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(Et||(Et={}));class un{constructor(e,n,o,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,o,r)}init(e,n,o){var r,i;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let l={config:{}};!o||Object.keys(o).length===0?l={config:{}}:typeof o=="object"?l=Object.assign({},o):l=o,l.config&&(l.config.pageToken=n.nextPageToken),this.paramsInternal=l,this.pageInternalSize=(i=(r=l.config)===null||r===void 0?void 0:r.pageSize)!==null&&i!==void 0?i:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Sy extends Tt{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new un(Et.PAGED_ITEM_BATCH_JOBS,o=>this.listInternal(o),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(e){const n=Pc(this.apiClient,e),o=n._url,r=k("{model}:batchGenerateContent",o),u=n.batch.inputConfig.requests,c=u.requests,d=[];for(const f of c){const m=Object.assign({},f);if(m.systemInstruction){const p=m.systemInstruction;delete m.systemInstruction;const h=m.request;h.systemInstruction=p,m.request=h}d.push(m)}return u.requests=d,delete n.config,delete n._url,delete n._query,{path:r,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const o=n?Object.assign({},n):{},r=Date.now().toString();if(o.displayName||(o.displayName=`genaiBatchJob_${r}`),o.dest===void 0){const i=this.getGcsUri(e),l=this.getBigqueryUri(e);if(i)i.endsWith(".jsonl")?o.dest=`${i.slice(0,-6)}/dest`:o.dest=`${i}_dest_${r}`;else if(l)o.dest=`${l}_dest_${r}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return o}async createInternal(e){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=$v(this.apiClient,e);return u=k("batchPredictionJobs",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l.then(f=>Qs(f))}else{const d=Pc(this.apiClient,e);return u=k("{model}:batchGenerateContent",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>Cr(f))}}async createEmbeddingsInternal(e){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Wv(this.apiClient,e);return i=k("{model}:asyncBatchEmbedContent",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>Cr(c))}}async get(e){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=sy(this.apiClient,e);return u=k("batchPredictionJobs/{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l.then(f=>Qs(f))}else{const d=iy(this.apiClient,e);return u=k("batches/{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>Cr(f))}}async cancel(e){var n,o,r,i;let l="",u={};if(this.apiClient.isVertexAI()){const c=Hv(this.apiClient,e);l=k("batchPredictionJobs/{name}:cancel",c._url),u=c._query,delete c._url,delete c._query,await this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}else{const c=Gv(this.apiClient,e);l=k("batches/{name}:cancel",c._url),u=c._query,delete c._url,delete c._query,await this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}}async listInternal(e){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=hy(e);return u=k("batchPredictionJobs",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const m=vy(f),p=new Ac;return Object.assign(p,m),p})}else{const d=my(e);return u=k("batches",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const m=gy(f),p=new Ac;return Object.assign(p,m),p})}}async delete(e){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=Yv(this.apiClient,e);return u=k("batchPredictionJobs/{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>Qv(f))}else{const d=Kv(this.apiClient,e);return u=k("batches/{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>bv(f))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Cy(t){const e={},n=s(t,["data"]);if(n!=null&&a(e,["data"],n),s(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(t,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function kc(t){const e={},n=s(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>Wy(i))),a(e,["parts"],r)}const o=s(t,["role"]);return o!=null&&a(e,["role"],o),e}function Iy(t,e){const n={},o=s(t,["ttl"]);e!==void 0&&o!=null&&a(e,["ttl"],o);const r=s(t,["expireTime"]);e!==void 0&&r!=null&&a(e,["expireTime"],r);const i=s(t,["displayName"]);e!==void 0&&i!=null&&a(e,["displayName"],i);const l=s(t,["contents"]);if(e!==void 0&&l!=null){let f=qe(l);Array.isArray(f)&&(f=f.map(m=>kc(m))),a(e,["contents"],f)}const u=s(t,["systemInstruction"]);e!==void 0&&u!=null&&a(e,["systemInstruction"],kc(Ee(u)));const c=s(t,["tools"]);if(e!==void 0&&c!=null){let f=c;Array.isArray(f)&&(f=f.map(m=>Yy(m))),a(e,["tools"],f)}const d=s(t,["toolConfig"]);if(e!==void 0&&d!=null&&a(e,["toolConfig"],Ky(d)),s(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function wy(t,e){const n={},o=s(t,["ttl"]);e!==void 0&&o!=null&&a(e,["ttl"],o);const r=s(t,["expireTime"]);e!==void 0&&r!=null&&a(e,["expireTime"],r);const i=s(t,["displayName"]);e!==void 0&&i!=null&&a(e,["displayName"],i);const l=s(t,["contents"]);if(e!==void 0&&l!=null){let m=qe(l);Array.isArray(m)&&(m=m.map(p=>p)),a(e,["contents"],m)}const u=s(t,["systemInstruction"]);e!==void 0&&u!=null&&a(e,["systemInstruction"],Ee(u));const c=s(t,["tools"]);if(e!==void 0&&c!=null){let m=c;Array.isArray(m)&&(m=m.map(p=>by(p))),a(e,["tools"],m)}const d=s(t,["toolConfig"]);e!==void 0&&d!=null&&a(e,["toolConfig"],d);const f=s(t,["kmsKeyName"]);return e!==void 0&&f!=null&&a(e,["encryption_spec","kmsKeyName"],f),n}function Ay(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["model"],Tp(t,o));const r=s(e,["config"]);return r!=null&&Iy(r,n),n}function Ry(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["model"],Tp(t,o));const r=s(e,["config"]);return r!=null&&wy(r,n),n}function Ny(t,e){const n={},o=s(e,["name"]);return o!=null&&a(n,["_url","name"],St(t,o)),n}function xy(t,e){const n={},o=s(e,["name"]);return o!=null&&a(n,["_url","name"],St(t,o)),n}function Py(t){const e={},n=s(t,["sdkHttpResponse"]);return n!=null&&a(e,["sdkHttpResponse"],n),e}function ky(t){const e={},n=s(t,["sdkHttpResponse"]);return n!=null&&a(e,["sdkHttpResponse"],n),e}function My(t){const e={};if(s(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=s(t,["fileUri"]);n!=null&&a(e,["fileUri"],n);const o=s(t,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function Dy(t){const e={},n=s(t,["id"]);n!=null&&a(e,["id"],n);const o=s(t,["args"]);o!=null&&a(e,["args"],o);const r=s(t,["name"]);if(r!=null&&a(e,["name"],r),s(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(s(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Ly(t){const e={},n=s(t,["mode"]);n!=null&&a(e,["mode"],n);const o=s(t,["allowedFunctionNames"]);if(o!=null&&a(e,["allowedFunctionNames"],o),s(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Uy(t){const e={};if(s(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=s(t,["description"]);n!=null&&a(e,["description"],n);const o=s(t,["name"]);o!=null&&a(e,["name"],o);const r=s(t,["parameters"]);r!=null&&a(e,["parameters"],r);const i=s(t,["parametersJsonSchema"]);i!=null&&a(e,["parametersJsonSchema"],i);const l=s(t,["response"]);l!=null&&a(e,["response"],l);const u=s(t,["responseJsonSchema"]);return u!=null&&a(e,["responseJsonSchema"],u),e}function Fy(t,e){const n={},o=s(e,["name"]);return o!=null&&a(n,["_url","name"],St(t,o)),n}function Vy(t,e){const n={},o=s(e,["name"]);return o!=null&&a(n,["_url","name"],St(t,o)),n}function Gy(t){const e={};if(s(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=s(t,["enableWidget"]);return n!=null&&a(e,["enableWidget"],n),e}function Hy(t){const e={};if(s(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(s(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=s(t,["timeRangeFilter"]);return n!=null&&a(e,["timeRangeFilter"],n),e}function By(t,e){const n={},o=s(t,["pageSize"]);e!==void 0&&o!=null&&a(e,["_query","pageSize"],o);const r=s(t,["pageToken"]);return e!==void 0&&r!=null&&a(e,["_query","pageToken"],r),n}function Oy(t,e){const n={},o=s(t,["pageSize"]);e!==void 0&&o!=null&&a(e,["_query","pageSize"],o);const r=s(t,["pageToken"]);return e!==void 0&&r!=null&&a(e,["_query","pageToken"],r),n}function qy(t){const e={},n=s(t,["config"]);return n!=null&&By(n,e),e}function zy(t){const e={},n=s(t,["config"]);return n!=null&&Oy(n,e),e}function $y(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["nextPageToken"]);o!=null&&a(e,["nextPageToken"],o);const r=s(t,["cachedContents"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(l=>l)),a(e,["cachedContents"],i)}return e}function Jy(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["nextPageToken"]);o!=null&&a(e,["nextPageToken"],o);const r=s(t,["cachedContents"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(l=>l)),a(e,["cachedContents"],i)}return e}function Wy(t){const e={},n=s(t,["mediaResolution"]);n!=null&&a(e,["mediaResolution"],n);const o=s(t,["codeExecutionResult"]);o!=null&&a(e,["codeExecutionResult"],o);const r=s(t,["executableCode"]);r!=null&&a(e,["executableCode"],r);const i=s(t,["fileData"]);i!=null&&a(e,["fileData"],My(i));const l=s(t,["functionCall"]);l!=null&&a(e,["functionCall"],Dy(l));const u=s(t,["functionResponse"]);u!=null&&a(e,["functionResponse"],u);const c=s(t,["inlineData"]);c!=null&&a(e,["inlineData"],Cy(c));const d=s(t,["text"]);d!=null&&a(e,["text"],d);const f=s(t,["thought"]);f!=null&&a(e,["thought"],f);const m=s(t,["thoughtSignature"]);m!=null&&a(e,["thoughtSignature"],m);const p=s(t,["videoMetadata"]);return p!=null&&a(e,["videoMetadata"],p),e}function Ky(t){const e={},n=s(t,["functionCallingConfig"]);n!=null&&a(e,["functionCallingConfig"],Ly(n));const o=s(t,["retrievalConfig"]);return o!=null&&a(e,["retrievalConfig"],o),e}function Yy(t){const e={},n=s(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(m=>m)),a(e,["functionDeclarations"],f)}if(s(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=s(t,["googleSearchRetrieval"]);o!=null&&a(e,["googleSearchRetrieval"],o);const r=s(t,["computerUse"]);r!=null&&a(e,["computerUse"],r);const i=s(t,["fileSearch"]);i!=null&&a(e,["fileSearch"],i);const l=s(t,["codeExecution"]);if(l!=null&&a(e,["codeExecution"],l),s(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=s(t,["googleMaps"]);u!=null&&a(e,["googleMaps"],Gy(u));const c=s(t,["googleSearch"]);c!=null&&a(e,["googleSearch"],Hy(c));const d=s(t,["urlContext"]);return d!=null&&a(e,["urlContext"],d),e}function by(t){const e={},n=s(t,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(p=>Uy(p))),a(e,["functionDeclarations"],m)}const o=s(t,["retrieval"]);o!=null&&a(e,["retrieval"],o);const r=s(t,["googleSearchRetrieval"]);r!=null&&a(e,["googleSearchRetrieval"],r);const i=s(t,["computerUse"]);if(i!=null&&a(e,["computerUse"],i),s(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=s(t,["codeExecution"]);l!=null&&a(e,["codeExecution"],l);const u=s(t,["enterpriseWebSearch"]);u!=null&&a(e,["enterpriseWebSearch"],u);const c=s(t,["googleMaps"]);c!=null&&a(e,["googleMaps"],c);const d=s(t,["googleSearch"]);d!=null&&a(e,["googleSearch"],d);const f=s(t,["urlContext"]);return f!=null&&a(e,["urlContext"],f),e}function Qy(t,e){const n={},o=s(t,["ttl"]);e!==void 0&&o!=null&&a(e,["ttl"],o);const r=s(t,["expireTime"]);return e!==void 0&&r!=null&&a(e,["expireTime"],r),n}function Xy(t,e){const n={},o=s(t,["ttl"]);e!==void 0&&o!=null&&a(e,["ttl"],o);const r=s(t,["expireTime"]);return e!==void 0&&r!=null&&a(e,["expireTime"],r),n}function Zy(t,e){const n={},o=s(e,["name"]);o!=null&&a(n,["_url","name"],St(t,o));const r=s(e,["config"]);return r!=null&&Qy(r,n),n}function jy(t,e){const n={},o=s(e,["name"]);o!=null&&a(n,["_url","name"],St(t,o));const r=s(e,["config"]);return r!=null&&Xy(r,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class e0 extends Tt{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new un(Et.PAGED_ITEM_CACHED_CONTENTS,o=>this.listInternal(o),await this.listInternal(n),n)}async create(e){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=Ry(this.apiClient,e);return u=k("cachedContents",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l.then(f=>f)}else{const d=Ay(this.apiClient,e);return u=k("cachedContents",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>f)}}async get(e){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=Vy(this.apiClient,e);return u=k("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l.then(f=>f)}else{const d=Fy(this.apiClient,e);return u=k("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>f)}}async delete(e){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=xy(this.apiClient,e);return u=k("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const m=ky(f),p=new Ic;return Object.assign(p,m),p})}else{const d=Ny(this.apiClient,e);return u=k("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const m=Py(f),p=new Ic;return Object.assign(p,m),p})}}async update(e){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=jy(this.apiClient,e);return u=k("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l.then(f=>f)}else{const d=Zy(this.apiClient,e);return u=k("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>f)}}async listInternal(e){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=zy(e);return u=k("cachedContents",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const m=Jy(f),p=new wc;return Object.assign(p,m),p})}else{const d=qy(e);return u=k("cachedContents",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const m=$y(f),p=new wc;return Object.assign(p,m),p})}}}function Zr(t,e){var n={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(n[o]=t[o]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,o=Object.getOwnPropertySymbols(t);r<o.length;r++)e.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(t,o[r])&&(n[o[r]]=t[o[r]]);return n}function Mc(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],o=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function L(t){return this instanceof L?(this.v=t,this):new L(t)}function je(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=n.apply(t,e||[]),r,i=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",l),r[Symbol.asyncIterator]=function(){return this},r;function l(h){return function(E){return Promise.resolve(E).then(h,m)}}function u(h,E){o[h]&&(r[h]=function(_){return new Promise(function(S,v){i.push([h,_,S,v])>1||c(h,_)})},E&&(r[h]=E(r[h])))}function c(h,E){try{d(o[h](E))}catch(_){p(i[0][3],_)}}function d(h){h.value instanceof L?Promise.resolve(h.value.v).then(f,m):p(i[0][2],h)}function f(h){c("next",h)}function m(h){c("throw",h)}function p(h,E){h(E),i.shift(),i.length&&c(i[0][0],i[0][1])}}function et(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Mc=="function"?Mc(t):t[Symbol.iterator](),n={},o("next"),o("throw"),o("return"),n[Symbol.asyncIterator]=function(){return this},n);function o(i){n[i]=t[i]&&function(l){return new Promise(function(u,c){l=t[i](l),r(u,c,l.done,l.value)})}}function r(i,l,u,c){Promise.resolve(c).then(function(d){i({value:d,done:u})},l)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function t0(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:Lp(n)}function Lp(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function n0(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function Dc(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let o=0;for(;o<n;)if(t[o].role==="user")e.push(t[o]),o++;else{const r=[];let i=!0;for(;o<n&&t[o].role==="model";)r.push(t[o]),i&&!Lp(t[o])&&(i=!1),o++;i?e.push(...r):e.pop()}return e}class o0{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new r0(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class r0{constructor(e,n,o,r={},i=[]){this.apiClient=e,this.modelsModule=n,this.model=o,this.config=r,this.history=i,this.sendPromise=Promise.resolve(),n0(i)}async sendMessage(e){var n;await this.sendPromise;const o=Ee(e.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(o),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var i,l,u;const c=await r,d=(l=(i=c.candidates)===null||i===void 0?void 0:i[0])===null||l===void 0?void 0:l.content,f=c.automaticFunctionCallingHistory,m=this.getHistory(!0).length;let p=[];f!=null&&(p=(u=f.slice(m))!==null&&u!==void 0?u:[]);const h=d?[d]:[];this.recordHistory(o,h,p)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),r}async sendMessageStream(e){var n;await this.sendPromise;const o=Ee(e.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(o),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});const i=await r;return this.processStreamResponse(i,o)}getHistory(e=!1){const n=e?Dc(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){return je(this,arguments,function*(){var r,i,l,u,c,d;const f=[];try{for(var m=!0,p=et(e),h;h=yield L(p.next()),r=h.done,!r;m=!0){u=h.value,m=!1;const E=u;if(t0(E)){const _=(d=(c=E.candidates)===null||c===void 0?void 0:c[0])===null||d===void 0?void 0:d.content;_!==void 0&&f.push(_)}yield yield L(E)}}catch(E){i={error:E}}finally{try{!m&&!r&&(l=p.return)&&(yield L(l.call(p)))}finally{if(i)throw i.error}}this.recordHistory(n,f)})}recordHistory(e,n,o){let r=[];n.length>0&&n.every(i=>i.role!==void 0)?r=n:r.push({role:"model",parts:[]}),o&&o.length>0?this.history.push(...Dc(o)):this.history.push(e),this.history.push(...r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class vi extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,vi.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function i0(t){const e={},n=s(t,["file"]);return n!=null&&a(e,["file"],n),e}function s0(t){const e={},n=s(t,["sdkHttpResponse"]);return n!=null&&a(e,["sdkHttpResponse"],n),e}function l0(t){const e={},n=s(t,["name"]);return n!=null&&a(e,["_url","file"],Rp(n)),e}function a0(t){const e={},n=s(t,["sdkHttpResponse"]);return n!=null&&a(e,["sdkHttpResponse"],n),e}function u0(t){const e={},n=s(t,["name"]);return n!=null&&a(e,["_url","file"],Rp(n)),e}function c0(t,e){const n={},o=s(t,["pageSize"]);e!==void 0&&o!=null&&a(e,["_query","pageSize"],o);const r=s(t,["pageToken"]);return e!==void 0&&r!=null&&a(e,["_query","pageToken"],r),n}function d0(t){const e={},n=s(t,["config"]);return n!=null&&c0(n,e),e}function f0(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["nextPageToken"]);o!=null&&a(e,["nextPageToken"],o);const r=s(t,["files"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(l=>l)),a(e,["files"],i)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class p0 extends Tt{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new un(Et.PAGED_ITEM_FILES,o=>this.listInternal(o),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=d0(e);return i=k("files",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),r.then(c=>{const d=f0(c),f=new vv;return Object.assign(f,d),f})}}async createInternal(e){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=i0(e);return i=k("upload/v1beta/files",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>{const d=s0(c),f=new yv;return Object.assign(f,d),f})}}async get(e){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=u0(e);return i=k("files/{file}",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>c)}}async delete(e){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=l0(e);return i=k("files/{file}",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),r.then(c=>{const d=a0(c),f=new Ev;return Object.assign(f,d),f})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ir(t){const e={},n=s(t,["data"]);if(n!=null&&a(e,["data"],n),s(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(t,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function m0(t){const e={},n=s(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>P0(i))),a(e,["parts"],r)}const o=s(t,["role"]);return o!=null&&a(e,["role"],o),e}function h0(t){const e={};if(s(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=s(t,["fileUri"]);n!=null&&a(e,["fileUri"],n);const o=s(t,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function g0(t){const e={},n=s(t,["id"]);n!=null&&a(e,["id"],n);const o=s(t,["args"]);o!=null&&a(e,["args"],o);const r=s(t,["name"]);if(r!=null&&a(e,["name"],r),s(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(s(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function v0(t){const e={};if(s(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=s(t,["description"]);n!=null&&a(e,["description"],n);const o=s(t,["name"]);o!=null&&a(e,["name"],o);const r=s(t,["parameters"]);r!=null&&a(e,["parameters"],r);const i=s(t,["parametersJsonSchema"]);i!=null&&a(e,["parametersJsonSchema"],i);const l=s(t,["response"]);l!=null&&a(e,["response"],l);const u=s(t,["responseJsonSchema"]);return u!=null&&a(e,["responseJsonSchema"],u),e}function y0(t){const e={},n=s(t,["modelSelectionConfig"]);n!=null&&a(e,["modelConfig"],n);const o=s(t,["responseJsonSchema"]);o!=null&&a(e,["responseJsonSchema"],o);const r=s(t,["audioTimestamp"]);r!=null&&a(e,["audioTimestamp"],r);const i=s(t,["candidateCount"]);i!=null&&a(e,["candidateCount"],i);const l=s(t,["enableAffectiveDialog"]);l!=null&&a(e,["enableAffectiveDialog"],l);const u=s(t,["frequencyPenalty"]);u!=null&&a(e,["frequencyPenalty"],u);const c=s(t,["logprobs"]);c!=null&&a(e,["logprobs"],c);const d=s(t,["maxOutputTokens"]);d!=null&&a(e,["maxOutputTokens"],d);const f=s(t,["mediaResolution"]);f!=null&&a(e,["mediaResolution"],f);const m=s(t,["presencePenalty"]);m!=null&&a(e,["presencePenalty"],m);const p=s(t,["responseLogprobs"]);p!=null&&a(e,["responseLogprobs"],p);const h=s(t,["responseMimeType"]);h!=null&&a(e,["responseMimeType"],h);const E=s(t,["responseModalities"]);E!=null&&a(e,["responseModalities"],E);const _=s(t,["responseSchema"]);_!=null&&a(e,["responseSchema"],_);const S=s(t,["routingConfig"]);S!=null&&a(e,["routingConfig"],S);const v=s(t,["seed"]);v!=null&&a(e,["seed"],v);const g=s(t,["speechConfig"]);g!=null&&a(e,["speechConfig"],g);const y=s(t,["stopSequences"]);y!=null&&a(e,["stopSequences"],y);const T=s(t,["temperature"]);T!=null&&a(e,["temperature"],T);const C=s(t,["thinkingConfig"]);C!=null&&a(e,["thinkingConfig"],C);const A=s(t,["topK"]);A!=null&&a(e,["topK"],A);const w=s(t,["topP"]);if(w!=null&&a(e,["topP"],w),s(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function E0(t){const e={};if(s(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=s(t,["enableWidget"]);return n!=null&&a(e,["enableWidget"],n),e}function _0(t){const e={};if(s(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(s(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=s(t,["timeRangeFilter"]);return n!=null&&a(e,["timeRangeFilter"],n),e}function T0(t,e){const n={},o=s(t,["generationConfig"]);e!==void 0&&o!=null&&a(e,["setup","generationConfig"],o);const r=s(t,["responseModalities"]);e!==void 0&&r!=null&&a(e,["setup","generationConfig","responseModalities"],r);const i=s(t,["temperature"]);e!==void 0&&i!=null&&a(e,["setup","generationConfig","temperature"],i);const l=s(t,["topP"]);e!==void 0&&l!=null&&a(e,["setup","generationConfig","topP"],l);const u=s(t,["topK"]);e!==void 0&&u!=null&&a(e,["setup","generationConfig","topK"],u);const c=s(t,["maxOutputTokens"]);e!==void 0&&c!=null&&a(e,["setup","generationConfig","maxOutputTokens"],c);const d=s(t,["mediaResolution"]);e!==void 0&&d!=null&&a(e,["setup","generationConfig","mediaResolution"],d);const f=s(t,["seed"]);e!==void 0&&f!=null&&a(e,["setup","generationConfig","seed"],f);const m=s(t,["speechConfig"]);e!==void 0&&m!=null&&a(e,["setup","generationConfig","speechConfig"],sa(m));const p=s(t,["thinkingConfig"]);e!==void 0&&p!=null&&a(e,["setup","generationConfig","thinkingConfig"],p);const h=s(t,["enableAffectiveDialog"]);e!==void 0&&h!=null&&a(e,["setup","generationConfig","enableAffectiveDialog"],h);const E=s(t,["systemInstruction"]);e!==void 0&&E!=null&&a(e,["setup","systemInstruction"],m0(Ee(E)));const _=s(t,["tools"]);if(e!==void 0&&_!=null){let A=Jn(_);Array.isArray(A)&&(A=A.map(w=>M0($n(w)))),a(e,["setup","tools"],A)}const S=s(t,["sessionResumption"]);e!==void 0&&S!=null&&a(e,["setup","sessionResumption"],k0(S));const v=s(t,["inputAudioTranscription"]);e!==void 0&&v!=null&&a(e,["setup","inputAudioTranscription"],v);const g=s(t,["outputAudioTranscription"]);e!==void 0&&g!=null&&a(e,["setup","outputAudioTranscription"],g);const y=s(t,["realtimeInputConfig"]);e!==void 0&&y!=null&&a(e,["setup","realtimeInputConfig"],y);const T=s(t,["contextWindowCompression"]);e!==void 0&&T!=null&&a(e,["setup","contextWindowCompression"],T);const C=s(t,["proactivity"]);if(e!==void 0&&C!=null&&a(e,["setup","proactivity"],C),s(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function S0(t,e){const n={},o=s(t,["generationConfig"]);e!==void 0&&o!=null&&a(e,["setup","generationConfig"],y0(o));const r=s(t,["responseModalities"]);e!==void 0&&r!=null&&a(e,["setup","generationConfig","responseModalities"],r);const i=s(t,["temperature"]);e!==void 0&&i!=null&&a(e,["setup","generationConfig","temperature"],i);const l=s(t,["topP"]);e!==void 0&&l!=null&&a(e,["setup","generationConfig","topP"],l);const u=s(t,["topK"]);e!==void 0&&u!=null&&a(e,["setup","generationConfig","topK"],u);const c=s(t,["maxOutputTokens"]);e!==void 0&&c!=null&&a(e,["setup","generationConfig","maxOutputTokens"],c);const d=s(t,["mediaResolution"]);e!==void 0&&d!=null&&a(e,["setup","generationConfig","mediaResolution"],d);const f=s(t,["seed"]);e!==void 0&&f!=null&&a(e,["setup","generationConfig","seed"],f);const m=s(t,["speechConfig"]);e!==void 0&&m!=null&&a(e,["setup","generationConfig","speechConfig"],sa(m));const p=s(t,["thinkingConfig"]);e!==void 0&&p!=null&&a(e,["setup","generationConfig","thinkingConfig"],p);const h=s(t,["enableAffectiveDialog"]);e!==void 0&&h!=null&&a(e,["setup","generationConfig","enableAffectiveDialog"],h);const E=s(t,["systemInstruction"]);e!==void 0&&E!=null&&a(e,["setup","systemInstruction"],Ee(E));const _=s(t,["tools"]);if(e!==void 0&&_!=null){let w=Jn(_);Array.isArray(w)&&(w=w.map(R=>D0($n(R)))),a(e,["setup","tools"],w)}const S=s(t,["sessionResumption"]);e!==void 0&&S!=null&&a(e,["setup","sessionResumption"],S);const v=s(t,["inputAudioTranscription"]);e!==void 0&&v!=null&&a(e,["setup","inputAudioTranscription"],v);const g=s(t,["outputAudioTranscription"]);e!==void 0&&g!=null&&a(e,["setup","outputAudioTranscription"],g);const y=s(t,["realtimeInputConfig"]);e!==void 0&&y!=null&&a(e,["setup","realtimeInputConfig"],y);const T=s(t,["contextWindowCompression"]);e!==void 0&&T!=null&&a(e,["setup","contextWindowCompression"],T);const C=s(t,["proactivity"]);e!==void 0&&C!=null&&a(e,["setup","proactivity"],C);const A=s(t,["explicitVadSignal"]);return e!==void 0&&A!=null&&a(e,["setup","explicitVadSignal"],A),n}function C0(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["setup","model"],J(t,o));const r=s(e,["config"]);return r!=null&&a(n,["config"],T0(r,n)),n}function I0(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["setup","model"],J(t,o));const r=s(e,["config"]);return r!=null&&a(n,["config"],S0(r,n)),n}function w0(t){const e={},n=s(t,["musicGenerationConfig"]);return n!=null&&a(e,["musicGenerationConfig"],n),e}function A0(t){const e={},n=s(t,["weightedPrompts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>r)),a(e,["weightedPrompts"],o)}return e}function R0(t){const e={},n=s(t,["media"]);if(n!=null){let d=Sp(n);Array.isArray(d)&&(d=d.map(f=>Ir(f))),a(e,["mediaChunks"],d)}const o=s(t,["audio"]);o!=null&&a(e,["audio"],Ir(Ip(o)));const r=s(t,["audioStreamEnd"]);r!=null&&a(e,["audioStreamEnd"],r);const i=s(t,["video"]);i!=null&&a(e,["video"],Ir(Cp(i)));const l=s(t,["text"]);l!=null&&a(e,["text"],l);const u=s(t,["activityStart"]);u!=null&&a(e,["activityStart"],u);const c=s(t,["activityEnd"]);return c!=null&&a(e,["activityEnd"],c),e}function N0(t){const e={},n=s(t,["media"]);if(n!=null){let d=Sp(n);Array.isArray(d)&&(d=d.map(f=>f)),a(e,["mediaChunks"],d)}const o=s(t,["audio"]);o!=null&&a(e,["audio"],Ip(o));const r=s(t,["audioStreamEnd"]);r!=null&&a(e,["audioStreamEnd"],r);const i=s(t,["video"]);i!=null&&a(e,["video"],Cp(i));const l=s(t,["text"]);l!=null&&a(e,["text"],l);const u=s(t,["activityStart"]);u!=null&&a(e,["activityStart"],u);const c=s(t,["activityEnd"]);return c!=null&&a(e,["activityEnd"],c),e}function x0(t){const e={},n=s(t,["setupComplete"]);n!=null&&a(e,["setupComplete"],n);const o=s(t,["serverContent"]);o!=null&&a(e,["serverContent"],o);const r=s(t,["toolCall"]);r!=null&&a(e,["toolCall"],r);const i=s(t,["toolCallCancellation"]);i!=null&&a(e,["toolCallCancellation"],i);const l=s(t,["usageMetadata"]);l!=null&&a(e,["usageMetadata"],L0(l));const u=s(t,["goAway"]);u!=null&&a(e,["goAway"],u);const c=s(t,["sessionResumptionUpdate"]);c!=null&&a(e,["sessionResumptionUpdate"],c);const d=s(t,["voiceActivityDetectionSignal"]);return d!=null&&a(e,["voiceActivityDetectionSignal"],d),e}function P0(t){const e={},n=s(t,["mediaResolution"]);n!=null&&a(e,["mediaResolution"],n);const o=s(t,["codeExecutionResult"]);o!=null&&a(e,["codeExecutionResult"],o);const r=s(t,["executableCode"]);r!=null&&a(e,["executableCode"],r);const i=s(t,["fileData"]);i!=null&&a(e,["fileData"],h0(i));const l=s(t,["functionCall"]);l!=null&&a(e,["functionCall"],g0(l));const u=s(t,["functionResponse"]);u!=null&&a(e,["functionResponse"],u);const c=s(t,["inlineData"]);c!=null&&a(e,["inlineData"],Ir(c));const d=s(t,["text"]);d!=null&&a(e,["text"],d);const f=s(t,["thought"]);f!=null&&a(e,["thought"],f);const m=s(t,["thoughtSignature"]);m!=null&&a(e,["thoughtSignature"],m);const p=s(t,["videoMetadata"]);return p!=null&&a(e,["videoMetadata"],p),e}function k0(t){const e={},n=s(t,["handle"]);if(n!=null&&a(e,["handle"],n),s(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function M0(t){const e={},n=s(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(m=>m)),a(e,["functionDeclarations"],f)}if(s(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=s(t,["googleSearchRetrieval"]);o!=null&&a(e,["googleSearchRetrieval"],o);const r=s(t,["computerUse"]);r!=null&&a(e,["computerUse"],r);const i=s(t,["fileSearch"]);i!=null&&a(e,["fileSearch"],i);const l=s(t,["codeExecution"]);if(l!=null&&a(e,["codeExecution"],l),s(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=s(t,["googleMaps"]);u!=null&&a(e,["googleMaps"],E0(u));const c=s(t,["googleSearch"]);c!=null&&a(e,["googleSearch"],_0(c));const d=s(t,["urlContext"]);return d!=null&&a(e,["urlContext"],d),e}function D0(t){const e={},n=s(t,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(p=>v0(p))),a(e,["functionDeclarations"],m)}const o=s(t,["retrieval"]);o!=null&&a(e,["retrieval"],o);const r=s(t,["googleSearchRetrieval"]);r!=null&&a(e,["googleSearchRetrieval"],r);const i=s(t,["computerUse"]);if(i!=null&&a(e,["computerUse"],i),s(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=s(t,["codeExecution"]);l!=null&&a(e,["codeExecution"],l);const u=s(t,["enterpriseWebSearch"]);u!=null&&a(e,["enterpriseWebSearch"],u);const c=s(t,["googleMaps"]);c!=null&&a(e,["googleMaps"],c);const d=s(t,["googleSearch"]);d!=null&&a(e,["googleSearch"],d);const f=s(t,["urlContext"]);return f!=null&&a(e,["urlContext"],f),e}function L0(t){const e={},n=s(t,["promptTokenCount"]);n!=null&&a(e,["promptTokenCount"],n);const o=s(t,["cachedContentTokenCount"]);o!=null&&a(e,["cachedContentTokenCount"],o);const r=s(t,["candidatesTokenCount"]);r!=null&&a(e,["responseTokenCount"],r);const i=s(t,["toolUsePromptTokenCount"]);i!=null&&a(e,["toolUsePromptTokenCount"],i);const l=s(t,["thoughtsTokenCount"]);l!=null&&a(e,["thoughtsTokenCount"],l);const u=s(t,["totalTokenCount"]);u!=null&&a(e,["totalTokenCount"],u);const c=s(t,["promptTokensDetails"]);if(c!=null){let h=c;Array.isArray(h)&&(h=h.map(E=>E)),a(e,["promptTokensDetails"],h)}const d=s(t,["cacheTokensDetails"]);if(d!=null){let h=d;Array.isArray(h)&&(h=h.map(E=>E)),a(e,["cacheTokensDetails"],h)}const f=s(t,["candidatesTokensDetails"]);if(f!=null){let h=f;Array.isArray(h)&&(h=h.map(E=>E)),a(e,["responseTokensDetails"],h)}const m=s(t,["toolUsePromptTokensDetails"]);if(m!=null){let h=m;Array.isArray(h)&&(h=h.map(E=>E)),a(e,["toolUsePromptTokensDetails"],h)}const p=s(t,["trafficType"]);return p!=null&&a(e,["trafficType"],p),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function U0(t){const e={},n=s(t,["data"]);if(n!=null&&a(e,["data"],n),s(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(t,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function F0(t){const e={},n=s(t,["content"]);n!=null&&a(e,["content"],n);const o=s(t,["citationMetadata"]);o!=null&&a(e,["citationMetadata"],V0(o));const r=s(t,["tokenCount"]);r!=null&&a(e,["tokenCount"],r);const i=s(t,["finishReason"]);i!=null&&a(e,["finishReason"],i);const l=s(t,["avgLogprobs"]);l!=null&&a(e,["avgLogprobs"],l);const u=s(t,["groundingMetadata"]);u!=null&&a(e,["groundingMetadata"],u);const c=s(t,["index"]);c!=null&&a(e,["index"],c);const d=s(t,["logprobsResult"]);d!=null&&a(e,["logprobsResult"],d);const f=s(t,["safetyRatings"]);if(f!=null){let p=f;Array.isArray(p)&&(p=p.map(h=>h)),a(e,["safetyRatings"],p)}const m=s(t,["urlContextMetadata"]);return m!=null&&a(e,["urlContextMetadata"],m),e}function V0(t){const e={},n=s(t,["citationSources"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>r)),a(e,["citations"],o)}return e}function G0(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["_url","model"],J(t,o));const r=s(e,["contents"]);if(r!=null){let i=qe(r);Array.isArray(i)&&(i=i.map(l=>l)),a(n,["contents"],i)}return n}function H0(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["tokensInfo"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(i=>i)),a(e,["tokensInfo"],r)}return e}function B0(t){const e={},n=s(t,["values"]);n!=null&&a(e,["values"],n);const o=s(t,["statistics"]);return o!=null&&a(e,["statistics"],O0(o)),e}function O0(t){const e={},n=s(t,["truncated"]);n!=null&&a(e,["truncated"],n);const o=s(t,["token_count"]);return o!=null&&a(e,["tokenCount"],o),e}function yi(t){const e={},n=s(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>QE(i))),a(e,["parts"],r)}const o=s(t,["role"]);return o!=null&&a(e,["role"],o),e}function q0(t){const e={},n=s(t,["controlType"]);n!=null&&a(e,["controlType"],n);const o=s(t,["enableControlImageComputation"]);return o!=null&&a(e,["computeControl"],o),e}function z0(t){const e={};if(s(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(s(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(s(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function $0(t,e){const n={},o=s(t,["systemInstruction"]);e!==void 0&&o!=null&&a(e,["systemInstruction"],Ee(o));const r=s(t,["tools"]);if(e!==void 0&&r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>Gp(u))),a(e,["tools"],l)}const i=s(t,["generationConfig"]);return e!==void 0&&i!=null&&a(e,["generationConfig"],UE(i)),n}function J0(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["_url","model"],J(t,o));const r=s(e,["contents"]);if(r!=null){let l=qe(r);Array.isArray(l)&&(l=l.map(u=>yi(u))),a(n,["contents"],l)}const i=s(e,["config"]);return i!=null&&z0(i),n}function W0(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["_url","model"],J(t,o));const r=s(e,["contents"]);if(r!=null){let l=qe(r);Array.isArray(l)&&(l=l.map(u=>u)),a(n,["contents"],l)}const i=s(e,["config"]);return i!=null&&$0(i,n),n}function K0(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["totalTokens"]);o!=null&&a(e,["totalTokens"],o);const r=s(t,["cachedContentTokenCount"]);return r!=null&&a(e,["cachedContentTokenCount"],r),e}function Y0(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["totalTokens"]);return o!=null&&a(e,["totalTokens"],o),e}function b0(t,e){const n={},o=s(e,["model"]);return o!=null&&a(n,["_url","name"],J(t,o)),n}function Q0(t,e){const n={},o=s(e,["model"]);return o!=null&&a(n,["_url","name"],J(t,o)),n}function X0(t){const e={},n=s(t,["sdkHttpResponse"]);return n!=null&&a(e,["sdkHttpResponse"],n),e}function Z0(t){const e={},n=s(t,["sdkHttpResponse"]);return n!=null&&a(e,["sdkHttpResponse"],n),e}function j0(t,e){const n={},o=s(t,["outputGcsUri"]);e!==void 0&&o!=null&&a(e,["parameters","storageUri"],o);const r=s(t,["negativePrompt"]);e!==void 0&&r!=null&&a(e,["parameters","negativePrompt"],r);const i=s(t,["numberOfImages"]);e!==void 0&&i!=null&&a(e,["parameters","sampleCount"],i);const l=s(t,["aspectRatio"]);e!==void 0&&l!=null&&a(e,["parameters","aspectRatio"],l);const u=s(t,["guidanceScale"]);e!==void 0&&u!=null&&a(e,["parameters","guidanceScale"],u);const c=s(t,["seed"]);e!==void 0&&c!=null&&a(e,["parameters","seed"],c);const d=s(t,["safetyFilterLevel"]);e!==void 0&&d!=null&&a(e,["parameters","safetySetting"],d);const f=s(t,["personGeneration"]);e!==void 0&&f!=null&&a(e,["parameters","personGeneration"],f);const m=s(t,["includeSafetyAttributes"]);e!==void 0&&m!=null&&a(e,["parameters","includeSafetyAttributes"],m);const p=s(t,["includeRaiReason"]);e!==void 0&&p!=null&&a(e,["parameters","includeRaiReason"],p);const h=s(t,["language"]);e!==void 0&&h!=null&&a(e,["parameters","language"],h);const E=s(t,["outputMimeType"]);e!==void 0&&E!=null&&a(e,["parameters","outputOptions","mimeType"],E);const _=s(t,["outputCompressionQuality"]);e!==void 0&&_!=null&&a(e,["parameters","outputOptions","compressionQuality"],_);const S=s(t,["addWatermark"]);e!==void 0&&S!=null&&a(e,["parameters","addWatermark"],S);const v=s(t,["labels"]);e!==void 0&&v!=null&&a(e,["labels"],v);const g=s(t,["editMode"]);e!==void 0&&g!=null&&a(e,["parameters","editMode"],g);const y=s(t,["baseSteps"]);return e!==void 0&&y!=null&&a(e,["parameters","editConfig","baseSteps"],y),n}function eE(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["_url","model"],J(t,o));const r=s(e,["prompt"]);r!=null&&a(n,["instances[0]","prompt"],r);const i=s(e,["referenceImages"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(c=>n_(c))),a(n,["instances[0]","referenceImages"],u)}const l=s(e,["config"]);return l!=null&&j0(l,n),n}function tE(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["predictions"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(i=>Ei(i))),a(e,["generatedImages"],r)}return e}function nE(t,e){const n={},o=s(t,["taskType"]);e!==void 0&&o!=null&&a(e,["requests[]","taskType"],o);const r=s(t,["title"]);e!==void 0&&r!=null&&a(e,["requests[]","title"],r);const i=s(t,["outputDimensionality"]);if(e!==void 0&&i!=null&&a(e,["requests[]","outputDimensionality"],i),s(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(s(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function oE(t,e){const n={},o=s(t,["taskType"]);e!==void 0&&o!=null&&a(e,["instances[]","task_type"],o);const r=s(t,["title"]);e!==void 0&&r!=null&&a(e,["instances[]","title"],r);const i=s(t,["outputDimensionality"]);e!==void 0&&i!=null&&a(e,["parameters","outputDimensionality"],i);const l=s(t,["mimeType"]);e!==void 0&&l!=null&&a(e,["instances[]","mimeType"],l);const u=s(t,["autoTruncate"]);return e!==void 0&&u!=null&&a(e,["parameters","autoTruncate"],u),n}function rE(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["_url","model"],J(t,o));const r=s(e,["contents"]);if(r!=null){let u=oa(t,r);Array.isArray(u)&&(u=u.map(c=>c)),a(n,["requests[]","content"],u)}const i=s(e,["config"]);i!=null&&nE(i,n);const l=s(e,["model"]);return l!==void 0&&a(n,["requests[]","model"],J(t,l)),n}function iE(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["_url","model"],J(t,o));const r=s(e,["contents"]);if(r!=null){let l=oa(t,r);Array.isArray(l)&&(l=l.map(u=>u)),a(n,["instances[]","content"],l)}const i=s(e,["config"]);return i!=null&&oE(i,n),n}function sE(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["embeddings"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(l=>l)),a(e,["embeddings"],i)}const r=s(t,["metadata"]);return r!=null&&a(e,["metadata"],r),e}function lE(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["predictions[]","embeddings"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(l=>B0(l))),a(e,["embeddings"],i)}const r=s(t,["metadata"]);return r!=null&&a(e,["metadata"],r),e}function aE(t){const e={},n=s(t,["endpoint"]);n!=null&&a(e,["name"],n);const o=s(t,["deployedModelId"]);return o!=null&&a(e,["deployedModelId"],o),e}function uE(t){const e={};if(s(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=s(t,["fileUri"]);n!=null&&a(e,["fileUri"],n);const o=s(t,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function cE(t){const e={},n=s(t,["id"]);n!=null&&a(e,["id"],n);const o=s(t,["args"]);o!=null&&a(e,["args"],o);const r=s(t,["name"]);if(r!=null&&a(e,["name"],r),s(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(s(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function dE(t){const e={},n=s(t,["mode"]);n!=null&&a(e,["mode"],n);const o=s(t,["allowedFunctionNames"]);if(o!=null&&a(e,["allowedFunctionNames"],o),s(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function fE(t){const e={};if(s(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=s(t,["description"]);n!=null&&a(e,["description"],n);const o=s(t,["name"]);o!=null&&a(e,["name"],o);const r=s(t,["parameters"]);r!=null&&a(e,["parameters"],r);const i=s(t,["parametersJsonSchema"]);i!=null&&a(e,["parametersJsonSchema"],i);const l=s(t,["response"]);l!=null&&a(e,["response"],l);const u=s(t,["responseJsonSchema"]);return u!=null&&a(e,["responseJsonSchema"],u),e}function pE(t,e,n){const o={},r=s(e,["systemInstruction"]);n!==void 0&&r!=null&&a(n,["systemInstruction"],yi(Ee(r)));const i=s(e,["temperature"]);i!=null&&a(o,["temperature"],i);const l=s(e,["topP"]);l!=null&&a(o,["topP"],l);const u=s(e,["topK"]);u!=null&&a(o,["topK"],u);const c=s(e,["candidateCount"]);c!=null&&a(o,["candidateCount"],c);const d=s(e,["maxOutputTokens"]);d!=null&&a(o,["maxOutputTokens"],d);const f=s(e,["stopSequences"]);f!=null&&a(o,["stopSequences"],f);const m=s(e,["responseLogprobs"]);m!=null&&a(o,["responseLogprobs"],m);const p=s(e,["logprobs"]);p!=null&&a(o,["logprobs"],p);const h=s(e,["presencePenalty"]);h!=null&&a(o,["presencePenalty"],h);const E=s(e,["frequencyPenalty"]);E!=null&&a(o,["frequencyPenalty"],E);const _=s(e,["seed"]);_!=null&&a(o,["seed"],_);const S=s(e,["responseMimeType"]);S!=null&&a(o,["responseMimeType"],S);const v=s(e,["responseSchema"]);v!=null&&a(o,["responseSchema"],ra(v));const g=s(e,["responseJsonSchema"]);if(g!=null&&a(o,["responseJsonSchema"],g),s(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(s(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const y=s(e,["safetySettings"]);if(n!==void 0&&y!=null){let z=y;Array.isArray(z)&&(z=z.map(U=>o_(U))),a(n,["safetySettings"],z)}const T=s(e,["tools"]);if(n!==void 0&&T!=null){let z=Jn(T);Array.isArray(z)&&(z=z.map(U=>c_($n(U)))),a(n,["tools"],z)}const C=s(e,["toolConfig"]);if(n!==void 0&&C!=null&&a(n,["toolConfig"],u_(C)),s(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const A=s(e,["cachedContent"]);n!==void 0&&A!=null&&a(n,["cachedContent"],St(t,A));const w=s(e,["responseModalities"]);w!=null&&a(o,["responseModalities"],w);const R=s(e,["mediaResolution"]);R!=null&&a(o,["mediaResolution"],R);const P=s(e,["speechConfig"]);if(P!=null&&a(o,["speechConfig"],ia(P)),s(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const x=s(e,["thinkingConfig"]);x!=null&&a(o,["thinkingConfig"],x);const H=s(e,["imageConfig"]);H!=null&&a(o,["imageConfig"],BE(H));const ie=s(e,["enableEnhancedCivicAnswers"]);return ie!=null&&a(o,["enableEnhancedCivicAnswers"],ie),o}function mE(t,e,n){const o={},r=s(e,["systemInstruction"]);n!==void 0&&r!=null&&a(n,["systemInstruction"],Ee(r));const i=s(e,["temperature"]);i!=null&&a(o,["temperature"],i);const l=s(e,["topP"]);l!=null&&a(o,["topP"],l);const u=s(e,["topK"]);u!=null&&a(o,["topK"],u);const c=s(e,["candidateCount"]);c!=null&&a(o,["candidateCount"],c);const d=s(e,["maxOutputTokens"]);d!=null&&a(o,["maxOutputTokens"],d);const f=s(e,["stopSequences"]);f!=null&&a(o,["stopSequences"],f);const m=s(e,["responseLogprobs"]);m!=null&&a(o,["responseLogprobs"],m);const p=s(e,["logprobs"]);p!=null&&a(o,["logprobs"],p);const h=s(e,["presencePenalty"]);h!=null&&a(o,["presencePenalty"],h);const E=s(e,["frequencyPenalty"]);E!=null&&a(o,["frequencyPenalty"],E);const _=s(e,["seed"]);_!=null&&a(o,["seed"],_);const S=s(e,["responseMimeType"]);S!=null&&a(o,["responseMimeType"],S);const v=s(e,["responseSchema"]);v!=null&&a(o,["responseSchema"],ra(v));const g=s(e,["responseJsonSchema"]);g!=null&&a(o,["responseJsonSchema"],g);const y=s(e,["routingConfig"]);y!=null&&a(o,["routingConfig"],y);const T=s(e,["modelSelectionConfig"]);T!=null&&a(o,["modelConfig"],T);const C=s(e,["safetySettings"]);if(n!==void 0&&C!=null){let F=C;Array.isArray(F)&&(F=F.map(K=>K)),a(n,["safetySettings"],F)}const A=s(e,["tools"]);if(n!==void 0&&A!=null){let F=Jn(A);Array.isArray(F)&&(F=F.map(K=>Gp($n(K)))),a(n,["tools"],F)}const w=s(e,["toolConfig"]);n!==void 0&&w!=null&&a(n,["toolConfig"],w);const R=s(e,["labels"]);n!==void 0&&R!=null&&a(n,["labels"],R);const P=s(e,["cachedContent"]);n!==void 0&&P!=null&&a(n,["cachedContent"],St(t,P));const x=s(e,["responseModalities"]);x!=null&&a(o,["responseModalities"],x);const H=s(e,["mediaResolution"]);H!=null&&a(o,["mediaResolution"],H);const ie=s(e,["speechConfig"]);ie!=null&&a(o,["speechConfig"],ia(ie));const z=s(e,["audioTimestamp"]);z!=null&&a(o,["audioTimestamp"],z);const U=s(e,["thinkingConfig"]);U!=null&&a(o,["thinkingConfig"],U);const O=s(e,["imageConfig"]);if(O!=null&&a(o,["imageConfig"],OE(O)),s(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return o}function Lc(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["_url","model"],J(t,o));const r=s(e,["contents"]);if(r!=null){let l=qe(r);Array.isArray(l)&&(l=l.map(u=>yi(u))),a(n,["contents"],l)}const i=s(e,["config"]);return i!=null&&a(n,["generationConfig"],pE(t,i,n)),n}function Uc(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["_url","model"],J(t,o));const r=s(e,["contents"]);if(r!=null){let l=qe(r);Array.isArray(l)&&(l=l.map(u=>u)),a(n,["contents"],l)}const i=s(e,["config"]);return i!=null&&a(n,["generationConfig"],mE(t,i,n)),n}function Fc(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["candidates"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>F0(d))),a(e,["candidates"],c)}const r=s(t,["modelVersion"]);r!=null&&a(e,["modelVersion"],r);const i=s(t,["promptFeedback"]);i!=null&&a(e,["promptFeedback"],i);const l=s(t,["responseId"]);l!=null&&a(e,["responseId"],l);const u=s(t,["usageMetadata"]);return u!=null&&a(e,["usageMetadata"],u),e}function Vc(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["candidates"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(f=>f)),a(e,["candidates"],d)}const r=s(t,["createTime"]);r!=null&&a(e,["createTime"],r);const i=s(t,["modelVersion"]);i!=null&&a(e,["modelVersion"],i);const l=s(t,["promptFeedback"]);l!=null&&a(e,["promptFeedback"],l);const u=s(t,["responseId"]);u!=null&&a(e,["responseId"],u);const c=s(t,["usageMetadata"]);return c!=null&&a(e,["usageMetadata"],c),e}function hE(t,e){const n={};if(s(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(s(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const o=s(t,["numberOfImages"]);e!==void 0&&o!=null&&a(e,["parameters","sampleCount"],o);const r=s(t,["aspectRatio"]);e!==void 0&&r!=null&&a(e,["parameters","aspectRatio"],r);const i=s(t,["guidanceScale"]);if(e!==void 0&&i!=null&&a(e,["parameters","guidanceScale"],i),s(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const l=s(t,["safetyFilterLevel"]);e!==void 0&&l!=null&&a(e,["parameters","safetySetting"],l);const u=s(t,["personGeneration"]);e!==void 0&&u!=null&&a(e,["parameters","personGeneration"],u);const c=s(t,["includeSafetyAttributes"]);e!==void 0&&c!=null&&a(e,["parameters","includeSafetyAttributes"],c);const d=s(t,["includeRaiReason"]);e!==void 0&&d!=null&&a(e,["parameters","includeRaiReason"],d);const f=s(t,["language"]);e!==void 0&&f!=null&&a(e,["parameters","language"],f);const m=s(t,["outputMimeType"]);e!==void 0&&m!=null&&a(e,["parameters","outputOptions","mimeType"],m);const p=s(t,["outputCompressionQuality"]);if(e!==void 0&&p!=null&&a(e,["parameters","outputOptions","compressionQuality"],p),s(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(s(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const h=s(t,["imageSize"]);if(e!==void 0&&h!=null&&a(e,["parameters","sampleImageSize"],h),s(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function gE(t,e){const n={},o=s(t,["outputGcsUri"]);e!==void 0&&o!=null&&a(e,["parameters","storageUri"],o);const r=s(t,["negativePrompt"]);e!==void 0&&r!=null&&a(e,["parameters","negativePrompt"],r);const i=s(t,["numberOfImages"]);e!==void 0&&i!=null&&a(e,["parameters","sampleCount"],i);const l=s(t,["aspectRatio"]);e!==void 0&&l!=null&&a(e,["parameters","aspectRatio"],l);const u=s(t,["guidanceScale"]);e!==void 0&&u!=null&&a(e,["parameters","guidanceScale"],u);const c=s(t,["seed"]);e!==void 0&&c!=null&&a(e,["parameters","seed"],c);const d=s(t,["safetyFilterLevel"]);e!==void 0&&d!=null&&a(e,["parameters","safetySetting"],d);const f=s(t,["personGeneration"]);e!==void 0&&f!=null&&a(e,["parameters","personGeneration"],f);const m=s(t,["includeSafetyAttributes"]);e!==void 0&&m!=null&&a(e,["parameters","includeSafetyAttributes"],m);const p=s(t,["includeRaiReason"]);e!==void 0&&p!=null&&a(e,["parameters","includeRaiReason"],p);const h=s(t,["language"]);e!==void 0&&h!=null&&a(e,["parameters","language"],h);const E=s(t,["outputMimeType"]);e!==void 0&&E!=null&&a(e,["parameters","outputOptions","mimeType"],E);const _=s(t,["outputCompressionQuality"]);e!==void 0&&_!=null&&a(e,["parameters","outputOptions","compressionQuality"],_);const S=s(t,["addWatermark"]);e!==void 0&&S!=null&&a(e,["parameters","addWatermark"],S);const v=s(t,["labels"]);e!==void 0&&v!=null&&a(e,["labels"],v);const g=s(t,["imageSize"]);e!==void 0&&g!=null&&a(e,["parameters","sampleImageSize"],g);const y=s(t,["enhancePrompt"]);return e!==void 0&&y!=null&&a(e,["parameters","enhancePrompt"],y),n}function vE(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["_url","model"],J(t,o));const r=s(e,["prompt"]);r!=null&&a(n,["instances[0]","prompt"],r);const i=s(e,["config"]);return i!=null&&hE(i,n),n}function yE(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["_url","model"],J(t,o));const r=s(e,["prompt"]);r!=null&&a(n,["instances[0]","prompt"],r);const i=s(e,["config"]);return i!=null&&gE(i,n),n}function EE(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["predictions"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(l=>kE(l))),a(e,["generatedImages"],i)}const r=s(t,["positivePromptSafetyAttributes"]);return r!=null&&a(e,["positivePromptSafetyAttributes"],Fp(r)),e}function _E(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["predictions"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(l=>Ei(l))),a(e,["generatedImages"],i)}const r=s(t,["positivePromptSafetyAttributes"]);return r!=null&&a(e,["positivePromptSafetyAttributes"],Vp(r)),e}function TE(t,e){const n={},o=s(t,["numberOfVideos"]);if(e!==void 0&&o!=null&&a(e,["parameters","sampleCount"],o),s(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(s(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const r=s(t,["durationSeconds"]);if(e!==void 0&&r!=null&&a(e,["parameters","durationSeconds"],r),s(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const i=s(t,["aspectRatio"]);e!==void 0&&i!=null&&a(e,["parameters","aspectRatio"],i);const l=s(t,["resolution"]);e!==void 0&&l!=null&&a(e,["parameters","resolution"],l);const u=s(t,["personGeneration"]);if(e!==void 0&&u!=null&&a(e,["parameters","personGeneration"],u),s(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const c=s(t,["negativePrompt"]);e!==void 0&&c!=null&&a(e,["parameters","negativePrompt"],c);const d=s(t,["enhancePrompt"]);if(e!==void 0&&d!=null&&a(e,["parameters","enhancePrompt"],d),s(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const f=s(t,["lastFrame"]);e!==void 0&&f!=null&&a(e,["instances[0]","lastFrame"],_i(f));const m=s(t,["referenceImages"]);if(e!==void 0&&m!=null){let p=m;Array.isArray(p)&&(p=p.map(h=>C_(h))),a(e,["instances[0]","referenceImages"],p)}if(s(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(s(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function SE(t,e){const n={},o=s(t,["numberOfVideos"]);e!==void 0&&o!=null&&a(e,["parameters","sampleCount"],o);const r=s(t,["outputGcsUri"]);e!==void 0&&r!=null&&a(e,["parameters","storageUri"],r);const i=s(t,["fps"]);e!==void 0&&i!=null&&a(e,["parameters","fps"],i);const l=s(t,["durationSeconds"]);e!==void 0&&l!=null&&a(e,["parameters","durationSeconds"],l);const u=s(t,["seed"]);e!==void 0&&u!=null&&a(e,["parameters","seed"],u);const c=s(t,["aspectRatio"]);e!==void 0&&c!=null&&a(e,["parameters","aspectRatio"],c);const d=s(t,["resolution"]);e!==void 0&&d!=null&&a(e,["parameters","resolution"],d);const f=s(t,["personGeneration"]);e!==void 0&&f!=null&&a(e,["parameters","personGeneration"],f);const m=s(t,["pubsubTopic"]);e!==void 0&&m!=null&&a(e,["parameters","pubsubTopic"],m);const p=s(t,["negativePrompt"]);e!==void 0&&p!=null&&a(e,["parameters","negativePrompt"],p);const h=s(t,["enhancePrompt"]);e!==void 0&&h!=null&&a(e,["parameters","enhancePrompt"],h);const E=s(t,["generateAudio"]);e!==void 0&&E!=null&&a(e,["parameters","generateAudio"],E);const _=s(t,["lastFrame"]);e!==void 0&&_!=null&&a(e,["instances[0]","lastFrame"],nt(_));const S=s(t,["referenceImages"]);if(e!==void 0&&S!=null){let y=S;Array.isArray(y)&&(y=y.map(T=>I_(T))),a(e,["instances[0]","referenceImages"],y)}const v=s(t,["mask"]);e!==void 0&&v!=null&&a(e,["instances[0]","mask"],S_(v));const g=s(t,["compressionQuality"]);return e!==void 0&&g!=null&&a(e,["parameters","compressionQuality"],g),n}function CE(t){const e={},n=s(t,["name"]);n!=null&&a(e,["name"],n);const o=s(t,["metadata"]);o!=null&&a(e,["metadata"],o);const r=s(t,["done"]);r!=null&&a(e,["done"],r);const i=s(t,["error"]);i!=null&&a(e,["error"],i);const l=s(t,["response","generateVideoResponse"]);return l!=null&&a(e,["response"],RE(l)),e}function IE(t){const e={},n=s(t,["name"]);n!=null&&a(e,["name"],n);const o=s(t,["metadata"]);o!=null&&a(e,["metadata"],o);const r=s(t,["done"]);r!=null&&a(e,["done"],r);const i=s(t,["error"]);i!=null&&a(e,["error"],i);const l=s(t,["response"]);return l!=null&&a(e,["response"],NE(l)),e}function wE(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["_url","model"],J(t,o));const r=s(e,["prompt"]);r!=null&&a(n,["instances[0]","prompt"],r);const i=s(e,["image"]);i!=null&&a(n,["instances[0]","image"],_i(i));const l=s(e,["video"]);l!=null&&a(n,["instances[0]","video"],Hp(l));const u=s(e,["source"]);u!=null&&xE(u,n);const c=s(e,["config"]);return c!=null&&TE(c,n),n}function AE(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["_url","model"],J(t,o));const r=s(e,["prompt"]);r!=null&&a(n,["instances[0]","prompt"],r);const i=s(e,["image"]);i!=null&&a(n,["instances[0]","image"],nt(i));const l=s(e,["video"]);l!=null&&a(n,["instances[0]","video"],Bp(l));const u=s(e,["source"]);u!=null&&PE(u,n);const c=s(e,["config"]);return c!=null&&SE(c,n),n}function RE(t){const e={},n=s(t,["generatedSamples"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>DE(l))),a(e,["generatedVideos"],i)}const o=s(t,["raiMediaFilteredCount"]);o!=null&&a(e,["raiMediaFilteredCount"],o);const r=s(t,["raiMediaFilteredReasons"]);return r!=null&&a(e,["raiMediaFilteredReasons"],r),e}function NE(t){const e={},n=s(t,["videos"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>LE(l))),a(e,["generatedVideos"],i)}const o=s(t,["raiMediaFilteredCount"]);o!=null&&a(e,["raiMediaFilteredCount"],o);const r=s(t,["raiMediaFilteredReasons"]);return r!=null&&a(e,["raiMediaFilteredReasons"],r),e}function xE(t,e){const n={},o=s(t,["prompt"]);e!==void 0&&o!=null&&a(e,["instances[0]","prompt"],o);const r=s(t,["image"]);e!==void 0&&r!=null&&a(e,["instances[0]","image"],_i(r));const i=s(t,["video"]);return e!==void 0&&i!=null&&a(e,["instances[0]","video"],Hp(i)),n}function PE(t,e){const n={},o=s(t,["prompt"]);e!==void 0&&o!=null&&a(e,["instances[0]","prompt"],o);const r=s(t,["image"]);e!==void 0&&r!=null&&a(e,["instances[0]","image"],nt(r));const i=s(t,["video"]);return e!==void 0&&i!=null&&a(e,["instances[0]","video"],Bp(i)),n}function kE(t){const e={},n=s(t,["_self"]);n!=null&&a(e,["image"],qE(n));const o=s(t,["raiFilteredReason"]);o!=null&&a(e,["raiFilteredReason"],o);const r=s(t,["_self"]);return r!=null&&a(e,["safetyAttributes"],Fp(r)),e}function Ei(t){const e={},n=s(t,["_self"]);n!=null&&a(e,["image"],Up(n));const o=s(t,["raiFilteredReason"]);o!=null&&a(e,["raiFilteredReason"],o);const r=s(t,["_self"]);r!=null&&a(e,["safetyAttributes"],Vp(r));const i=s(t,["prompt"]);return i!=null&&a(e,["enhancedPrompt"],i),e}function ME(t){const e={},n=s(t,["_self"]);n!=null&&a(e,["mask"],Up(n));const o=s(t,["labels"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(i=>i)),a(e,["labels"],r)}return e}function DE(t){const e={},n=s(t,["video"]);return n!=null&&a(e,["video"],__(n)),e}function LE(t){const e={},n=s(t,["_self"]);return n!=null&&a(e,["video"],T_(n)),e}function UE(t){const e={},n=s(t,["modelSelectionConfig"]);n!=null&&a(e,["modelConfig"],n);const o=s(t,["responseJsonSchema"]);o!=null&&a(e,["responseJsonSchema"],o);const r=s(t,["audioTimestamp"]);r!=null&&a(e,["audioTimestamp"],r);const i=s(t,["candidateCount"]);i!=null&&a(e,["candidateCount"],i);const l=s(t,["enableAffectiveDialog"]);l!=null&&a(e,["enableAffectiveDialog"],l);const u=s(t,["frequencyPenalty"]);u!=null&&a(e,["frequencyPenalty"],u);const c=s(t,["logprobs"]);c!=null&&a(e,["logprobs"],c);const d=s(t,["maxOutputTokens"]);d!=null&&a(e,["maxOutputTokens"],d);const f=s(t,["mediaResolution"]);f!=null&&a(e,["mediaResolution"],f);const m=s(t,["presencePenalty"]);m!=null&&a(e,["presencePenalty"],m);const p=s(t,["responseLogprobs"]);p!=null&&a(e,["responseLogprobs"],p);const h=s(t,["responseMimeType"]);h!=null&&a(e,["responseMimeType"],h);const E=s(t,["responseModalities"]);E!=null&&a(e,["responseModalities"],E);const _=s(t,["responseSchema"]);_!=null&&a(e,["responseSchema"],_);const S=s(t,["routingConfig"]);S!=null&&a(e,["routingConfig"],S);const v=s(t,["seed"]);v!=null&&a(e,["seed"],v);const g=s(t,["speechConfig"]);g!=null&&a(e,["speechConfig"],g);const y=s(t,["stopSequences"]);y!=null&&a(e,["stopSequences"],y);const T=s(t,["temperature"]);T!=null&&a(e,["temperature"],T);const C=s(t,["thinkingConfig"]);C!=null&&a(e,["thinkingConfig"],C);const A=s(t,["topK"]);A!=null&&a(e,["topK"],A);const w=s(t,["topP"]);if(w!=null&&a(e,["topP"],w),s(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function FE(t,e){const n={},o=s(e,["model"]);return o!=null&&a(n,["_url","name"],J(t,o)),n}function VE(t,e){const n={},o=s(e,["model"]);return o!=null&&a(n,["_url","name"],J(t,o)),n}function GE(t){const e={};if(s(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=s(t,["enableWidget"]);return n!=null&&a(e,["enableWidget"],n),e}function HE(t){const e={};if(s(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(s(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=s(t,["timeRangeFilter"]);return n!=null&&a(e,["timeRangeFilter"],n),e}function BE(t){const e={},n=s(t,["aspectRatio"]);n!=null&&a(e,["aspectRatio"],n);const o=s(t,["imageSize"]);if(o!=null&&a(e,["imageSize"],o),s(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(s(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function OE(t){const e={},n=s(t,["aspectRatio"]);n!=null&&a(e,["aspectRatio"],n);const o=s(t,["imageSize"]);o!=null&&a(e,["imageSize"],o);const r=s(t,["outputMimeType"]);r!=null&&a(e,["imageOutputOptions","mimeType"],r);const i=s(t,["outputCompressionQuality"]);return i!=null&&a(e,["imageOutputOptions","compressionQuality"],i),e}function qE(t){const e={},n=s(t,["bytesBase64Encoded"]);n!=null&&a(e,["imageBytes"],$t(n));const o=s(t,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function Up(t){const e={},n=s(t,["gcsUri"]);n!=null&&a(e,["gcsUri"],n);const o=s(t,["bytesBase64Encoded"]);o!=null&&a(e,["imageBytes"],$t(o));const r=s(t,["mimeType"]);return r!=null&&a(e,["mimeType"],r),e}function _i(t){const e={};if(s(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=s(t,["imageBytes"]);n!=null&&a(e,["bytesBase64Encoded"],$t(n));const o=s(t,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function nt(t){const e={},n=s(t,["gcsUri"]);n!=null&&a(e,["gcsUri"],n);const o=s(t,["imageBytes"]);o!=null&&a(e,["bytesBase64Encoded"],$t(o));const r=s(t,["mimeType"]);return r!=null&&a(e,["mimeType"],r),e}function zE(t,e,n){const o={},r=s(e,["pageSize"]);n!==void 0&&r!=null&&a(n,["_query","pageSize"],r);const i=s(e,["pageToken"]);n!==void 0&&i!=null&&a(n,["_query","pageToken"],i);const l=s(e,["filter"]);n!==void 0&&l!=null&&a(n,["_query","filter"],l);const u=s(e,["queryBase"]);return n!==void 0&&u!=null&&a(n,["_url","models_url"],Np(t,u)),o}function $E(t,e,n){const o={},r=s(e,["pageSize"]);n!==void 0&&r!=null&&a(n,["_query","pageSize"],r);const i=s(e,["pageToken"]);n!==void 0&&i!=null&&a(n,["_query","pageToken"],i);const l=s(e,["filter"]);n!==void 0&&l!=null&&a(n,["_query","filter"],l);const u=s(e,["queryBase"]);return n!==void 0&&u!=null&&a(n,["_url","models_url"],Np(t,u)),o}function JE(t,e){const n={},o=s(e,["config"]);return o!=null&&zE(t,o,n),n}function WE(t,e){const n={},o=s(e,["config"]);return o!=null&&$E(t,o,n),n}function KE(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["nextPageToken"]);o!=null&&a(e,["nextPageToken"],o);const r=s(t,["_self"]);if(r!=null){let i=xp(r);Array.isArray(i)&&(i=i.map(l=>Xs(l))),a(e,["models"],i)}return e}function YE(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["nextPageToken"]);o!=null&&a(e,["nextPageToken"],o);const r=s(t,["_self"]);if(r!=null){let i=xp(r);Array.isArray(i)&&(i=i.map(l=>Zs(l))),a(e,["models"],i)}return e}function bE(t){const e={},n=s(t,["maskMode"]);n!=null&&a(e,["maskMode"],n);const o=s(t,["segmentationClasses"]);o!=null&&a(e,["maskClasses"],o);const r=s(t,["maskDilation"]);return r!=null&&a(e,["dilation"],r),e}function Xs(t){const e={},n=s(t,["name"]);n!=null&&a(e,["name"],n);const o=s(t,["displayName"]);o!=null&&a(e,["displayName"],o);const r=s(t,["description"]);r!=null&&a(e,["description"],r);const i=s(t,["version"]);i!=null&&a(e,["version"],i);const l=s(t,["_self"]);l!=null&&a(e,["tunedModelInfo"],d_(l));const u=s(t,["inputTokenLimit"]);u!=null&&a(e,["inputTokenLimit"],u);const c=s(t,["outputTokenLimit"]);c!=null&&a(e,["outputTokenLimit"],c);const d=s(t,["supportedGenerationMethods"]);d!=null&&a(e,["supportedActions"],d);const f=s(t,["temperature"]);f!=null&&a(e,["temperature"],f);const m=s(t,["maxTemperature"]);m!=null&&a(e,["maxTemperature"],m);const p=s(t,["topP"]);p!=null&&a(e,["topP"],p);const h=s(t,["topK"]);h!=null&&a(e,["topK"],h);const E=s(t,["thinking"]);return E!=null&&a(e,["thinking"],E),e}function Zs(t){const e={},n=s(t,["name"]);n!=null&&a(e,["name"],n);const o=s(t,["displayName"]);o!=null&&a(e,["displayName"],o);const r=s(t,["description"]);r!=null&&a(e,["description"],r);const i=s(t,["versionId"]);i!=null&&a(e,["version"],i);const l=s(t,["deployedModels"]);if(l!=null){let m=l;Array.isArray(m)&&(m=m.map(p=>aE(p))),a(e,["endpoints"],m)}const u=s(t,["labels"]);u!=null&&a(e,["labels"],u);const c=s(t,["_self"]);c!=null&&a(e,["tunedModelInfo"],f_(c));const d=s(t,["defaultCheckpointId"]);d!=null&&a(e,["defaultCheckpointId"],d);const f=s(t,["checkpoints"]);if(f!=null){let m=f;Array.isArray(m)&&(m=m.map(p=>p)),a(e,["checkpoints"],m)}return e}function QE(t){const e={},n=s(t,["mediaResolution"]);n!=null&&a(e,["mediaResolution"],n);const o=s(t,["codeExecutionResult"]);o!=null&&a(e,["codeExecutionResult"],o);const r=s(t,["executableCode"]);r!=null&&a(e,["executableCode"],r);const i=s(t,["fileData"]);i!=null&&a(e,["fileData"],uE(i));const l=s(t,["functionCall"]);l!=null&&a(e,["functionCall"],cE(l));const u=s(t,["functionResponse"]);u!=null&&a(e,["functionResponse"],u);const c=s(t,["inlineData"]);c!=null&&a(e,["inlineData"],U0(c));const d=s(t,["text"]);d!=null&&a(e,["text"],d);const f=s(t,["thought"]);f!=null&&a(e,["thought"],f);const m=s(t,["thoughtSignature"]);m!=null&&a(e,["thoughtSignature"],m);const p=s(t,["videoMetadata"]);return p!=null&&a(e,["videoMetadata"],p),e}function XE(t){const e={},n=s(t,["productImage"]);return n!=null&&a(e,["image"],nt(n)),e}function ZE(t,e){const n={},o=s(t,["numberOfImages"]);e!==void 0&&o!=null&&a(e,["parameters","sampleCount"],o);const r=s(t,["baseSteps"]);e!==void 0&&r!=null&&a(e,["parameters","baseSteps"],r);const i=s(t,["outputGcsUri"]);e!==void 0&&i!=null&&a(e,["parameters","storageUri"],i);const l=s(t,["seed"]);e!==void 0&&l!=null&&a(e,["parameters","seed"],l);const u=s(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&a(e,["parameters","safetySetting"],u);const c=s(t,["personGeneration"]);e!==void 0&&c!=null&&a(e,["parameters","personGeneration"],c);const d=s(t,["addWatermark"]);e!==void 0&&d!=null&&a(e,["parameters","addWatermark"],d);const f=s(t,["outputMimeType"]);e!==void 0&&f!=null&&a(e,["parameters","outputOptions","mimeType"],f);const m=s(t,["outputCompressionQuality"]);e!==void 0&&m!=null&&a(e,["parameters","outputOptions","compressionQuality"],m);const p=s(t,["enhancePrompt"]);e!==void 0&&p!=null&&a(e,["parameters","enhancePrompt"],p);const h=s(t,["labels"]);return e!==void 0&&h!=null&&a(e,["labels"],h),n}function jE(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["_url","model"],J(t,o));const r=s(e,["source"]);r!=null&&t_(r,n);const i=s(e,["config"]);return i!=null&&ZE(i,n),n}function e_(t){const e={},n=s(t,["predictions"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>Ei(r))),a(e,["generatedImages"],o)}return e}function t_(t,e){const n={},o=s(t,["prompt"]);e!==void 0&&o!=null&&a(e,["instances[0]","prompt"],o);const r=s(t,["personImage"]);e!==void 0&&r!=null&&a(e,["instances[0]","personImage","image"],nt(r));const i=s(t,["productImages"]);if(e!==void 0&&i!=null){let l=i;Array.isArray(l)&&(l=l.map(u=>XE(u))),a(e,["instances[0]","productImages"],l)}return n}function n_(t){const e={},n=s(t,["referenceImage"]);n!=null&&a(e,["referenceImage"],nt(n));const o=s(t,["referenceId"]);o!=null&&a(e,["referenceId"],o);const r=s(t,["referenceType"]);r!=null&&a(e,["referenceType"],r);const i=s(t,["maskImageConfig"]);i!=null&&a(e,["maskImageConfig"],bE(i));const l=s(t,["controlImageConfig"]);l!=null&&a(e,["controlImageConfig"],q0(l));const u=s(t,["styleImageConfig"]);u!=null&&a(e,["styleImageConfig"],u);const c=s(t,["subjectImageConfig"]);return c!=null&&a(e,["subjectImageConfig"],c),e}function Fp(t){const e={},n=s(t,["safetyAttributes","categories"]);n!=null&&a(e,["categories"],n);const o=s(t,["safetyAttributes","scores"]);o!=null&&a(e,["scores"],o);const r=s(t,["contentType"]);return r!=null&&a(e,["contentType"],r),e}function Vp(t){const e={},n=s(t,["safetyAttributes","categories"]);n!=null&&a(e,["categories"],n);const o=s(t,["safetyAttributes","scores"]);o!=null&&a(e,["scores"],o);const r=s(t,["contentType"]);return r!=null&&a(e,["contentType"],r),e}function o_(t){const e={},n=s(t,["category"]);if(n!=null&&a(e,["category"],n),s(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const o=s(t,["threshold"]);return o!=null&&a(e,["threshold"],o),e}function r_(t){const e={},n=s(t,["image"]);return n!=null&&a(e,["image"],nt(n)),e}function i_(t,e){const n={},o=s(t,["mode"]);e!==void 0&&o!=null&&a(e,["parameters","mode"],o);const r=s(t,["maxPredictions"]);e!==void 0&&r!=null&&a(e,["parameters","maxPredictions"],r);const i=s(t,["confidenceThreshold"]);e!==void 0&&i!=null&&a(e,["parameters","confidenceThreshold"],i);const l=s(t,["maskDilation"]);e!==void 0&&l!=null&&a(e,["parameters","maskDilation"],l);const u=s(t,["binaryColorThreshold"]);e!==void 0&&u!=null&&a(e,["parameters","binaryColorThreshold"],u);const c=s(t,["labels"]);return e!==void 0&&c!=null&&a(e,["labels"],c),n}function s_(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["_url","model"],J(t,o));const r=s(e,["source"]);r!=null&&a_(r,n);const i=s(e,["config"]);return i!=null&&i_(i,n),n}function l_(t){const e={},n=s(t,["predictions"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>ME(r))),a(e,["generatedMasks"],o)}return e}function a_(t,e){const n={},o=s(t,["prompt"]);e!==void 0&&o!=null&&a(e,["instances[0]","prompt"],o);const r=s(t,["image"]);e!==void 0&&r!=null&&a(e,["instances[0]","image"],nt(r));const i=s(t,["scribbleImage"]);return e!==void 0&&i!=null&&a(e,["instances[0]","scribble"],r_(i)),n}function u_(t){const e={},n=s(t,["functionCallingConfig"]);n!=null&&a(e,["functionCallingConfig"],dE(n));const o=s(t,["retrievalConfig"]);return o!=null&&a(e,["retrievalConfig"],o),e}function c_(t){const e={},n=s(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(m=>m)),a(e,["functionDeclarations"],f)}if(s(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=s(t,["googleSearchRetrieval"]);o!=null&&a(e,["googleSearchRetrieval"],o);const r=s(t,["computerUse"]);r!=null&&a(e,["computerUse"],r);const i=s(t,["fileSearch"]);i!=null&&a(e,["fileSearch"],i);const l=s(t,["codeExecution"]);if(l!=null&&a(e,["codeExecution"],l),s(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=s(t,["googleMaps"]);u!=null&&a(e,["googleMaps"],GE(u));const c=s(t,["googleSearch"]);c!=null&&a(e,["googleSearch"],HE(c));const d=s(t,["urlContext"]);return d!=null&&a(e,["urlContext"],d),e}function Gp(t){const e={},n=s(t,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(p=>fE(p))),a(e,["functionDeclarations"],m)}const o=s(t,["retrieval"]);o!=null&&a(e,["retrieval"],o);const r=s(t,["googleSearchRetrieval"]);r!=null&&a(e,["googleSearchRetrieval"],r);const i=s(t,["computerUse"]);if(i!=null&&a(e,["computerUse"],i),s(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=s(t,["codeExecution"]);l!=null&&a(e,["codeExecution"],l);const u=s(t,["enterpriseWebSearch"]);u!=null&&a(e,["enterpriseWebSearch"],u);const c=s(t,["googleMaps"]);c!=null&&a(e,["googleMaps"],c);const d=s(t,["googleSearch"]);d!=null&&a(e,["googleSearch"],d);const f=s(t,["urlContext"]);return f!=null&&a(e,["urlContext"],f),e}function d_(t){const e={},n=s(t,["baseModel"]);n!=null&&a(e,["baseModel"],n);const o=s(t,["createTime"]);o!=null&&a(e,["createTime"],o);const r=s(t,["updateTime"]);return r!=null&&a(e,["updateTime"],r),e}function f_(t){const e={},n=s(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&a(e,["baseModel"],n);const o=s(t,["createTime"]);o!=null&&a(e,["createTime"],o);const r=s(t,["updateTime"]);return r!=null&&a(e,["updateTime"],r),e}function p_(t,e){const n={},o=s(t,["displayName"]);e!==void 0&&o!=null&&a(e,["displayName"],o);const r=s(t,["description"]);e!==void 0&&r!=null&&a(e,["description"],r);const i=s(t,["defaultCheckpointId"]);return e!==void 0&&i!=null&&a(e,["defaultCheckpointId"],i),n}function m_(t,e){const n={},o=s(t,["displayName"]);e!==void 0&&o!=null&&a(e,["displayName"],o);const r=s(t,["description"]);e!==void 0&&r!=null&&a(e,["description"],r);const i=s(t,["defaultCheckpointId"]);return e!==void 0&&i!=null&&a(e,["defaultCheckpointId"],i),n}function h_(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["_url","name"],J(t,o));const r=s(e,["config"]);return r!=null&&p_(r,n),n}function g_(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["_url","model"],J(t,o));const r=s(e,["config"]);return r!=null&&m_(r,n),n}function v_(t,e){const n={},o=s(t,["outputGcsUri"]);e!==void 0&&o!=null&&a(e,["parameters","storageUri"],o);const r=s(t,["safetyFilterLevel"]);e!==void 0&&r!=null&&a(e,["parameters","safetySetting"],r);const i=s(t,["personGeneration"]);e!==void 0&&i!=null&&a(e,["parameters","personGeneration"],i);const l=s(t,["includeRaiReason"]);e!==void 0&&l!=null&&a(e,["parameters","includeRaiReason"],l);const u=s(t,["outputMimeType"]);e!==void 0&&u!=null&&a(e,["parameters","outputOptions","mimeType"],u);const c=s(t,["outputCompressionQuality"]);e!==void 0&&c!=null&&a(e,["parameters","outputOptions","compressionQuality"],c);const d=s(t,["enhanceInputImage"]);e!==void 0&&d!=null&&a(e,["parameters","upscaleConfig","enhanceInputImage"],d);const f=s(t,["imagePreservationFactor"]);e!==void 0&&f!=null&&a(e,["parameters","upscaleConfig","imagePreservationFactor"],f);const m=s(t,["labels"]);e!==void 0&&m!=null&&a(e,["labels"],m);const p=s(t,["numberOfImages"]);e!==void 0&&p!=null&&a(e,["parameters","sampleCount"],p);const h=s(t,["mode"]);return e!==void 0&&h!=null&&a(e,["parameters","mode"],h),n}function y_(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["_url","model"],J(t,o));const r=s(e,["image"]);r!=null&&a(n,["instances[0]","image"],nt(r));const i=s(e,["upscaleFactor"]);i!=null&&a(n,["parameters","upscaleConfig","upscaleFactor"],i);const l=s(e,["config"]);return l!=null&&v_(l,n),n}function E_(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["predictions"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(i=>Ei(i))),a(e,["generatedImages"],r)}return e}function __(t){const e={},n=s(t,["uri"]);n!=null&&a(e,["uri"],n);const o=s(t,["encodedVideo"]);o!=null&&a(e,["videoBytes"],$t(o));const r=s(t,["encoding"]);return r!=null&&a(e,["mimeType"],r),e}function T_(t){const e={},n=s(t,["gcsUri"]);n!=null&&a(e,["uri"],n);const o=s(t,["bytesBase64Encoded"]);o!=null&&a(e,["videoBytes"],$t(o));const r=s(t,["mimeType"]);return r!=null&&a(e,["mimeType"],r),e}function S_(t){const e={},n=s(t,["image"]);n!=null&&a(e,["_self"],nt(n));const o=s(t,["maskMode"]);return o!=null&&a(e,["maskMode"],o),e}function C_(t){const e={},n=s(t,["image"]);n!=null&&a(e,["image"],_i(n));const o=s(t,["referenceType"]);return o!=null&&a(e,["referenceType"],o),e}function I_(t){const e={},n=s(t,["image"]);n!=null&&a(e,["image"],nt(n));const o=s(t,["referenceType"]);return o!=null&&a(e,["referenceType"],o),e}function Hp(t){const e={},n=s(t,["uri"]);n!=null&&a(e,["uri"],n);const o=s(t,["videoBytes"]);o!=null&&a(e,["encodedVideo"],$t(o));const r=s(t,["mimeType"]);return r!=null&&a(e,["encoding"],r),e}function Bp(t){const e={},n=s(t,["uri"]);n!=null&&a(e,["gcsUri"],n);const o=s(t,["videoBytes"]);o!=null&&a(e,["bytesBase64Encoded"],$t(o));const r=s(t,["mimeType"]);return r!=null&&a(e,["mimeType"],r),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function w_(t,e){const n={},o=s(t,["displayName"]);return e!==void 0&&o!=null&&a(e,["displayName"],o),n}function A_(t){const e={},n=s(t,["config"]);return n!=null&&w_(n,e),e}function R_(t,e){const n={},o=s(t,["force"]);return e!==void 0&&o!=null&&a(e,["_query","force"],o),n}function N_(t){const e={},n=s(t,["name"]);n!=null&&a(e,["_url","name"],n);const o=s(t,["config"]);return o!=null&&R_(o,e),e}function x_(t){const e={},n=s(t,["name"]);return n!=null&&a(e,["_url","name"],n),e}function P_(t,e){const n={},o=s(t,["customMetadata"]);if(e!==void 0&&o!=null){let i=o;Array.isArray(i)&&(i=i.map(l=>l)),a(e,["customMetadata"],i)}const r=s(t,["chunkingConfig"]);return e!==void 0&&r!=null&&a(e,["chunkingConfig"],r),n}function k_(t){const e={},n=s(t,["name"]);n!=null&&a(e,["name"],n);const o=s(t,["metadata"]);o!=null&&a(e,["metadata"],o);const r=s(t,["done"]);r!=null&&a(e,["done"],r);const i=s(t,["error"]);i!=null&&a(e,["error"],i);const l=s(t,["response"]);return l!=null&&a(e,["response"],D_(l)),e}function M_(t){const e={},n=s(t,["fileSearchStoreName"]);n!=null&&a(e,["_url","file_search_store_name"],n);const o=s(t,["fileName"]);o!=null&&a(e,["fileName"],o);const r=s(t,["config"]);return r!=null&&P_(r,e),e}function D_(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["parent"]);o!=null&&a(e,["parent"],o);const r=s(t,["documentName"]);return r!=null&&a(e,["documentName"],r),e}function L_(t,e){const n={},o=s(t,["pageSize"]);e!==void 0&&o!=null&&a(e,["_query","pageSize"],o);const r=s(t,["pageToken"]);return e!==void 0&&r!=null&&a(e,["_query","pageToken"],r),n}function U_(t){const e={},n=s(t,["config"]);return n!=null&&L_(n,e),e}function F_(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["nextPageToken"]);o!=null&&a(e,["nextPageToken"],o);const r=s(t,["fileSearchStores"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(l=>l)),a(e,["fileSearchStores"],i)}return e}function Op(t,e){const n={},o=s(t,["mimeType"]);e!==void 0&&o!=null&&a(e,["mimeType"],o);const r=s(t,["displayName"]);e!==void 0&&r!=null&&a(e,["displayName"],r);const i=s(t,["customMetadata"]);if(e!==void 0&&i!=null){let u=i;Array.isArray(u)&&(u=u.map(c=>c)),a(e,["customMetadata"],u)}const l=s(t,["chunkingConfig"]);return e!==void 0&&l!=null&&a(e,["chunkingConfig"],l),n}function V_(t){const e={},n=s(t,["fileSearchStoreName"]);n!=null&&a(e,["_url","file_search_store_name"],n);const o=s(t,["config"]);return o!=null&&Op(o,e),e}function G_(t){const e={},n=s(t,["sdkHttpResponse"]);return n!=null&&a(e,["sdkHttpResponse"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const H_="Content-Type",B_="X-Server-Timeout",O_="User-Agent",js="x-goog-api-client",q_="1.34.0",z_=`google-genai-sdk/${q_}`,$_="v1beta1",J_="v1beta";class W_{constructor(e){var n,o;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const r={};this.clientOptions.vertexai?(r.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:$_,r.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(r.apiVersion=(o=this.clientOptions.apiVersion)!==null&&o!==void 0?o:J_,r.baseUrl="https://generativelanguage.googleapis.com/"),r.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=r,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(r,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}async getAuthHeaders(){const e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const o=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&o.push(e.apiVersion),o.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,o){const r=[this.getRequestUrlInternal(n)];return o&&r.push(this.getBaseResourcePath()),e!==""&&r.push(e),new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const o=this.shouldPrependVertexProjectPath(e),r=this.constructUrl(e.path,n,o);if(e.queryParams)for(const[l,u]of Object.entries(e.queryParams))r.searchParams.append(l,String(u));let i={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else i.body=e.body;return i=await this.includeExtraHttpOptionsToRequestInit(i,n,r.toString(),e.abortSignal),this.unaryApiCall(r,i,e.httpMethod)}patchHttpOptions(e,n){const o=JSON.parse(JSON.stringify(e));for(const[r,i]of Object.entries(n))typeof i=="object"?o[r]=Object.assign(Object.assign({},o[r]),i):i!==void 0&&(o[r]=i);return o}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const o=this.shouldPrependVertexProjectPath(e),r=this.constructUrl(e.path,n,o);(!r.searchParams.has("alt")||r.searchParams.get("alt")!=="sse")&&r.searchParams.set("alt","sse");let i={};return i.body=e.body,i=await this.includeExtraHttpOptionsToRequestInit(i,n,r.toString(),e.abortSignal),this.streamApiCall(r,i,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,o,r){if(n&&n.timeout||r){const i=new AbortController,l=i.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const u=setTimeout(()=>i.abort(),n.timeout);u&&typeof u.unref=="function"&&u.unref()}r&&r.addEventListener("abort",()=>{i.abort()}),e.signal=l}return n&&n.extraBody!==null&&K_(e,n.extraBody),e.headers=await this.getHeadersInternal(n,o),e}async unaryApiCall(e,n,o){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:o})).then(async r=>(await Gc(r),new Ys(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}async streamApiCall(e,n,o){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:o})).then(async r=>(await Gc(r),this.processStreamResponse(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}processStreamResponse(e){return je(this,arguments,function*(){var o;const r=(o=e==null?void 0:e.body)===null||o===void 0?void 0:o.getReader(),i=new TextDecoder("utf-8");if(!r)throw new Error("Response body is empty");try{let l="";const u="data:",c=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:d,value:f}=yield L(r.read());if(d){if(l.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const m=i.decode(f,{stream:!0});try{const E=JSON.parse(m);if("error"in E){const _=JSON.parse(JSON.stringify(E.error)),S=_.status,v=_.code,g=`got status: ${S}. ${JSON.stringify(E)}`;if(v>=400&&v<600)throw new vi({message:g,status:v})}}catch(E){if(E.name==="ApiError")throw E}l+=m;let p=-1,h=0;for(;;){p=-1,h=0;for(const S of c){const v=l.indexOf(S);v!==-1&&(p===-1||v<p)&&(p=v,h=S.length)}if(p===-1)break;const E=l.substring(0,p);l=l.substring(p+h);const _=E.trim();if(_.startsWith(u)){const S=_.substring(u.length).trim();try{const v=new Response(S,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield L(new Ys(v))}catch(v){throw new Error(`exception parsing stream chunk ${S}. ${v}`)}}}}}finally{r.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(o=>{throw new Error(`exception ${o} sending request`)})}getDefaultHeaders(){const e={},n=z_+" "+this.clientOptions.userAgentExtra;return e[O_]=n,e[js]=n,e[H_]="application/json",e}async getHeadersInternal(e,n){const o=new Headers;if(e&&e.headers){for(const[r,i]of Object.entries(e.headers))o.append(r,i);e.timeout&&e.timeout>0&&o.append(B_,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(o,n),o}getFileName(e){var n;let o="";return typeof e=="string"&&(o=e.replace(/[/\\]+$/,""),o=(n=o.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),o}async uploadFile(e,n){var o;const r={};n!=null&&(r.mimeType=n.mimeType,r.name=n.name,r.displayName=n.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);const i=this.clientOptions.uploader,l=await i.stat(e);r.sizeBytes=String(l.size);const u=(o=n==null?void 0:n.mimeType)!==null&&o!==void 0?o:l.type;if(u===void 0||u==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=u;const c={file:r},d=this.getFileName(e),f=k("upload/v1beta/files",c._url),m=await this.fetchUploadUrl(f,r.sizeBytes,r.mimeType,d,c,n==null?void 0:n.httpOptions);return i.upload(e,m,this)}async uploadFileToFileSearchStore(e,n,o){var r;const i=this.clientOptions.uploader,l=await i.stat(n),u=String(l.size),c=(r=o==null?void 0:o.mimeType)!==null&&r!==void 0?r:l.type;if(c===void 0||c==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const d=`upload/v1beta/${e}:uploadToFileSearchStore`,f=this.getFileName(n),m={};o!=null&&Op(o,m);const p=await this.fetchUploadUrl(d,u,c,f,m,o==null?void 0:o.httpOptions);return i.uploadToFileSearchStore(n,p,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,o,r,i,l){var u;let c={};l?c=l:c={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${o}`},r?{"X-Goog-Upload-File-Name":r}:{})};const d=await this.request({path:e,body:JSON.stringify(i),httpMethod:"POST",httpOptions:c});if(!d||!(d!=null&&d.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const f=(u=d==null?void 0:d.headers)===null||u===void 0?void 0:u["x-goog-upload-url"];if(f===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return f}}async function Gc(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let o;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?o=await t.json():o={error:{message:await t.text(),code:t.status,status:t.statusText}};const r=JSON.stringify(o);throw n>=400&&n<600?new vi({message:r,status:n}):new Error(r)}}function K_(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const i=JSON.parse(t.body);if(typeof i=="object"&&i!==null&&!Array.isArray(i))n=i;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function o(i,l){const u=Object.assign({},i);for(const c in l)if(Object.prototype.hasOwnProperty.call(l,c)){const d=l[c],f=u[c];d&&typeof d=="object"&&!Array.isArray(d)&&f&&typeof f=="object"&&!Array.isArray(f)?u[c]=o(f,d):(f&&d&&typeof f!=typeof d&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${c}". Original type: ${typeof f}, New type: ${typeof d}. Overwriting.`),u[c]=d)}return u}const r=o(n,e);t.body=JSON.stringify(r)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Y_="mcp_used/unknown";let b_=!1;function qp(t){for(const e of t)if(Q_(e)||typeof e=="object"&&"inputSchema"in e)return!0;return b_}function zp(t){var e;const n=(e=t[js])!==null&&e!==void 0?e:"";t[js]=(n+` ${Y_}`).trimStart()}function Q_(t){return t!==null&&typeof t=="object"&&t instanceof la}function X_(t){return je(this,arguments,function*(n,o=100){let r,i=0;for(;i<o;){const l=yield L(n.listTools({cursor:r}));for(const u of l.tools)yield yield L(u),i++;if(!l.nextCursor)break;r=l.nextCursor}})}class la{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new la(e,n)}async initialize(){var e,n,o,r;if(this.mcpTools.length>0)return;const i={},l=[];for(const f of this.mcpClients)try{for(var u=!0,c=(n=void 0,et(X_(f))),d;d=await c.next(),e=d.done,!e;u=!0){r=d.value,u=!1;const m=r;l.push(m);const p=m.name;if(i[p])throw new Error(`Duplicate function name ${p} found in MCP tools. Please ensure function names are unique.`);i[p]=f}}catch(m){n={error:m}}finally{try{!u&&!e&&(o=c.return)&&await o.call(c)}finally{if(n)throw n.error}}this.mcpTools=l,this.functionNameToMcpClient=i}async tool(){return await this.initialize(),xv(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const o of e)if(o.name in this.functionNameToMcpClient){const r=this.functionNameToMcpClient[o.name];let i;this.config.timeout&&(i={timeout:this.config.timeout});const l=await r.callTool({name:o.name,arguments:o.args},void 0,i);n.push({functionResponse:{name:o.name,response:l.isError?{error:l}:l}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function Z_(t,e,n){const o=new Tv;let r;n.data instanceof Blob?r=JSON.parse(await n.data.text()):r=JSON.parse(n.data),Object.assign(o,r),e(o)}class j_{constructor(e,n,o){this.apiClient=e,this.auth=n,this.webSocketFactory=o}async connect(e){var n,o;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const r=this.apiClient.getWebsocketBaseUrl(),i=this.apiClient.getApiVersion(),l=nT(this.apiClient.getDefaultHeaders()),u=this.apiClient.getApiKey(),c=`${r}/ws/google.ai.generativelanguage.${i}.GenerativeService.BidiGenerateMusic?key=${u}`;let d=()=>{};const f=new Promise(y=>{d=y}),m=e.callbacks,p=function(){d({})},h=this.apiClient,E={onopen:p,onmessage:y=>{Z_(h,m.onmessage,y)},onerror:(n=m==null?void 0:m.onerror)!==null&&n!==void 0?n:function(y){},onclose:(o=m==null?void 0:m.onclose)!==null&&o!==void 0?o:function(y){}},_=this.webSocketFactory.create(c,tT(l),E);_.connect(),await f;const g={setup:{model:J(this.apiClient,e.model)}};return _.send(JSON.stringify(g)),new eT(_,this.apiClient)}}class eT{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=A0(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=w0(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(In.PLAY)}pause(){this.sendPlaybackControl(In.PAUSE)}stop(){this.sendPlaybackControl(In.STOP)}resetContext(){this.sendPlaybackControl(In.RESET_CONTEXT)}close(){this.conn.close()}}function tT(t){const e={};return t.forEach((n,o)=>{e[o]=n}),e}function nT(t){const e=new Headers;for(const[n,o]of Object.entries(t))e.append(n,o);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const oT="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function rT(t,e,n){const o=new _v;let r;n.data instanceof Blob?r=await n.data.text():n.data instanceof ArrayBuffer?r=new TextDecoder().decode(n.data):r=n.data;const i=JSON.parse(r);if(t.isVertexAI()){const l=x0(i);Object.assign(o,l)}else Object.assign(o,i);e(o)}class iT{constructor(e,n,o){this.apiClient=e,this.auth=n,this.webSocketFactory=o,this.music=new j_(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,o,r,i,l,u;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const c=this.apiClient.getWebsocketBaseUrl(),d=this.apiClient.getApiVersion();let f;const m=this.apiClient.getHeaders();e.config&&e.config.tools&&qp(e.config.tools)&&zp(m);const p=uT(m);if(this.apiClient.isVertexAI())f=`${c}/ws/google.cloud.aiplatform.${d}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(p,f);else{const P=this.apiClient.getApiKey();let x="BidiGenerateContent",H="key";P!=null&&P.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),d!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),x="BidiGenerateContentConstrained",H="access_token"),f=`${c}/ws/google.ai.generativelanguage.${d}.GenerativeService.${x}?${H}=${P}`}let h=()=>{};const E=new Promise(P=>{h=P}),_=e.callbacks,S=function(){var P;(P=_==null?void 0:_.onopen)===null||P===void 0||P.call(_),h({})},v=this.apiClient,g={onopen:S,onmessage:P=>{rT(v,_.onmessage,P)},onerror:(n=_==null?void 0:_.onerror)!==null&&n!==void 0?n:function(P){},onclose:(o=_==null?void 0:_.onclose)!==null&&o!==void 0?o:function(P){}},y=this.webSocketFactory.create(f,aT(p),g);y.connect(),await E;let T=J(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&T.startsWith("publishers/")){const P=this.apiClient.getProject(),x=this.apiClient.getLocation();T=`projects/${P}/locations/${x}/`+T}let C={};this.apiClient.isVertexAI()&&((r=e.config)===null||r===void 0?void 0:r.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[br.AUDIO]}:e.config.responseModalities=[br.AUDIO]),!((i=e.config)===null||i===void 0)&&i.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const A=(u=(l=e.config)===null||l===void 0?void 0:l.tools)!==null&&u!==void 0?u:[],w=[];for(const P of A)if(this.isCallableTool(P)){const x=P;w.push(await x.tool())}else w.push(P);w.length>0&&(e.config.tools=w);const R={model:T,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?C=I0(this.apiClient,R):C=C0(this.apiClient,R),delete C.config,y.send(JSON.stringify(C)),new lT(y,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const sT={turnComplete:!0};class lT{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let o=[];try{o=qe(n.turns),e.isVertexAI()||(o=o.map(r=>yi(r)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:o,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let o=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?o=n.functionResponses:o=[n.functionResponses],o.length===0)throw new Error("functionResponses is required.");for(const i of o){if(typeof i!="object"||i===null||!("name"in i)||!("response"in i))throw new Error(`Could not parse function response, type '${typeof i}'.`);if(!e.isVertexAI()&&!("id"in i))throw new Error(oT)}return{toolResponse:{functionResponses:o}}}sendClientContent(e){e=Object.assign(Object.assign({},sT),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:N0(e)}:n={realtimeInput:R0(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function aT(t){const e={};return t.forEach((n,o)=>{e[o]=n}),e}function uT(t){const e=new Headers;for(const[n,o]of Object.entries(t))e.append(n,o);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Hc=10;function Bc(t){var e,n,o;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let r=!1;for(const l of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(Dn(l)){r=!0;break}if(!r)return!0;const i=(o=t==null?void 0:t.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls;return i&&(i<0||!Number.isInteger(i))||i==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",i),!0):!1}function Dn(t){return"callTool"in t&&typeof t.callTool=="function"}function cT(t){var e,n,o;return(o=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(r=>Dn(r)))!==null&&o!==void 0?o:!1}function Oc(t){var e;const n=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((o,r)=>{if(Dn(o))return;const i=o;i.functionDeclarations&&i.functionDeclarations.length>0&&n.push(r)}),n}function qc(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class dT extends Tt{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var o,r,i,l,u;const c=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!cT(n)||Bc(n.config))return await this.generateContentInternal(c);const d=Oc(n);if(d.length>0){const _=d.map(S=>`tools[${S}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${_}.`)}let f,m;const p=qe(c.contents),h=(i=(r=(o=c.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:Hc;let E=0;for(;E<h&&(f=await this.generateContentInternal(c),!(!f.functionCalls||f.functionCalls.length===0));){const _=f.candidates[0].content,S=[];for(const v of(u=(l=n.config)===null||l===void 0?void 0:l.tools)!==null&&u!==void 0?u:[])if(Dn(v)){const y=await v.callTool(f.functionCalls);S.push(...y)}E++,m={role:"user",parts:S},c.contents=qe(c.contents),c.contents.push(_),c.contents.push(m),qc(c.config)&&(p.push(_),p.push(m))}return qc(c.config)&&(f.automaticFunctionCallingHistory=p),f},this.generateContentStream=async n=>{var o,r,i,l,u;if(this.maybeMoveToResponseJsonSchem(n),Bc(n.config)){const m=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(m)}const c=Oc(n);if(c.length>0){const m=c.map(p=>`tools[${p}]`).join(", ");throw new Error(`Incompatible tools found at ${m}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const d=(i=(r=(o=n==null?void 0:n.config)===null||o===void 0?void 0:o.toolConfig)===null||r===void 0?void 0:r.functionCallingConfig)===null||i===void 0?void 0:i.streamFunctionCallArguments,f=(u=(l=n==null?void 0:n.config)===null||l===void 0?void 0:l.automaticFunctionCalling)===null||u===void 0?void 0:u.disable;if(d&&!f)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(o=>{var r;let i;const l=[];if(o!=null&&o.generatedImages)for(const c of o.generatedImages)c&&(c!=null&&c.safetyAttributes)&&((r=c==null?void 0:c.safetyAttributes)===null||r===void 0?void 0:r.contentType)==="Positive Prompt"?i=c==null?void 0:c.safetyAttributes:l.push(c);let u;return i?u={generatedImages:l,positivePromptSafetyAttributes:i,sdkHttpResponse:o.sdkHttpResponse}:u={generatedImages:l,sdkHttpResponse:o.sdkHttpResponse},u}),this.list=async n=>{var o;const l={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!l.config.queryBase){if(!((o=l.config)===null||o===void 0)&&o.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");l.config.filter="labels.tune-type:*"}return new un(Et.PAGED_ITEM_MODELS,u=>this.listInternal(u),await this.listInternal(l),l)},this.editImage=async n=>{const o={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(o.referenceImages=n.referenceImages.map(r=>r.toReferenceImageAPI())),await this.editImageInternal(o)},this.upscaleImage=async n=>{let o={numberOfImages:1,mode:"upscale"};n.config&&(o=Object.assign(Object.assign({},o),n.config));const r={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:o};return await this.upscaleImageInternal(r)},this.generateVideos=async n=>{var o,r,i,l,u,c;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((o=n.video)===null||o===void 0)&&o.uri&&(!((r=n.video)===null||r===void 0)&&r.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((l=(i=n.source)===null||i===void 0?void 0:i.video)===null||l===void 0)&&l.uri&&(!((c=(u=n.source)===null||u===void 0?void 0:u.video)===null||c===void 0)&&c.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,o,r;const i=(n=e.config)===null||n===void 0?void 0:n.tools;if(!i)return e;const l=await Promise.all(i.map(async c=>Dn(c)?await c.tool():c)),u={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:l})};if(u.config.tools=l,e.config&&e.config.tools&&qp(e.config.tools)){const c=(r=(o=e.config.httpOptions)===null||o===void 0?void 0:o.headers)!==null&&r!==void 0?r:{};let d=Object.assign({},c);Object.keys(d).length===0&&(d=this.apiClient.getDefaultHeaders()),zp(d),u.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:d})}return u}async initAfcToolsMap(e){var n,o,r;const i=new Map;for(const l of(o=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&o!==void 0?o:[])if(Dn(l)){const u=l,c=await u.tool();for(const d of(r=c.functionDeclarations)!==null&&r!==void 0?r:[]){if(!d.name)throw new Error("Function declaration name is required.");if(i.has(d.name))throw new Error(`Duplicate tool declaration name: ${d.name}`);i.set(d.name,u)}}return i}async processAfcStream(e){var n,o,r;const i=(r=(o=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls)!==null&&r!==void 0?r:Hc;let l=!1,u=0;const c=await this.initAfcToolsMap(e);return function(d,f,m){return je(this,arguments,function*(){for(var p,h,E,_,S,v;u<i;){l&&(u++,l=!1);const C=yield L(d.processParamsMaybeAddMcpUsage(m)),A=yield L(d.generateContentStreamInternal(C)),w=[],R=[];try{for(var g=!0,y=(h=void 0,et(A)),T;T=yield L(y.next()),p=T.done,!p;g=!0){_=T.value,g=!1;const P=_;if(yield yield L(P),P.candidates&&(!((S=P.candidates[0])===null||S===void 0)&&S.content)){R.push(P.candidates[0].content);for(const x of(v=P.candidates[0].content.parts)!==null&&v!==void 0?v:[])if(u<i&&x.functionCall){if(!x.functionCall.name)throw new Error("Function call name was not returned by the model.");if(f.has(x.functionCall.name)){const H=yield L(f.get(x.functionCall.name).callTool([x.functionCall]));w.push(...H)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${f.keys()}, mising tool: ${x.functionCall.name}`)}}}}catch(P){h={error:P}}finally{try{!g&&!p&&(E=y.return)&&(yield L(E.call(y)))}finally{if(h)throw h.error}}if(w.length>0){l=!0;const P=new to;P.candidates=[{content:{role:"user",parts:w}}],yield yield L(P);const x=[];x.push(...R),x.push({role:"user",parts:w});const H=qe(m.contents).concat(x);m.contents=H}else break}})}(this,c,e)}async generateContentInternal(e){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=Uc(this.apiClient,e);return u=k("{model}:generateContent",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const m=Vc(f),p=new to;return Object.assign(p,m),p})}else{const d=Lc(this.apiClient,e);return u=k("{model}:generateContent",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const m=Fc(f),p=new to;return Object.assign(p,m),p})}}async generateContentStreamInternal(e){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=Uc(this.apiClient,e);return u=k("{model}:streamGenerateContent?alt=sse",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.requestStream({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),l.then(function(m){return je(this,arguments,function*(){var p,h,E,_;try{for(var S=!0,v=et(m),g;g=yield L(v.next()),p=g.done,!p;S=!0){_=g.value,S=!1;const y=_,T=Vc(yield L(y.json()));T.sdkHttpResponse={headers:y.headers};const C=new to;Object.assign(C,T),yield yield L(C)}}catch(y){h={error:y}}finally{try{!S&&!p&&(E=v.return)&&(yield L(E.call(v)))}finally{if(h)throw h.error}}})})}else{const d=Lc(this.apiClient,e);return u=k("{model}:streamGenerateContent?alt=sse",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.requestStream({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}),l.then(function(m){return je(this,arguments,function*(){var p,h,E,_;try{for(var S=!0,v=et(m),g;g=yield L(v.next()),p=g.done,!p;S=!0){_=g.value,S=!1;const y=_,T=Fc(yield L(y.json()));T.sdkHttpResponse={headers:y.headers};const C=new to;Object.assign(C,T),yield yield L(C)}}catch(y){h={error:y}}finally{try{!S&&!p&&(E=v.return)&&(yield L(E.call(v)))}finally{if(h)throw h.error}}})})}}async embedContent(e){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=iE(this.apiClient,e);return u=k("{model}:predict",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const m=lE(f),p=new vc;return Object.assign(p,m),p})}else{const d=rE(this.apiClient,e);return u=k("{model}:batchEmbedContents",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const m=sE(f),p=new vc;return Object.assign(p,m),p})}}async generateImagesInternal(e){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=yE(this.apiClient,e);return u=k("{model}:predict",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const m=_E(f),p=new yc;return Object.assign(p,m),p})}else{const d=vE(this.apiClient,e);return u=k("{model}:predict",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const m=EE(f),p=new yc;return Object.assign(p,m),p})}}async editImageInternal(e){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI()){const u=eE(this.apiClient,e);return i=k("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),r.then(c=>{const d=tE(c),f=new uv;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI()){const u=y_(this.apiClient,e);return i=k("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),r.then(c=>{const d=E_(c),f=new cv;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI()){const u=jE(this.apiClient,e);return i=k("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>{const d=e_(c),f=new dv;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI()){const u=s_(this.apiClient,e);return i=k("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>{const d=l_(c),f=new fv;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=VE(this.apiClient,e);return u=k("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l.then(f=>Zs(f))}else{const d=FE(this.apiClient,e);return u=k("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>Xs(f))}}async listInternal(e){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=WE(this.apiClient,e);return u=k("{models_url}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const m=YE(f),p=new Ec;return Object.assign(p,m),p})}else{const d=JE(this.apiClient,e);return u=k("{models_url}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const m=KE(f),p=new Ec;return Object.assign(p,m),p})}}async update(e){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=g_(this.apiClient,e);return u=k("{model}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l.then(f=>Zs(f))}else{const d=h_(this.apiClient,e);return u=k("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>Xs(f))}}async delete(e){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=Q0(this.apiClient,e);return u=k("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const m=Z0(f),p=new _c;return Object.assign(p,m),p})}else{const d=b0(this.apiClient,e);return u=k("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const m=X0(f),p=new _c;return Object.assign(p,m),p})}}async countTokens(e){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=W0(this.apiClient,e);return u=k("{model}:countTokens",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const m=Y0(f),p=new Tc;return Object.assign(p,m),p})}else{const d=J0(this.apiClient,e);return u=k("{model}:countTokens",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const m=K0(f),p=new Tc;return Object.assign(p,m),p})}}async computeTokens(e){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI()){const u=G0(this.apiClient,e);return i=k("{model}:computeTokens",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),r.then(c=>{const d=H0(c),f=new pv;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=AE(this.apiClient,e);return u=k("{model}:predictLongRunning",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l.then(f=>{const m=IE(f),p=new Qr;return Object.assign(p,m),p})}else{const d=wE(this.apiClient,e);return u=k("{model}:predictLongRunning",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>{const m=CE(f),p=new Qr;return Object.assign(p,m),p})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class fT extends Tt{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,o=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=n.name.split("/operations/")[0];let i;o&&"httpOptions"in o&&(i=o.httpOptions);const l=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:r,config:{httpOptions:i}});return n._fromAPIResponse({apiResponse:l,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:n.name,config:o});return n._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async get(e){const n=e.operation,o=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=n.name.split("/operations/")[0];let i;o&&"httpOptions"in o&&(i=o.httpOptions);const l=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:r,config:{httpOptions:i}});return n._fromAPIResponse({apiResponse:l,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:n.name,config:o});return n._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=ov(e);return u=k("{operationName}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l}else{const d=nv(e);return u=k("{operationName}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l}}async fetchPredictVideosOperationInternal(e){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI()){const u=bg(e);return i=k("{resourceName}:fetchPredictOperation",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function pT(t){const e={},n=s(t,["data"]);if(n!=null&&a(e,["data"],n),s(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(t,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function mT(t){const e={},n=s(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>CT(i))),a(e,["parts"],r)}const o=s(t,["role"]);return o!=null&&a(e,["role"],o),e}function hT(t,e,n){const o={},r=s(e,["expireTime"]);n!==void 0&&r!=null&&a(n,["expireTime"],r);const i=s(e,["newSessionExpireTime"]);n!==void 0&&i!=null&&a(n,["newSessionExpireTime"],i);const l=s(e,["uses"]);n!==void 0&&l!=null&&a(n,["uses"],l);const u=s(e,["liveConnectConstraints"]);n!==void 0&&u!=null&&a(n,["bidiGenerateContentSetup"],ST(t,u));const c=s(e,["lockAdditionalFields"]);return n!==void 0&&c!=null&&a(n,["fieldMask"],c),o}function gT(t,e){const n={},o=s(e,["config"]);return o!=null&&a(n,["config"],hT(t,o,n)),n}function vT(t){const e={};if(s(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=s(t,["fileUri"]);n!=null&&a(e,["fileUri"],n);const o=s(t,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function yT(t){const e={},n=s(t,["id"]);n!=null&&a(e,["id"],n);const o=s(t,["args"]);o!=null&&a(e,["args"],o);const r=s(t,["name"]);if(r!=null&&a(e,["name"],r),s(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(s(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function ET(t){const e={};if(s(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=s(t,["enableWidget"]);return n!=null&&a(e,["enableWidget"],n),e}function _T(t){const e={};if(s(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(s(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=s(t,["timeRangeFilter"]);return n!=null&&a(e,["timeRangeFilter"],n),e}function TT(t,e){const n={},o=s(t,["generationConfig"]);e!==void 0&&o!=null&&a(e,["setup","generationConfig"],o);const r=s(t,["responseModalities"]);e!==void 0&&r!=null&&a(e,["setup","generationConfig","responseModalities"],r);const i=s(t,["temperature"]);e!==void 0&&i!=null&&a(e,["setup","generationConfig","temperature"],i);const l=s(t,["topP"]);e!==void 0&&l!=null&&a(e,["setup","generationConfig","topP"],l);const u=s(t,["topK"]);e!==void 0&&u!=null&&a(e,["setup","generationConfig","topK"],u);const c=s(t,["maxOutputTokens"]);e!==void 0&&c!=null&&a(e,["setup","generationConfig","maxOutputTokens"],c);const d=s(t,["mediaResolution"]);e!==void 0&&d!=null&&a(e,["setup","generationConfig","mediaResolution"],d);const f=s(t,["seed"]);e!==void 0&&f!=null&&a(e,["setup","generationConfig","seed"],f);const m=s(t,["speechConfig"]);e!==void 0&&m!=null&&a(e,["setup","generationConfig","speechConfig"],sa(m));const p=s(t,["thinkingConfig"]);e!==void 0&&p!=null&&a(e,["setup","generationConfig","thinkingConfig"],p);const h=s(t,["enableAffectiveDialog"]);e!==void 0&&h!=null&&a(e,["setup","generationConfig","enableAffectiveDialog"],h);const E=s(t,["systemInstruction"]);e!==void 0&&E!=null&&a(e,["setup","systemInstruction"],mT(Ee(E)));const _=s(t,["tools"]);if(e!==void 0&&_!=null){let A=Jn(_);Array.isArray(A)&&(A=A.map(w=>wT($n(w)))),a(e,["setup","tools"],A)}const S=s(t,["sessionResumption"]);e!==void 0&&S!=null&&a(e,["setup","sessionResumption"],IT(S));const v=s(t,["inputAudioTranscription"]);e!==void 0&&v!=null&&a(e,["setup","inputAudioTranscription"],v);const g=s(t,["outputAudioTranscription"]);e!==void 0&&g!=null&&a(e,["setup","outputAudioTranscription"],g);const y=s(t,["realtimeInputConfig"]);e!==void 0&&y!=null&&a(e,["setup","realtimeInputConfig"],y);const T=s(t,["contextWindowCompression"]);e!==void 0&&T!=null&&a(e,["setup","contextWindowCompression"],T);const C=s(t,["proactivity"]);if(e!==void 0&&C!=null&&a(e,["setup","proactivity"],C),s(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function ST(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["setup","model"],J(t,o));const r=s(e,["config"]);return r!=null&&a(n,["config"],TT(r,n)),n}function CT(t){const e={},n=s(t,["mediaResolution"]);n!=null&&a(e,["mediaResolution"],n);const o=s(t,["codeExecutionResult"]);o!=null&&a(e,["codeExecutionResult"],o);const r=s(t,["executableCode"]);r!=null&&a(e,["executableCode"],r);const i=s(t,["fileData"]);i!=null&&a(e,["fileData"],vT(i));const l=s(t,["functionCall"]);l!=null&&a(e,["functionCall"],yT(l));const u=s(t,["functionResponse"]);u!=null&&a(e,["functionResponse"],u);const c=s(t,["inlineData"]);c!=null&&a(e,["inlineData"],pT(c));const d=s(t,["text"]);d!=null&&a(e,["text"],d);const f=s(t,["thought"]);f!=null&&a(e,["thought"],f);const m=s(t,["thoughtSignature"]);m!=null&&a(e,["thoughtSignature"],m);const p=s(t,["videoMetadata"]);return p!=null&&a(e,["videoMetadata"],p),e}function IT(t){const e={},n=s(t,["handle"]);if(n!=null&&a(e,["handle"],n),s(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function wT(t){const e={},n=s(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(m=>m)),a(e,["functionDeclarations"],f)}if(s(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=s(t,["googleSearchRetrieval"]);o!=null&&a(e,["googleSearchRetrieval"],o);const r=s(t,["computerUse"]);r!=null&&a(e,["computerUse"],r);const i=s(t,["fileSearch"]);i!=null&&a(e,["fileSearch"],i);const l=s(t,["codeExecution"]);if(l!=null&&a(e,["codeExecution"],l),s(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=s(t,["googleMaps"]);u!=null&&a(e,["googleMaps"],ET(u));const c=s(t,["googleSearch"]);c!=null&&a(e,["googleSearch"],_T(c));const d=s(t,["urlContext"]);return d!=null&&a(e,["urlContext"],d),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function AT(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const o=t[n];if(typeof o=="object"&&o!=null&&Object.keys(o).length>0){const r=Object.keys(o).map(i=>`${n}.${i}`);e.push(...r)}else e.push(n)}return e.join(",")}function RT(t,e){let n=null;const o=t.bidiGenerateContentSetup;if(typeof o=="object"&&o!==null&&"setup"in o){const i=o.setup;typeof i=="object"&&i!==null?(t.bidiGenerateContentSetup=i,n=i):delete t.bidiGenerateContentSetup}else o!==void 0&&delete t.bidiGenerateContentSetup;const r=t.fieldMask;if(n){const i=AT(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)i?t.fieldMask=i:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&r!==null&&Array.isArray(r)&&r.length>0){const l=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let u=[];r.length>0&&(u=r.map(d=>l.includes(d)?`generationConfig.${d}`:d));const c=[];i&&c.push(i),u.length>0&&c.push(...u),c.length>0?t.fieldMask=c.join(","):delete t.fieldMask}else delete t.fieldMask}else r!==null&&Array.isArray(r)&&r.length>0?t.fieldMask=r.join(","):delete t.fieldMask;return t}class NT extends Tt{constructor(e){super(),this.apiClient=e}async create(e){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const u=gT(this.apiClient,e);i=k("auth_tokens",u._url),l=u._query,delete u.config,delete u._url,delete u._query;const c=RT(u,e.config);return r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>d)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function xT(t,e){const n={},o=s(t,["force"]);return e!==void 0&&o!=null&&a(e,["_query","force"],o),n}function PT(t){const e={},n=s(t,["name"]);n!=null&&a(e,["_url","name"],n);const o=s(t,["config"]);return o!=null&&xT(o,e),e}function kT(t){const e={},n=s(t,["name"]);return n!=null&&a(e,["_url","name"],n),e}function MT(t,e){const n={},o=s(t,["pageSize"]);e!==void 0&&o!=null&&a(e,["_query","pageSize"],o);const r=s(t,["pageToken"]);return e!==void 0&&r!=null&&a(e,["_query","pageToken"],r),n}function DT(t){const e={},n=s(t,["parent"]);n!=null&&a(e,["_url","parent"],n);const o=s(t,["config"]);return o!=null&&MT(o,e),e}function LT(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["nextPageToken"]);o!=null&&a(e,["nextPageToken"],o);const r=s(t,["documents"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(l=>l)),a(e,["documents"],i)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class UT extends Tt{constructor(e){super(),this.apiClient=e,this.list=async n=>new un(Et.PAGED_ITEM_DOCUMENTS,o=>this.listInternal({parent:n.parent,config:o.config}),await this.listInternal(n),n)}async get(e){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=kT(e);return i=k("{name}",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>c)}}async delete(e){var n,o;let r="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=PT(e);r=k("{name}",l._url),i=l._query,delete l._url,delete l._query,await this.apiClient.request({path:r,queryParams:i,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=DT(e);return i=k("{parent}/documents",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>{const d=LT(c),f=new mv;return Object.assign(f,d),f})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class FT extends Tt{constructor(e,n=new UT(e)){super(),this.apiClient=e,this.documents=n,this.list=async(o={})=>new un(Et.PAGED_ITEM_FILE_SEARCH_STORES,r=>this.listInternal(r),await this.listInternal(o),o)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=A_(e);return i=k("fileSearchStores",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>c)}}async get(e){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=x_(e);return i=k("{name}",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>c)}}async delete(e){var n,o;let r="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=N_(e);r=k("{name}",l._url),i=l._query,delete l._url,delete l._query,await this.apiClient.request({path:r,queryParams:i,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=U_(e);return i=k("fileSearchStores",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>{const d=F_(c),f=new hv;return Object.assign(f,d),f})}}async uploadToFileSearchStoreInternal(e){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=V_(e);return i=k("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>{const d=G_(c),f=new gv;return Object.assign(f,d),f})}}async importFile(e){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=M_(e);return i=k("{file_search_store_name}:importFile",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>{const d=k_(c),f=new ta;return Object.assign(f,d),f})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let $p=function(){const{crypto:t}=globalThis;if(t!=null&&t.randomUUID)return $p=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),n=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,o=>(+o^n()&15>>+o/4).toString(16))};const VT=()=>$p();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function el(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const tl=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Je extends Error{}class Ie extends Je{constructor(e,n,o,r){super(`${Ie.makeMessage(e,n,o)}`),this.status=e,this.headers=r,this.error=n}static makeMessage(e,n,o){const r=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):o;return e&&r?`${e} ${r}`:e?`${e} status code (no body)`:r||"(no status code or body)"}static generate(e,n,o,r){if(!e||!r)return new Ti({message:o,cause:tl(n)});const i=n;return e===400?new Wp(e,i,o,r):e===401?new Kp(e,i,o,r):e===403?new Yp(e,i,o,r):e===404?new bp(e,i,o,r):e===409?new Qp(e,i,o,r):e===422?new Xp(e,i,o,r):e===429?new Zp(e,i,o,r):e>=500?new jp(e,i,o,r):new Ie(e,i,o,r)}}class nl extends Ie{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class Ti extends Ie{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}}class Jp extends Ti{constructor({message:e}={}){super({message:e??"Request timed out."})}}class Wp extends Ie{}class Kp extends Ie{}class Yp extends Ie{}class bp extends Ie{}class Qp extends Ie{}class Xp extends Ie{}class Zp extends Ie{}class jp extends Ie{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const GT=/^[a-z][a-z0-9+.-]*:/i,HT=t=>GT.test(t);let ol=t=>(ol=Array.isArray,ol(t));const BT=ol;let OT=BT;const zc=OT;function qT(t){if(!t)return!0;for(const e in t)return!1;return!0}function zT(t,e){return Object.prototype.hasOwnProperty.call(t,e)}const $T=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new Je(`${t} must be an integer`);if(e<0)throw new Je(`${t} must be a positive integer`);return e},JT=t=>{try{return JSON.parse(t)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const WT=t=>new Promise(e=>setTimeout(e,t));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const dn="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function KT(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const YT=()=>{var t,e,n,o,r;const i=KT();if(i==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":dn,"X-Stainless-OS":Jc(Deno.build.os),"X-Stainless-Arch":$c(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(t=Deno.version)===null||t===void 0?void 0:t.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":dn,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(i==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":dn,"X-Stainless-OS":Jc((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":$c((o=globalThis.process.arch)!==null&&o!==void 0?o:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(r=globalThis.process.version)!==null&&r!==void 0?r:"unknown"};const l=bT();return l?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":dn,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${l.browser}`,"X-Stainless-Runtime-Version":l.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":dn,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function bT(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const o=n.exec(navigator.userAgent);if(o){const r=o[1]||0,i=o[2]||0,l=o[3]||0;return{browser:e,version:`${r}.${i}.${l}`}}}return null}const $c=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",Jc=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let ir;const QT=()=>ir??(ir=YT());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function XT(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function em(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function ZT(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return em({start(){},async pull(n){const{done:o,value:r}=await e.next();o?n.close():n.enqueue(r)},async cancel(){var n;await((n=e.return)===null||n===void 0?void 0:n.call(e))}})}function tm(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n!=null&&n.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function jT(t){var e,n;if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await((n=(e=t[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(e));return}const o=t.getReader(),r=o.cancel();o.releaseLock(),await r}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const eS=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const nm=()=>{var t;if(typeof File>"u"){const{process:e}=globalThis,n=typeof((t=e==null?void 0:e.versions)===null||t===void 0?void 0:t.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function Xi(t,e,n){return nm(),new File(t,e??"unknown_file",n)}function tS(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const nS=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const om=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",oS=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&om(t),rS=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function iS(t,e,n){if(nm(),t=await t,oS(t))return t instanceof File?t:Xi([await t.arrayBuffer()],t.name);if(rS(t)){const r=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),Xi(await rl(r),e,n)}const o=await rl(t);if(e||(e=tS(t)),!(n!=null&&n.type)){const r=o.find(i=>typeof i=="object"&&"type"in i&&i.type);typeof r=="string"&&(n=Object.assign(Object.assign({},n),{type:r}))}return Xi(o,e,n)}async function rl(t){var e,n,o,r,i;let l=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)l.push(t);else if(om(t))l.push(t instanceof Blob?t:await t.arrayBuffer());else if(nS(t))try{for(var u=!0,c=et(t),d;d=await c.next(),e=d.done,!e;u=!0){r=d.value,u=!1;const f=r;l.push(...await rl(f))}}catch(f){n={error:f}}finally{try{!u&&!e&&(o=c.return)&&await o.call(c)}finally{if(n)throw n.error}}else{const f=(i=t==null?void 0:t.constructor)===null||i===void 0?void 0:i.name;throw new Error(`Unexpected data type: ${typeof t}${f?`; constructor: ${f}`:""}${sS(t)}`)}return l}function sS(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class rm{constructor(e){this._client=e}}rm._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function im(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const Wc=Object.freeze(Object.create(null)),lS=(t=im)=>function(n,...o){if(n.length===1)return n[0];let r=!1;const i=[],l=n.reduce((f,m,p)=>{var h,E,_;/[?#]/.test(m)&&(r=!0);const S=o[p];let v=(r?encodeURIComponent:t)(""+S);return p!==o.length&&(S==null||typeof S=="object"&&S.toString===((_=Object.getPrototypeOf((E=Object.getPrototypeOf((h=S.hasOwnProperty)!==null&&h!==void 0?h:Wc))!==null&&E!==void 0?E:Wc))===null||_===void 0?void 0:_.toString))&&(v=S+"",i.push({start:f.length+m.length,length:v.length,error:`Value of type ${Object.prototype.toString.call(S).slice(8,-1)} is not a valid path parameter`})),f+m+(p===o.length?"":v)},""),u=l.split(/[?#]/,1)[0],c=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let d;for(;(d=c.exec(u))!==null;)i.push({start:d.index,length:d[0].length,error:`Value "${d[0]}" can't be safely passed as a path parameter`});if(i.sort((f,m)=>f.start-m.start),i.length>0){let f=0;const m=i.reduce((p,h)=>{const E=" ".repeat(h.start-f),_="^".repeat(h.length);return f=h.start+h.length,p+E+_},"");throw new Je(`Path parameters result in path with invalid segments:
${i.map(p=>p.error).join(`
`)}
${l}
${m}`)}return l},sr=lS(im);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class sm extends rm{create(e,n){var o;const{api_version:r=this._client.apiVersion}=e,i=Zr(e,["api_version"]);if("model"in i&&"agent_config"in i)throw new Je("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in i&&"generation_config"in i)throw new Je("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(sr`/${r}/interactions`,Object.assign(Object.assign({body:i},n),{stream:(o=e.stream)!==null&&o!==void 0?o:!1}))}delete(e,n={},o){const{api_version:r=this._client.apiVersion}=n??{};return this._client.delete(sr`/${r}/interactions/${e}`,o)}cancel(e,n={},o){const{api_version:r=this._client.apiVersion}=n??{};return this._client.post(sr`/${r}/interactions/${e}/cancel`,o)}get(e,n={},o){var r;const i=n??{},{api_version:l=this._client.apiVersion}=i,u=Zr(i,["api_version"]);return this._client.get(sr`/${l}/interactions/${e}`,Object.assign(Object.assign({query:u},o),{stream:(r=n==null?void 0:n.stream)!==null&&r!==void 0?r:!1}))}}sm._key=Object.freeze(["interactions"]);class lm extends sm{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function aS(t){let e=0;for(const r of t)e+=r.length;const n=new Uint8Array(e);let o=0;for(const r of t)n.set(r,o),o+=r.length;return n}let lr;function aa(t){let e;return(lr??(e=new globalThis.TextEncoder,lr=e.encode.bind(e)))(t)}let ar;function Kc(t){let e;return(ar??(e=new globalThis.TextDecoder,ar=e.decode.bind(e)))(t)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Si{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?aa(e):e;this.buffer=aS([this.buffer,n]);const o=[];let r;for(;(r=uS(this.buffer,this.carriageReturnIndex))!=null;){if(r.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=r.index;continue}if(this.carriageReturnIndex!=null&&(r.index!==this.carriageReturnIndex+1||r.carriage)){o.push(Kc(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const i=this.carriageReturnIndex!==null?r.preceding-1:r.preceding,l=Kc(this.buffer.subarray(0,i));o.push(l),this.buffer=this.buffer.subarray(r.index),this.carriageReturnIndex=null}return o}flush(){return this.buffer.length?this.decode(`
`):[]}}Si.NEWLINE_CHARS=new Set([`
`,"\r"]);Si.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function uS(t,e){for(let r=e??0;r<t.length;r++){if(t[r]===10)return{preceding:r,index:r+1,carriage:!1};if(t[r]===13)return{preceding:r,index:r+1,carriage:!0}}return null}function cS(t){for(let o=0;o<t.length-1;o++){if(t[o]===10&&t[o+1]===10||t[o]===13&&t[o+1]===13)return o+2;if(t[o]===13&&t[o+1]===10&&o+3<t.length&&t[o+2]===13&&t[o+3]===10)return o+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const jr={off:0,error:200,warn:300,info:400,debug:500},Yc=(t,e,n)=>{if(t){if(zT(jr,t))return t;Te(n).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(jr))}`)}};function lo(){}function ur(t,e,n){return!e||jr[t]>jr[n]?lo:e[t].bind(e)}const dS={error:lo,warn:lo,info:lo,debug:lo};let bc=new WeakMap;function Te(t){var e;const n=t.logger,o=(e=t.logLevel)!==null&&e!==void 0?e:"off";if(!n)return dS;const r=bc.get(n);if(r&&r[0]===o)return r[1];const i={error:ur("error",n,o),warn:ur("warn",n,o),info:ur("info",n,o),debug:ur("debug",n,o)};return bc.set(n,[o,i]),i}const bt=t=>(t.options&&(t.options=Object.assign({},t.options),delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,n])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class wn{constructor(e,n,o){this.iterator=e,this.controller=n,this.client=o}static fromSSEResponse(e,n,o){let r=!1;const i=o?Te(o):console;function l(){return je(this,arguments,function*(){var c,d,f,m;if(r)throw new Je("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let p=!1;try{try{for(var h=!0,E=et(fS(e,n)),_;_=yield L(E.next()),c=_.done,!c;h=!0){m=_.value,h=!1;const S=m;if(!p)if(S.data.startsWith("[DONE]")){p=!0;continue}else try{yield yield L(JSON.parse(S.data))}catch(v){throw i.error("Could not parse message into JSON:",S.data),i.error("From chunk:",S.raw),v}}}catch(S){d={error:S}}finally{try{!h&&!c&&(f=E.return)&&(yield L(f.call(E)))}finally{if(d)throw d.error}}p=!0}catch(S){if(el(S))return yield L(void 0);throw S}finally{p||n.abort()}})}return new wn(l,n,o)}static fromReadableStream(e,n,o){let r=!1;function i(){return je(this,arguments,function*(){var c,d,f,m;const p=new Si,h=tm(e);try{for(var E=!0,_=et(h),S;S=yield L(_.next()),c=S.done,!c;E=!0){m=S.value,E=!1;const v=m;for(const g of p.decode(v))yield yield L(g)}}catch(v){d={error:v}}finally{try{!E&&!c&&(f=_.return)&&(yield L(f.call(_)))}finally{if(d)throw d.error}}for(const v of p.flush())yield yield L(v)})}function l(){return je(this,arguments,function*(){var c,d,f,m;if(r)throw new Je("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let p=!1;try{try{for(var h=!0,E=et(i()),_;_=yield L(E.next()),c=_.done,!c;h=!0){m=_.value,h=!1;const S=m;p||S&&(yield yield L(JSON.parse(S)))}}catch(S){d={error:S}}finally{try{!h&&!c&&(f=E.return)&&(yield L(f.call(E)))}finally{if(d)throw d.error}}p=!0}catch(S){if(el(S))return yield L(void 0);throw S}finally{p||n.abort()}})}return new wn(l,n,o)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],n=[],o=this.iterator(),r=i=>({next:()=>{if(i.length===0){const l=o.next();e.push(l),n.push(l)}return i.shift()}});return[new wn(()=>r(e),this.controller,this.client),new wn(()=>r(n),this.controller,this.client)]}toReadableStream(){const e=this;let n;return em({async start(){n=e[Symbol.asyncIterator]()},async pull(o){try{const{value:r,done:i}=await n.next();if(i)return o.close();const l=aa(JSON.stringify(r)+`
`);o.enqueue(l)}catch(r){o.error(r)}},async cancel(){var o;await((o=n.return)===null||o===void 0?void 0:o.call(n))}})}}function fS(t,e){return je(this,arguments,function*(){var o,r,i,l;if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Je("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Je("Attempted to iterate over a response with no body");const u=new mS,c=new Si,d=tm(t.body);try{for(var f=!0,m=et(pS(d)),p;p=yield L(m.next()),o=p.done,!o;f=!0){l=p.value,f=!1;const h=l;for(const E of c.decode(h)){const _=u.decode(E);_&&(yield yield L(_))}}}catch(h){r={error:h}}finally{try{!f&&!o&&(i=m.return)&&(yield L(i.call(m)))}finally{if(r)throw r.error}}for(const h of c.flush()){const E=u.decode(h);E&&(yield yield L(E))}})}function pS(t){return je(this,arguments,function*(){var n,o,r,i;let l=new Uint8Array;try{for(var u=!0,c=et(t),d;d=yield L(c.next()),n=d.done,!n;u=!0){i=d.value,u=!1;const f=i;if(f==null)continue;const m=f instanceof ArrayBuffer?new Uint8Array(f):typeof f=="string"?aa(f):f;let p=new Uint8Array(l.length+m.length);p.set(l),p.set(m,l.length),l=p;let h;for(;(h=cS(l))!==-1;)yield yield L(l.slice(0,h)),l=l.slice(h)}}catch(f){o={error:f}}finally{try{!u&&!n&&(r=c.return)&&(yield L(r.call(c)))}finally{if(o)throw o.error}}l.length>0&&(yield yield L(l))})}class mS{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const i={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],i}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,o,r]=hS(e,":");return r.startsWith(" ")&&(r=r.substring(1)),n==="event"?this.event=r:n==="data"&&this.data.push(r),null}}function hS(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function gS(t,e){const{response:n,requestLogID:o,retryOfRequestLogID:r,startTime:i}=e,l=await(async()=>{var u;if(e.options.stream)return Te(t).debug("response",n.status,n.url,n.headers,n.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(n,e.controller,t):wn.fromSSEResponse(n,e.controller,t);if(n.status===204)return null;if(e.options.__binaryResponse)return n;const c=n.headers.get("content-type"),d=(u=c==null?void 0:c.split(";")[0])===null||u===void 0?void 0:u.trim();return(d==null?void 0:d.includes("application/json"))||(d==null?void 0:d.endsWith("+json"))?await n.json():await n.text()})();return Te(t).debug(`[${o}] response parsed`,bt({retryOfRequestLogID:r,url:n.url,status:n.status,body:l,durationMs:Date.now()-i})),l}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ua extends Promise{constructor(e,n,o=gS){super(r=>{r(null)}),this.responsePromise=n,this.parseResponse=o,this.client=e}_thenUnwrap(e){return new ua(this.client,this.responsePromise,async(n,o)=>e(await this.parseResponse(n,o),o))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const am=Symbol("brand.privateNullableHeaders");function*vS(t){if(!t)return;if(am in t){const{values:o,nulls:r}=t;yield*o.entries();for(const i of r)yield[i,null];return}let e=!1,n;t instanceof Headers?n=t.entries():zc(t)?n=t:(e=!0,n=Object.entries(t??{}));for(let o of n){const r=o[0];if(typeof r!="string")throw new TypeError("expected header name to be a string");const i=zc(o[1])?o[1]:[o[1]];let l=!1;for(const u of i)u!==void 0&&(e&&!l&&(l=!0,yield[r,null]),yield[r,u])}}const no=t=>{const e=new Headers,n=new Set;for(const o of t){const r=new Set;for(const[i,l]of vS(o)){const u=i.toLowerCase();r.has(u)||(e.delete(i),r.add(u)),l===null?(e.delete(i),n.add(u)):(e.append(i,l),n.delete(u))}}return{[am]:!0,values:e,nulls:n}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Zi=t=>{var e,n,o,r,i,l;if(typeof globalThis.process<"u")return(o=(n=(e=zg)===null||e===void 0?void 0:e[t])===null||n===void 0?void 0:n.trim())!==null&&o!==void 0?o:void 0;if(typeof globalThis.Deno<"u")return(l=(i=(r=globalThis.Deno.env)===null||r===void 0?void 0:r.get)===null||i===void 0?void 0:i.call(r,t))===null||l===void 0?void 0:l.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var um;class Ci{constructor(e){var n,o,r,i,l,u,c,{baseURL:d=Zi("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:f=(n=Zi("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:m="v1beta"}=e,p=Zr(e,["baseURL","apiKey","apiVersion"]);const h=Object.assign(Object.assign({apiKey:f,apiVersion:m},p),{baseURL:d||"https://generativelanguage.googleapis.com"});this.baseURL=h.baseURL,this.timeout=(o=h.timeout)!==null&&o!==void 0?o:Ci.DEFAULT_TIMEOUT,this.logger=(r=h.logger)!==null&&r!==void 0?r:console;const E="warn";this.logLevel=E,this.logLevel=(l=(i=Yc(h.logLevel,"ClientOptions.logLevel",this))!==null&&i!==void 0?i:Yc(Zi("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&l!==void 0?l:E,this.fetchOptions=h.fetchOptions,this.maxRetries=(u=h.maxRetries)!==null&&u!==void 0?u:2,this.fetch=(c=h.fetch)!==null&&c!==void 0?c:XT(),this.encoder=eS,this._options=h,this.apiKey=f,this.apiVersion=m,this.clientAdapter=h.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:n}){if(!(e.has("authorization")||e.has("x-goog-api-key"))&&!(this.apiKey&&e.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const n=no([e.headers]);if(!(n.values.has("authorization")||n.values.has("x-goog-api-key"))){if(this.apiKey)return no([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return no([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(e){return Object.entries(e).filter(([n,o])=>typeof o<"u").map(([n,o])=>{if(typeof o=="string"||typeof o=="number"||typeof o=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(o)}`;if(o===null)return`${encodeURIComponent(n)}=`;throw new Je(`Cannot stringify type ${typeof o}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${dn}`}defaultIdempotencyKey(){return`stainless-node-retry-${VT()}`}makeStatusError(e,n,o,r){return Ie.generate(e,n,o,r)}buildURL(e,n,o){const r=!this.baseURLOverridden()&&o||this.baseURL,i=HT(e)?new URL(e):new URL(r+(r.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),l=this.defaultQuery();return qT(l)||(n=Object.assign(Object.assign({},l),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(i.search=this.stringifyQuery(n)),i.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const n=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${n}`}}async prepareRequest(e,{url:n,options:o}){}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,o){return this.request(Promise.resolve(o).then(r=>Object.assign({method:e,path:n},r)))}request(e,n=null){return new ua(this,this.makeRequest(e,n,void 0))}async makeRequest(e,n,o){var r,i,l;const u=await e,c=(r=u.maxRetries)!==null&&r!==void 0?r:this.maxRetries;n==null&&(n=c),await this.prepareOptions(u);const{req:d,url:f,timeout:m}=await this.buildRequest(u,{retryCount:c-n});await this.prepareRequest(d,{url:f,options:u});const p="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),h=o===void 0?"":`, retryOf: ${o}`,E=Date.now();if(Te(this).debug(`[${p}] sending request`,bt({retryOfRequestLogID:o,method:u.method,url:f,options:u,headers:d.headers})),!((i=u.signal)===null||i===void 0)&&i.aborted)throw new nl;const _=new AbortController,S=await this.fetchWithTimeout(f,d,m,_).catch(tl),v=Date.now();if(S instanceof globalThis.Error){const y=`retrying, ${n} attempts remaining`;if(!((l=u.signal)===null||l===void 0)&&l.aborted)throw new nl;const T=el(S)||/timed? ?out/i.test(String(S)+("cause"in S?String(S.cause):""));if(n)return Te(this).info(`[${p}] connection ${T?"timed out":"failed"} - ${y}`),Te(this).debug(`[${p}] connection ${T?"timed out":"failed"} (${y})`,bt({retryOfRequestLogID:o,url:f,durationMs:v-E,message:S.message})),this.retryRequest(u,n,o??p);throw Te(this).info(`[${p}] connection ${T?"timed out":"failed"} - error; no more retries left`),Te(this).debug(`[${p}] connection ${T?"timed out":"failed"} (error; no more retries left)`,bt({retryOfRequestLogID:o,url:f,durationMs:v-E,message:S.message})),T?new Jp:new Ti({cause:S})}const g=`[${p}${h}] ${d.method} ${f} ${S.ok?"succeeded":"failed"} with status ${S.status} in ${v-E}ms`;if(!S.ok){const y=await this.shouldRetry(S);if(n&&y){const P=`retrying, ${n} attempts remaining`;return await jT(S.body),Te(this).info(`${g} - ${P}`),Te(this).debug(`[${p}] response error (${P})`,bt({retryOfRequestLogID:o,url:S.url,status:S.status,headers:S.headers,durationMs:v-E})),this.retryRequest(u,n,o??p,S.headers)}const T=y?"error; no more retries left":"error; not retryable";Te(this).info(`${g} - ${T}`);const C=await S.text().catch(P=>tl(P).message),A=JT(C),w=A?void 0:C;throw Te(this).debug(`[${p}] response error (${T})`,bt({retryOfRequestLogID:o,url:S.url,status:S.status,headers:S.headers,message:w,durationMs:Date.now()-E})),this.makeStatusError(S.status,A,w,S.headers)}return Te(this).info(g),Te(this).debug(`[${p}] response start`,bt({retryOfRequestLogID:o,url:S.url,status:S.status,headers:S.headers,durationMs:v-E})),{response:S,options:u,controller:_,requestLogID:p,retryOfRequestLogID:o,startTime:E}}async fetchWithTimeout(e,n,o,r){const i=n||{},{signal:l,method:u}=i,c=Zr(i,["signal","method"]);l&&l.addEventListener("abort",()=>r.abort());const d=setTimeout(()=>r.abort(),o),f=globalThis.ReadableStream&&c.body instanceof globalThis.ReadableStream||typeof c.body=="object"&&c.body!==null&&Symbol.asyncIterator in c.body,m=Object.assign(Object.assign(Object.assign({signal:r.signal},f?{duplex:"half"}:{}),{method:"GET"}),c);u&&(m.method=u.toUpperCase());try{return await this.fetch.call(void 0,e,m)}finally{clearTimeout(d)}}async shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,o,r){var i;let l;const u=r==null?void 0:r.get("retry-after-ms");if(u){const d=parseFloat(u);Number.isNaN(d)||(l=d)}const c=r==null?void 0:r.get("retry-after");if(c&&!l){const d=parseFloat(c);Number.isNaN(d)?l=Date.parse(c)-Date.now():l=d*1e3}if(!(l&&0<=l&&l<60*1e3)){const d=(i=e.maxRetries)!==null&&i!==void 0?i:this.maxRetries;l=this.calculateDefaultRetryTimeoutMillis(n,d)}return await WT(l),this.makeRequest(e,n-1,o)}calculateDefaultRetryTimeoutMillis(e,n){const i=n-e,l=Math.min(.5*Math.pow(2,i),8),u=1-Math.random()*.25;return l*u*1e3}async buildRequest(e,{retryCount:n=0}={}){var o,r,i;const l=Object.assign({},e),{method:u,path:c,query:d,defaultBaseURL:f}=l,m=this.buildURL(c,d,f);"timeout"in l&&$T("timeout",l.timeout),l.timeout=(o=l.timeout)!==null&&o!==void 0?o:this.timeout;const{bodyHeaders:p,body:h}=this.buildBody({options:l}),E=await this.buildHeaders({options:e,method:u,bodyHeaders:p,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:u,headers:E},l.signal&&{signal:l.signal}),globalThis.ReadableStream&&h instanceof globalThis.ReadableStream&&{duplex:"half"}),h&&{body:h}),(r=this.fetchOptions)!==null&&r!==void 0?r:{}),(i=l.fetchOptions)!==null&&i!==void 0?i:{}),url:m,timeout:l.timeout}}async buildHeaders({options:e,method:n,bodyHeaders:o,retryCount:r}){let i={};this.idempotencyHeader&&n!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),i[this.idempotencyHeader]=e.idempotencyKey);const l=await this.authHeaders(e);let u=no([i,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(r)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),QT()),this._options.defaultHeaders,o,e.headers,l]);return this.validateHeaders(u),u.values}buildBody({options:{body:e,headers:n}}){if(!e)return{bodyHeaders:void 0,body:void 0};const o=no([n]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&o.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:ZT(e)}:this.encoder({body:e,headers:o})}}Ci.DEFAULT_TIMEOUT=6e4;class fe extends Ci{constructor(){super(...arguments),this.interactions=new lm(this)}}um=fe;fe.GeminiNextGenAPIClient=um;fe.GeminiNextGenAPIClientError=Je;fe.APIError=Ie;fe.APIConnectionError=Ti;fe.APIConnectionTimeoutError=Jp;fe.APIUserAbortError=nl;fe.NotFoundError=bp;fe.ConflictError=Qp;fe.RateLimitError=Zp;fe.BadRequestError=Wp;fe.AuthenticationError=Kp;fe.InternalServerError=jp;fe.PermissionDeniedError=Yp;fe.UnprocessableEntityError=Xp;fe.toFile=iS;fe.Interactions=lm;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function yS(t,e){const n={},o=s(t,["name"]);return o!=null&&a(n,["_url","name"],o),n}function ES(t,e){const n={},o=s(t,["name"]);return o!=null&&a(n,["_url","name"],o),n}function _S(t,e){const n={},o=s(t,["sdkHttpResponse"]);return o!=null&&a(n,["sdkHttpResponse"],o),n}function TS(t,e){const n={},o=s(t,["sdkHttpResponse"]);return o!=null&&a(n,["sdkHttpResponse"],o),n}function SS(t,e,n){const o={};if(s(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=s(t,["tunedModelDisplayName"]);if(e!==void 0&&r!=null&&a(e,["displayName"],r),s(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const i=s(t,["epochCount"]);e!==void 0&&i!=null&&a(e,["tuningTask","hyperparameters","epochCount"],i);const l=s(t,["learningRateMultiplier"]);if(l!=null&&a(o,["tuningTask","hyperparameters","learningRateMultiplier"],l),s(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(s(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(s(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const u=s(t,["batchSize"]);e!==void 0&&u!=null&&a(e,["tuningTask","hyperparameters","batchSize"],u);const c=s(t,["learningRate"]);if(e!==void 0&&c!=null&&a(e,["tuningTask","hyperparameters","learningRate"],c),s(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(s(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return o}function CS(t,e,n){const o={};let r=s(n,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const h=s(t,["validationDataset"]);e!==void 0&&h!=null&&a(e,["supervisedTuningSpec"],Qc(h))}else if(r==="PREFERENCE_TUNING"){const h=s(t,["validationDataset"]);e!==void 0&&h!=null&&a(e,["preferenceOptimizationSpec"],Qc(h))}const i=s(t,["tunedModelDisplayName"]);e!==void 0&&i!=null&&a(e,["tunedModelDisplayName"],i);const l=s(t,["description"]);e!==void 0&&l!=null&&a(e,["description"],l);let u=s(n,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const h=s(t,["epochCount"]);e!==void 0&&h!=null&&a(e,["supervisedTuningSpec","hyperParameters","epochCount"],h)}else if(u==="PREFERENCE_TUNING"){const h=s(t,["epochCount"]);e!==void 0&&h!=null&&a(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],h)}let c=s(n,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const h=s(t,["learningRateMultiplier"]);e!==void 0&&h!=null&&a(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],h)}else if(c==="PREFERENCE_TUNING"){const h=s(t,["learningRateMultiplier"]);e!==void 0&&h!=null&&a(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],h)}let d=s(n,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const h=s(t,["exportLastCheckpointOnly"]);e!==void 0&&h!=null&&a(e,["supervisedTuningSpec","exportLastCheckpointOnly"],h)}else if(d==="PREFERENCE_TUNING"){const h=s(t,["exportLastCheckpointOnly"]);e!==void 0&&h!=null&&a(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],h)}let f=s(n,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const h=s(t,["adapterSize"]);e!==void 0&&h!=null&&a(e,["supervisedTuningSpec","hyperParameters","adapterSize"],h)}else if(f==="PREFERENCE_TUNING"){const h=s(t,["adapterSize"]);e!==void 0&&h!=null&&a(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],h)}if(s(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(s(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const m=s(t,["labels"]);e!==void 0&&m!=null&&a(e,["labels"],m);const p=s(t,["beta"]);return e!==void 0&&p!=null&&a(e,["preferenceOptimizationSpec","hyperParameters","beta"],p),o}function IS(t,e){const n={},o=s(t,["baseModel"]);o!=null&&a(n,["baseModel"],o);const r=s(t,["preTunedModel"]);r!=null&&a(n,["preTunedModel"],r);const i=s(t,["trainingDataset"]);i!=null&&US(i);const l=s(t,["config"]);return l!=null&&SS(l,n),n}function wS(t,e){const n={},o=s(t,["baseModel"]);o!=null&&a(n,["baseModel"],o);const r=s(t,["preTunedModel"]);r!=null&&a(n,["preTunedModel"],r);const i=s(t,["trainingDataset"]);i!=null&&FS(i,n,e);const l=s(t,["config"]);return l!=null&&CS(l,n,e),n}function AS(t,e){const n={},o=s(t,["name"]);return o!=null&&a(n,["_url","name"],o),n}function RS(t,e){const n={},o=s(t,["name"]);return o!=null&&a(n,["_url","name"],o),n}function NS(t,e,n){const o={},r=s(t,["pageSize"]);e!==void 0&&r!=null&&a(e,["_query","pageSize"],r);const i=s(t,["pageToken"]);e!==void 0&&i!=null&&a(e,["_query","pageToken"],i);const l=s(t,["filter"]);return e!==void 0&&l!=null&&a(e,["_query","filter"],l),o}function xS(t,e,n){const o={},r=s(t,["pageSize"]);e!==void 0&&r!=null&&a(e,["_query","pageSize"],r);const i=s(t,["pageToken"]);e!==void 0&&i!=null&&a(e,["_query","pageToken"],i);const l=s(t,["filter"]);return e!==void 0&&l!=null&&a(e,["_query","filter"],l),o}function PS(t,e){const n={},o=s(t,["config"]);return o!=null&&NS(o,n),n}function kS(t,e){const n={},o=s(t,["config"]);return o!=null&&xS(o,n),n}function MS(t,e){const n={},o=s(t,["sdkHttpResponse"]);o!=null&&a(n,["sdkHttpResponse"],o);const r=s(t,["nextPageToken"]);r!=null&&a(n,["nextPageToken"],r);const i=s(t,["tunedModels"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(u=>cm(u))),a(n,["tuningJobs"],l)}return n}function DS(t,e){const n={},o=s(t,["sdkHttpResponse"]);o!=null&&a(n,["sdkHttpResponse"],o);const r=s(t,["nextPageToken"]);r!=null&&a(n,["nextPageToken"],r);const i=s(t,["tuningJobs"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(u=>il(u))),a(n,["tuningJobs"],l)}return n}function LS(t,e){const n={},o=s(t,["name"]);o!=null&&a(n,["model"],o);const r=s(t,["name"]);return r!=null&&a(n,["endpoint"],r),n}function US(t,e){const n={};if(s(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(s(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const o=s(t,["examples"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(i=>i)),a(n,["examples","examples"],r)}return n}function FS(t,e,n){const o={};let r=s(n,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const l=s(t,["gcsUri"]);e!==void 0&&l!=null&&a(e,["supervisedTuningSpec","trainingDatasetUri"],l)}else if(r==="PREFERENCE_TUNING"){const l=s(t,["gcsUri"]);e!==void 0&&l!=null&&a(e,["preferenceOptimizationSpec","trainingDatasetUri"],l)}let i=s(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const l=s(t,["vertexDatasetResource"]);e!==void 0&&l!=null&&a(e,["supervisedTuningSpec","trainingDatasetUri"],l)}else if(i==="PREFERENCE_TUNING"){const l=s(t,["vertexDatasetResource"]);e!==void 0&&l!=null&&a(e,["preferenceOptimizationSpec","trainingDatasetUri"],l)}if(s(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return o}function cm(t,e){const n={},o=s(t,["sdkHttpResponse"]);o!=null&&a(n,["sdkHttpResponse"],o);const r=s(t,["name"]);r!=null&&a(n,["name"],r);const i=s(t,["state"]);i!=null&&a(n,["state"],Ap(i));const l=s(t,["createTime"]);l!=null&&a(n,["createTime"],l);const u=s(t,["tuningTask","startTime"]);u!=null&&a(n,["startTime"],u);const c=s(t,["tuningTask","completeTime"]);c!=null&&a(n,["endTime"],c);const d=s(t,["updateTime"]);d!=null&&a(n,["updateTime"],d);const f=s(t,["description"]);f!=null&&a(n,["description"],f);const m=s(t,["baseModel"]);m!=null&&a(n,["baseModel"],m);const p=s(t,["_self"]);return p!=null&&a(n,["tunedModel"],LS(p)),n}function il(t,e){const n={},o=s(t,["sdkHttpResponse"]);o!=null&&a(n,["sdkHttpResponse"],o);const r=s(t,["name"]);r!=null&&a(n,["name"],r);const i=s(t,["state"]);i!=null&&a(n,["state"],Ap(i));const l=s(t,["createTime"]);l!=null&&a(n,["createTime"],l);const u=s(t,["startTime"]);u!=null&&a(n,["startTime"],u);const c=s(t,["endTime"]);c!=null&&a(n,["endTime"],c);const d=s(t,["updateTime"]);d!=null&&a(n,["updateTime"],d);const f=s(t,["error"]);f!=null&&a(n,["error"],f);const m=s(t,["description"]);m!=null&&a(n,["description"],m);const p=s(t,["baseModel"]);p!=null&&a(n,["baseModel"],p);const h=s(t,["tunedModel"]);h!=null&&a(n,["tunedModel"],h);const E=s(t,["preTunedModel"]);E!=null&&a(n,["preTunedModel"],E);const _=s(t,["supervisedTuningSpec"]);_!=null&&a(n,["supervisedTuningSpec"],_);const S=s(t,["preferenceOptimizationSpec"]);S!=null&&a(n,["preferenceOptimizationSpec"],S);const v=s(t,["tuningDataStats"]);v!=null&&a(n,["tuningDataStats"],v);const g=s(t,["encryptionSpec"]);g!=null&&a(n,["encryptionSpec"],g);const y=s(t,["partnerModelTuningSpec"]);y!=null&&a(n,["partnerModelTuningSpec"],y);const T=s(t,["customBaseModel"]);T!=null&&a(n,["customBaseModel"],T);const C=s(t,["experiment"]);C!=null&&a(n,["experiment"],C);const A=s(t,["labels"]);A!=null&&a(n,["labels"],A);const w=s(t,["outputUri"]);w!=null&&a(n,["outputUri"],w);const R=s(t,["pipelineJob"]);R!=null&&a(n,["pipelineJob"],R);const P=s(t,["serviceAccount"]);P!=null&&a(n,["serviceAccount"],P);const x=s(t,["tunedModelDisplayName"]);x!=null&&a(n,["tunedModelDisplayName"],x);const H=s(t,["veoTuningSpec"]);return H!=null&&a(n,["veoTuningSpec"],H),n}function VS(t,e){const n={},o=s(t,["sdkHttpResponse"]);o!=null&&a(n,["sdkHttpResponse"],o);const r=s(t,["name"]);r!=null&&a(n,["name"],r);const i=s(t,["metadata"]);i!=null&&a(n,["metadata"],i);const l=s(t,["done"]);l!=null&&a(n,["done"],l);const u=s(t,["error"]);return u!=null&&a(n,["error"],u),n}function Qc(t,e){const n={},o=s(t,["gcsUri"]);o!=null&&a(n,["validationDatasetUri"],o);const r=s(t,["vertexDatasetResource"]);return r!=null&&a(n,["validationDatasetUri"],r),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class GS extends Tt{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new un(Et.PAGED_ITEM_TUNING_JOBS,o=>this.listInternal(o),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var o;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const r={tunedModelName:n.baseModel};!((o=n.config)===null||o===void 0)&&o.preTunedModelCheckpointId&&(r.checkpointId=n.config.preTunedModelCheckpointId);const i=Object.assign(Object.assign({},n),{preTunedModel:r});return i.baseModel=void 0,await this.tuneInternal(i)}else{const r=Object.assign({},n);return await this.tuneInternal(r)}else{const r=Object.assign({},n),i=await this.tuneMldevInternal(r);let l="";return i.metadata!==void 0&&i.metadata.tunedModel!==void 0?l=i.metadata.tunedModel:i.name!==void 0&&i.name.includes("/operations/")&&(l=i.name.split("/operations/")[0]),{name:l,state:Ks.JOB_STATE_QUEUED}}}}async getInternal(e){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=RS(e);return u=k("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>il(f))}else{const d=AS(e);return u=k("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>cm(f))}}async listInternal(e){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=kS(e);return u=k("tuningJobs",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const m=DS(f),p=new Sc;return Object.assign(p,m),p})}else{const d=PS(e);return u=k("tunedModels",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const m=MS(f),p=new Sc;return Object.assign(p,m),p})}}async cancel(e){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=ES(e);return u=k("{name}:cancel",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const m=TS(f),p=new Cc;return Object.assign(p,m),p})}else{const d=yS(e);return u=k("{name}:cancel",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const m=_S(f),p=new Cc;return Object.assign(p,m),p})}}async tuneInternal(e){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI()){const u=wS(e,e);return i=k("tuningJobs",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),r.then(c=>il(c))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=IS(e);return i=k("tunedModels",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),r.then(c=>VS(c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class HS{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const BS=1024*1024*8,OS=3,qS=1e3,zS=2,ei="x-goog-upload-status";async function $S(t,e,n){var o;const r=await dm(t,e,n),i=await(r==null?void 0:r.json());if(((o=r==null?void 0:r.headers)===null||o===void 0?void 0:o[ei])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return i.file}async function JS(t,e,n){var o;const r=await dm(t,e,n),i=await(r==null?void 0:r.json());if(((o=r==null?void 0:r.headers)===null||o===void 0?void 0:o[ei])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const l=_p(i),u=new na;return Object.assign(u,l),u}async function dm(t,e,n){var o,r;let i=0,l=0,u=new Ys(new Response),c="upload";for(i=t.size;l<i;){const d=Math.min(BS,i-l),f=t.slice(l,l+d);l+d>=i&&(c+=", finalize");let m=0,p=qS;for(;m<OS&&(u=await n.request({path:"",body:f,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":c,"X-Goog-Upload-Offset":String(l),"Content-Length":String(d)}}}),!(!((o=u==null?void 0:u.headers)===null||o===void 0)&&o[ei]));)m++,await KS(p),p=p*zS;if(l+=d,((r=u==null?void 0:u.headers)===null||r===void 0?void 0:r[ei])!=="active")break;if(i<=l)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return u}async function WS(t){return{size:t.size,type:t.type}}function KS(t){return new Promise(e=>setTimeout(e,t))}class YS{async upload(e,n,o){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await $S(e,n,o)}async uploadToFileSearchStore(e,n,o){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await JS(e,n,o)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await WS(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class bS{create(e,n,o){return new QS(e,n,o)}}class QS{constructor(e,n,o){this.url=e,this.headers=n,this.callbacks=o}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Xc="x-goog-api-key";class XS{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(Xc)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(Xc,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ZS="gl-node/";class jS{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const e=this.httpOptions;e!=null&&e.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const n=new fe({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e==null?void 0:e.timeout});return this._interactions=n.interactions,this._interactions}constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const o=Kg(e.httpOptions,e.vertexai,void 0,void 0);o&&(e.httpOptions?e.httpOptions.baseUrl=o:e.httpOptions={baseUrl:o}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const r=new XS(this.apiKey);this.apiClient=new W_({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:ZS+"web",uploader:new YS,downloader:new HS}),this.models=new dT(this.apiClient),this.live=new iT(this.apiClient,r,new bS),this.batches=new Sy(this.apiClient),this.chats=new o0(this.models,this.apiClient),this.caches=new e0(this.apiClient),this.files=new p0(this.apiClient),this.operations=new fT(this.apiClient),this.authTokens=new NT(this.apiClient),this.tunings=new GS(this.apiClient),this.fileSearchStores=new FT(this.apiClient)}}const pt={en:{label:"English",flag:""},bg:{label:"",flag:""},es:{label:"Espaol",flag:""},de:{label:"Deutsch",flag:""},fr:{label:"Franais",flag:""},it:{label:"Italiano",flag:""},ru:{label:"",flag:""}},Zc={en:{status_checking:"CHECKING...",status_online:"SERVERS ARE ONLINE!",status_offline:"SERVERS ARE OFFLINE",status_idle:"READY TO CHECK",status_error:"CONNECTION ERROR",check_now:"CHECK NOW",connecting:"CONNECTING...",last_check:"Last check:",next_check:"Next auto-check in:",min:"min.",donate:"DONATE",premium_title:"PREMIUM FEATURE",premium_desc:"Manual checking is restricted. Pay $5 via Revolut, receive a code, and enter it below.",unlock_fee:"PAY $5 VIA REVOLUT",enter_code:"ENTER CODE (Try: FN-VIP)",verify_btn:"VERIFY CODE",invalid_code:"Invalid code. Please try again.",code_success:"Code accepted! Premium unlocked.",cancel:"CLOSE",victory:"VICTORY ROYALE! PLAYABLE NOW!",fallback_message:"Cannot retrieve info.",waiting:"Waiting...",inference_online:"Looks like everything is operational! (AI Inference)",inference_offline:"Issues or maintenance detected.",error_gemini:"AI Connection Error.",error_restricted:"Access Denied: API Key restricts this website.",logo_subtitle:`STATUS
CHECK`,welcome_title:"WELCOME, LOOPER!",welcome_desc:"This monitor automatically checks Fortnite servers every 15 minutes. Keep this tab OPEN! The screen will turn GREEN and play a sound the moment servers are back online.",welcome_btn:"LET'S GO",official_label:"OFFICIAL STATUS",rumor_label:"LATEST COMMUNITY INTEL (LAST 60 MIN)",news_title:"LATEST FORTNITE NEWS"},bg:{status_checking:" ...",status_online:"  !",status_offline:"  ",status_idle:"  ",status_error:"  ",check_now:" ",connecting:"...",last_check:" :",next_check:" -:",min:".",donate:"",premium_title:" ",premium_desc:"   .  $5  Revolut,   ,    .",unlock_fee:" $5  REVOLUT",enter_code:"  (. FN-VIP)",verify_btn:" ",invalid_code:" .  .",code_success:"  !  .",cancel:"",victory:"VICTORY ROYALE!    !",fallback_message:"    .",waiting:"...",inference_online:",   ! (AI Inference)",inference_offline:"    .",error_gemini:"    AI .",error_restricted:" : API    .",logo_subtitle:`
`,welcome_title:" , !",welcome_desc:"     Fortnite    15 .   !             .",welcome_btn:"",official_label:" ",rumor_label:"  (  )",news_title:"   24 "},es:{status_checking:"COMPROBANDO...",status_online:"SERVIDORES ONLINE!",status_offline:"SERVIDORES OFFLINE",status_idle:"LISTO PARA COMPROBAR",status_error:"ERROR DE CONEXIN",check_now:"COMPROBAR AHORA",connecting:"CONECTANDO...",last_check:"ltima comprobacin:",next_check:"Siguiente auto-check:",min:"min.",donate:"DONAR",premium_title:"FUNCIN PREMIUM",premium_desc:"El chequeo manual est restringido. Paga $5 va Revolut, recibe un cdigo e ingrsalo aqu.",unlock_fee:"PAGAR $5 VA REVOLUT",enter_code:"INTRODUCIR CDIGO (ej. FN-VIP)",verify_btn:"VERIFICAR CDIGO",invalid_code:"Cdigo invlido. Intntalo de nuevo.",code_success:"Cdigo aceptado! Premium desbloqueado.",cancel:"CERRAR",victory:"VICTORY ROYALE! JUGABLE!",fallback_message:"No se puede obtener info.",waiting:"Esperando...",inference_online:"Parece que todo funciona!",inference_offline:"Problemas detectados.",error_gemini:"Error de conexin AI.",error_restricted:"Acceso denegado: Clave API restringida.",logo_subtitle:`ESTADO
SERVER`,welcome_title:"BIENVENIDO!",welcome_desc:"Este monitor verifica los servidores de Fortnite cada 15 minutos. Mantn esta pestaa ABIERTA! La pantalla se pondr VERDE y sonar cuando los servidores estn online.",welcome_btn:"VAMOS",official_label:"ESTADO OFICIAL",rumor_label:"RUMORES RECIENTES (< 60 MIN)",news_title:"LTIMAS NOTICIAS"},de:{status_checking:"PRFUNG...",status_online:"SERVER SIND ONLINE!",status_offline:"SERVER SIND OFFLINE",status_idle:"BEREIT ZUR PRFUNG",status_error:"VERBINDUNGSFEHLER",check_now:"JETZT PRFEN",connecting:"VERBINDEN...",last_check:"Letzte Prfung:",next_check:"Nchster Auto-Check:",min:"Min.",donate:"SPENDEN",premium_title:"PREMIUM-FUNKTION",premium_desc:"Manuelle Prfung eingeschrnkt. Zahlen Sie $5 ber Revolut, erhalten Sie einen Code und geben Sie ihn hier ein.",unlock_fee:"$5 BER REVOLUT ZAHLEN",enter_code:"CODE EINGEBEN (z.B. FN-VIP)",verify_btn:"CODE BERPRFEN",invalid_code:"Ungltiger Code. Bitte erneut versuchen.",code_success:"Code akzeptiert! Premium freigeschaltet.",cancel:"SCHLIESSEN",victory:"VICTORY ROYALE! SPIELBAR!",fallback_message:"Keine Info verfgbar.",waiting:"Warten...",inference_online:"Alles scheint zu funktionieren!",inference_offline:"Probleme erkannt.",error_gemini:"KI-Verbindungsfehler.",error_restricted:"Zugriff verweigert: API-Key blockiert diese Seite.",logo_subtitle:`STATUS
CHECK`,welcome_title:"WILLKOMMEN, GAMER!",welcome_desc:"Dieser Monitor prft die Fortnite-Server alle 15 Minuten automatisch. Lass diesen Tab OFFEN! Der Bildschirm wird GRN und ein Ton erklingt, sobald die Server online sind.",welcome_btn:"LOS GEHT'S",official_label:"OFFIZIELLER STATUS",rumor_label:"NEUESTE GERCHTE (< 60 MIN)",news_title:"AKTUELLE NACHRICHTEN"},fr:{status_checking:"VRIFICATION...",status_online:"SERVEURS EN LIGNE!",status_offline:"SERVEURS HORS LIGNE",status_idle:"PRT  VRIFIER",status_error:"ERREUR DE CONNEXION",check_now:"VRIFIER MAINTENANT",connecting:"CONNEXION...",last_check:"Dernire vrif.:",next_check:"Prochaine auto-vrif:",min:"min.",donate:"FAIRE UN DON",premium_title:"FONCTION PREMIUM",premium_desc:"Vrification manuelle restreinte. Payez 5$ via Revolut, recevez un code et entrez-le ici.",unlock_fee:"PAYER 5$ VIA REVOLUT",enter_code:"ENTRER LE CODE (ex. FN-VIP)",verify_btn:"VRIFIER LE CODE",invalid_code:"Code invalide. Veuillez ressayer.",code_success:"Code accept ! Premium dbloqu.",cancel:"FERMER",victory:"VICTOIRE ROYALE! JOUABLE!",fallback_message:"Info indisponible.",waiting:"En attente...",inference_online:"Tout semble fonctionner!",inference_offline:"Problmes dtects.",error_gemini:"Erreur IA.",error_restricted:"Accs refus: Cl API restreinte.",logo_subtitle:`TAT
SERVER`,welcome_title:"BIENVENUE !",welcome_desc:"Ce moniteur vrifie les serveurs Fortnite toutes les 15 minutes. Gardez cet onglet OUVERT ! L'cran deviendra VERT et une alarme sonnera ds que les serveurs seront en ligne.",welcome_btn:"C'EST PARTI",official_label:"STATUT OFFICIEL",rumor_label:"RUMEURS RCENTES (< 60 MIN)",news_title:"DERNIRES NOUVELLES"},it:{status_checking:"CONTROLLO...",status_online:"SERVER ONLINE!",status_offline:"SERVER OFFLINE",status_idle:"PRONTO AL CONTROLLO",status_error:"ERRORE CONNESSIONE",check_now:"CONTROLLA ORA",connecting:"CONNESSIONE...",last_check:"Ultimo controllo:",next_check:"Prox auto-check:",min:"min.",donate:"DONAZIONE",premium_title:"FUNZIONE PREMIUM",premium_desc:"Controllo manuale limitato. Paga $5 via Revolut, ricevi un codice e inseriscilo qui.",unlock_fee:"PAGA $5 VIA REVOLUT",enter_code:"INSERISCI CODICE (es. FN-VIP)",verify_btn:"VERIFICA CODICE",invalid_code:"Codice non valido. Riprova.",code_success:"Codice accettato! Premium sbloccato.",cancel:"CHIUDI",victory:"VITTORIA REALE! GIOCABILE!",fallback_message:"Info non disponibile.",waiting:"In attesa...",inference_online:"Tutto sembra funzionare!",inference_offline:"Problemi rilevati.",error_gemini:"Errore AI.",error_restricted:"Accesso negato: Chiave API limitata.",logo_subtitle:`STATO
SERVER`,welcome_title:"BENVENUTO, LOOPER!",welcome_desc:"Questo monitor controlla i server di Fortnite ogni 15 minuti. Tieni questa scheda APERTA! Lo schermo diventer VERDE e suoner appena i server saranno online.",welcome_btn:"ANDIAMO",official_label:"STATO UFFICIALE",rumor_label:"VOCI RECENTI (< 60 MIN)",news_title:"ULTIME NOTIZIE"},ru:{status_checking:"...",status_online:" !",status_offline:" ",status_idle:"  ",status_error:" ",check_now:" ",connecting:"...",last_check:" :",next_check:". -:",min:".",donate:"",premium_title:" ",premium_desc:"  .  $5  Revolut,      .",unlock_fee:" $5  REVOLUT",enter_code:"  (. FN-VIP)",verify_btn:" ",invalid_code:" .  .",code_success:" !  .",cancel:"",victory:" !  !",fallback_message:" .",waiting:"...",inference_online:",  !",inference_offline:" .",error_gemini:" .",error_restricted:" : API    .",logo_subtitle:`
`,welcome_title:" !",welcome_desc:"    Fortnite  15 .   !   ,   ,    .",welcome_btn:"",official_label:" ",rumor_label:"  (< 60 )",news_title:" (24 )"}},ct=t=>Zc[t]||Zc.en,eC="AIzaSyB6o7fy",tC="OaWuNNtAJM",nC="NbDzBctqyU",oC="s1dcd_s",rC=eC+tC+nC+oC,iC=new jS({apiKey:rC}),sC="https://corsproxy.io/?https://status.epicgames.com/api/v2/status.json",lC=async()=>{var l,u,c,d,f;const t=Intl.DateTimeFormat().resolvedOptions().timeZone,n=new Date().toLocaleString("en-US",{timeZone:t,hour:"2-digit",minute:"2-digit",hour12:!1}),o={};Object.keys(pt).forEach(m=>{o[m]=ct(m).fallback_message});let r=null,i=!1;try{const m=await fetch(sC);if(m.ok){const p=await m.json();r=p,i=((l=p.status)==null?void 0:l.indicator)==="none"}}catch(m){console.warn("Failed to fetch direct Epic API",m)}try{const m=`You are a strict server status reporter for Fortnite.
    
    CONTEXT:
    - User Timezone: ${t}
    - Current User Time: ${n}
    - **OFFICIAL API DATA**: ${r?JSON.stringify(r):"Not available (Search manually)"}
    
    CRITICAL INSTRUCTION - SOURCE OF TRUTH:
    1. Trust the OFFICIAL API DATA for the online/offline status.
    2. Use Google Search to find current rumors or trending Fortnite news.

    NEWS EXTRACTION RULES:
    - Find the top 3 most relevant Fortnite news from the last 24-48 hours.
    - **IMAGES**: For each news item, you MUST try to find a DIRECT IMAGE URL (ending in .jpg, .png, .webp). If you find a generic article URL, look for the thumbnail image.
    - If you cannot find a clear image URL, leave the "imageUrl" field EMPTY or NULL. Do not hallucinate URLs.
    
    OUTPUT FORMAT (JSON ONLY):
    {
      "isOnline": boolean,
      "messages": { 
        "en": "Official status...",
        "bg": " ...", 
        ... (all: en, bg, es, de, fr, it, ru)
      },
      "rumorMessages": {
        "en": "Rumor text...",
        "bg": "...",
        ... (all)
      },
      "news": [
        {
          "title": { "en": "Title", "bg": "", ... },
          "summary": { "en": "Summary", "bg": "", ... },
          "url": "http://source-url.com",
          "imageUrl": "http://direct-image-link.jpg",
          "date": "MMM DD"
        }
      ]
    }
    `,p=await iC.models.generateContent({model:"gemini-2.5-flash",contents:"Report Fortnite status, recent community rumors, and top 3 latest news with valid image links.",config:{tools:[{googleSearch:{}}],systemInstruction:m}});let h=p.text||"";h=h.replace(/```json\n?/g,"").replace(/```\n?/g,"").trim();const E=[];(d=(c=(u=p.candidates)==null?void 0:u[0])==null?void 0:c.groundingMetadata)!=null&&d.groundingChunks&&p.candidates[0].groundingMetadata.groundingChunks.forEach(T=>{T.web&&E.push({uri:T.web.uri,title:T.web.title})});let _={};try{_=JSON.parse(h)}catch{return{isOnline:i,messages:o,rumorMessages:o,news:[],sources:E}}let S=!!_.isOnline;r&&(S=i);const v=_.messages||o,g=_.rumorMessages||{},y=(_.news||[]).map(T=>({...T,imageUrl:typeof T.imageUrl=="string"&&(T.imageUrl.startsWith("http")||T.imageUrl.startsWith("https"))?T.imageUrl:null}));return Object.keys(pt).forEach(T=>{v[T]||(v[T]=S?ct(T).inference_online:ct(T).inference_offline),typeof g[T]!="string"&&(g[T]="")}),{isOnline:S,messages:v,rumorMessages:g,news:y,sources:E}}catch(m){console.error("Gemini Check Error:",m);let p=!1;((f=m==null?void 0:m.message)!=null&&f.includes("API_KEY_HTTP_REFERRER_BLOCKED")||(m==null?void 0:m.status)===403)&&(p=!0);const h={};return Object.keys(pt).forEach(E=>{h[E]=p?ct(E).error_restricted:ct(E).error_gemini}),{isOnline:!1,messages:h,rumorMessages:{},news:[]}}};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var aC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uC=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),We=(t,e)=>{const n=$.forwardRef(({color:o="currentColor",size:r=24,strokeWidth:i=2,absoluteStrokeWidth:l,className:u="",children:c,...d},f)=>$.createElement("svg",{ref:f,...aC,width:r,height:r,stroke:o,strokeWidth:l?Number(i)*24/Number(r):i,className:["lucide",`lucide-${uC(t)}`,u].join(" "),...d},[...e.map(([m,p])=>$.createElement(m,p)),...Array.isArray(c)?c:[c]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cC=We("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dC=We("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fC=We("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pC=We("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fm=We("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jc=We("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pm=We("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mC=We("KeyRound",[["path",{d:"M2 18v3c0 .6.4 1 1 1h4v-3h3v-3h2l1.4-1.4a6.5 6.5 0 1 0-4-4Z",key:"167ctg"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ed=We("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const td=We("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hC=We("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nd=We("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),gC=({subtitle:t})=>I.jsxs("div",{className:"relative select-none pointer-events-none mb-8",children:[I.jsx("h1",{className:"font-burbank text-6xl md:text-9xl text-white italic tracking-tighter relative z-10 drop-shadow-[0_5px_5px_rgba(0,0,0,0.5)]",children:"FORTNITE"}),I.jsx("h1",{className:"font-burbank text-6xl md:text-9xl text-black italic tracking-tighter absolute top-1 left-1 md:top-2 md:left-2 -z-0 opacity-50",children:"FORTNITE"}),I.jsx("div",{className:"absolute -top-10 -right-10 w-24 h-24 bg-yellow-400 rotate-12 z-20 flex items-center justify-center border-4 border-black shadow-lg transform scale-75 md:scale-100",children:I.jsx("span",{className:"font-burbank text-black text-xl leading-none text-center whitespace-pre-line",children:t})})]}),od=["https://images.wallpapersden.com/image/download/fortnite-battle-royale-art_bGxtZ2mUmZqaraWkpJRmbmdlrWZnZ2U.jpg","https://wallpapercave.com/wp/wp12048598.jpg","https://cdn.oyunsoft.com/static/images/original/fortnite-chapter-5-season-2-myths-and-mortals-key-art.jpg","https://wallpapers.com/images/featured/fortnite-pictures-b5cn43fg964n9n90.jpg","https://images.wallpapersden.com/image/download/fortnite-2024-4k-gaming-art_bWlpZ2mUmZqaraWkpJRmbmdlrWZnZ2U.jpg","https://wallpaperaccess.com/full/1164478.jpg"],vC=({item:t,language:e,fallbackImage:n})=>{var u,c,d,f;const[o,r]=$.useState("loading"),i=((u=t.title)==null?void 0:u[e])||((c=t.title)==null?void 0:c.en)||"Fortnite Update",l=((d=t.summary)==null?void 0:d[e])||((f=t.summary)==null?void 0:f.en)||"New details discovered about the latest Fortnite events.";return $.useEffect(()=>{if(t.imageUrl&&o==="loading"){const m=setTimeout(()=>{o==="loading"&&r("error")},5e3);return()=>clearTimeout(m)}else t.imageUrl||r("error")},[t.imageUrl,o]),I.jsxs("div",{className:"group relative flex flex-col backdrop-blur-md bg-black/40 border border-white/10 rounded-2xl overflow-hidden hover:border-yellow-400/50 transition-all duration-300 hover:scale-[1.02] shadow-xl h-full",children:[I.jsxs("div",{className:"h-48 w-full relative overflow-hidden bg-gray-900",children:[I.jsx("img",{src:n,alt:"Fortnite Background",className:`
            absolute inset-0 w-full h-full object-cover z-0 transition-all duration-700 group-hover:scale-110
            ${o==="loaded"?"opacity-40":"opacity-100"}
          `}),t.imageUrl&&I.jsx("img",{src:t.imageUrl,alt:i,loading:"lazy",className:`
              absolute inset-0 w-full h-full object-cover transition-opacity duration-700 z-10
              ${o==="loaded"?"opacity-100":"opacity-0"}
            `,onLoad:()=>r("loaded"),onError:()=>r("error")}),I.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black via-black/30 to-transparent z-20 pointer-events-none"}),I.jsxs("div",{className:"absolute top-3 right-3 z-30 bg-black/60 backdrop-blur-sm border border-white/10 px-2 py-1 rounded text-yellow-400 text-[10px] font-bold uppercase tracking-wider flex items-center gap-1 shadow-lg",children:[I.jsx(dC,{className:"w-3 h-3"}),I.jsx("span",{children:t.date||"LATEST"})]})]}),I.jsxs("div",{className:"p-5 flex-grow flex flex-col relative z-30",children:[I.jsx("h3",{className:"font-burbank text-xl text-white mb-2 leading-tight group-hover:text-yellow-400 transition-colors drop-shadow-md line-clamp-2",children:i}),I.jsx("p",{className:"text-white/60 text-xs leading-relaxed mb-4 flex-grow line-clamp-3",children:l}),I.jsxs("a",{href:t.url,target:"_blank",rel:"noopener noreferrer",className:"mt-auto self-start flex items-center gap-2 bg-white/5 hover:bg-yellow-400 hover:text-black text-white px-3 py-2 rounded-lg text-xs font-bold transition-all border border-white/5 active:scale-95",children:[I.jsx("span",{children:"READ ARTICLE"}),I.jsx(fm,{className:"w-3 h-3"})]})]})]})},yC=({news:t,language:e})=>{const n=ct(e);return!t||t.length===0?null:I.jsxs("div",{className:"w-full max-w-6xl mt-12 mb-16 animate-fade-in",children:[I.jsxs("div",{className:"flex items-center gap-4 mb-8 px-4",children:[I.jsx("div",{className:"h-px flex-grow bg-gradient-to-r from-transparent via-white/20 to-transparent"}),I.jsx("h2",{className:"font-burbank text-3xl md:text-4xl text-white text-center drop-shadow-lg tracking-wide shrink-0",children:n.news_title}),I.jsx("div",{className:"h-px flex-grow bg-gradient-to-r from-transparent via-white/20 to-transparent"})]}),I.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 px-4",children:t.slice(0,3).map((o,r)=>{const i=od[r%od.length];return I.jsx(vC,{item:o,language:e,fallbackImage:i},r)})})]})},EC=({status:t,message:e,rumorMessage:n,news:o,sources:r,lastChecked:i,onCheckNow:l,nextCheckTime:u,language:c,onLanguageChange:d,isPremium:f,onUnlockPremium:m})=>{const[p,h]=$.useState(!1),[E,_]=$.useState(!1),[S,v]=$.useState(""),[g,y]=$.useState(!1),[T,C]=$.useState(!1),[A,w]=$.useState(!1),R=ct(c),P=()=>{switch(t){case Z.ONLINE:return"bg-gradient-to-br from-green-500 via-green-600 to-green-800";case Z.CHECKING:return"bg-gradient-to-br from-indigo-600 via-purple-700 to-indigo-900";case Z.OFFLINE:case Z.ERROR:default:return"bg-gradient-to-br from-red-600 via-red-700 to-red-900"}},x=t===Z.ONLINE,H=t===Z.CHECKING,ie=n&&n.length>5,z=()=>{f?l():(h(!0),y(!1),v(""))},U=()=>{window.open("https://revolut.me/deyvidp7g","_blank")},O=async()=>{if(S.trim()){w(!0),y(!1);try{await m(S.trim())?(C(!0),setTimeout(()=>{h(!1),C(!1),v("")},1500)):y(!0)}catch{y(!0)}finally{w(!1)}}};return I.jsxs("div",{className:"min-h-screen w-full relative",children:[I.jsxs("div",{className:`fixed inset-0 z-0 overflow-hidden transition-all duration-1000 ease-in-out ${P()}`,children:[I.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[url('https://www.transparenttextures.com/patterns/cubes.png')] opacity-20"}),I.jsx("div",{className:`absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-[150vw] h-[150vw] rounded-full border-[100px] blur-3xl transition-colors duration-1000 ${x?"border-green-300/30":"border-purple-500/30 animate-pulse"}`})]}),I.jsxs("div",{className:"fixed top-6 left-6 z-50 group",children:[I.jsx("button",{onClick:()=>_(!E),className:"w-12 h-12 rounded-full bg-black/30 backdrop-blur-md border border-white/20 hover:bg-black/50 transition-all transform hover:scale-110 flex items-center justify-center shadow-xl",children:I.jsx("span",{className:"text-2xl",role:"img","aria-label":"Current Language",children:pt[c].flag})}),E&&I.jsx("div",{className:"absolute top-14 left-0 bg-black/60 backdrop-blur-xl border border-white/10 rounded-2xl p-2 shadow-2xl flex flex-col gap-1 animate-fade-in min-w-[3.5rem] items-center",children:Object.keys(pt).map(F=>F!==c&&I.jsx("button",{onClick:()=>{d(F),_(!1)},className:"w-10 h-10 rounded-full hover:bg-white/20 transition-all flex items-center justify-center",title:pt[F].label,children:I.jsx("span",{className:"text-xl",children:pt[F].flag})},F))})]}),I.jsxs("button",{onClick:U,className:"fixed top-4 right-4 z-50 bg-yellow-400 hover:bg-yellow-300 text-black font-burbank text-lg px-4 py-2 rounded-lg shadow-lg transform hover:scale-105 transition-all flex items-center gap-2",children:[I.jsx(jc,{className:"w-5 h-5 fill-red-500 text-red-500"}),I.jsx("span",{className:"hidden md:inline",children:R.donate})]}),x&&I.jsx("div",{className:"fixed top-0 left-0 w-full bg-yellow-400 text-black font-burbank text-center py-2 z-40 animate-slide-down shadow-lg",children:R.victory}),I.jsxs("div",{className:"relative z-10 flex flex-col items-center min-h-screen py-20 px-4 md:px-8",children:[I.jsx(gC,{subtitle:R.logo_subtitle}),I.jsxs("div",{className:`
          w-full max-w-4xl backdrop-blur-md bg-black/30 border-2 border-white/20 rounded-3xl p-8 shadow-2xl transform transition-all duration-500 mb-8 flex flex-col items-center
          ${H?"scale-95 opacity-80":"scale-100 opacity-100"}
        `,children:[I.jsxs("div",{className:"flex justify-center mb-4",children:[t===Z.CHECKING&&I.jsx(td,{className:"w-20 h-20 text-yellow-400 animate-spin"}),t===Z.ONLINE&&I.jsx(fC,{className:"w-20 h-20 text-green-400 animate-bounce"}),(t===Z.OFFLINE||t===Z.ERROR||t===Z.IDLE)&&I.jsx(cC,{className:"w-20 h-20 text-red-500 animate-pulse"})]}),I.jsxs("h2",{className:"font-burbank text-5xl md:text-7xl text-white mb-6 drop-shadow-[0_4px_4px_rgba(0,0,0,0.8)] text-center tracking-wide",children:[t===Z.CHECKING&&R.status_checking,t===Z.ONLINE&&R.status_online,t===Z.OFFLINE&&R.status_offline,t===Z.IDLE&&R.status_idle,t===Z.ERROR&&R.status_error]}),I.jsxs("button",{onClick:z,disabled:H,className:`
              group relative px-8 py-3 font-burbank text-2xl text-white uppercase tracking-widest clip-path-polygon w-full max-w-sm
              transition-all duration-300 transform hover:scale-105 active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed
              ${x?"bg-yellow-500 hover:bg-yellow-400":"bg-blue-600 hover:bg-blue-500"}
              shadow-[0_0_20px_rgba(0,0,0,0.5)] flex items-center justify-center gap-3
            `,style:{clipPath:"polygon(5% 0, 100% 0, 100% 80%, 95% 100%, 0 100%, 0 20%)"},children:[!f&&I.jsx(ed,{className:"w-5 h-5 text-yellow-300"}),I.jsx("span",{className:"relative z-10 drop-shadow-md",children:H?R.connecting:R.check_now})]})]}),I.jsxs("div",{className:`w-full max-w-6xl grid grid-cols-1 gap-6 mb-8 ${ie?"md:grid-cols-2":"place-items-center"}`,children:[I.jsxs("div",{className:`
             w-full relative backdrop-blur-md bg-white/10 border border-white/20 rounded-2xl p-6 shadow-xl flex flex-col h-full
             ${ie?"":"max-w-2xl"}
          `,children:[I.jsxs("div",{className:"absolute top-0 left-0 bg-blue-600 px-3 py-1 rounded-br-xl rounded-tl-xl text-white text-xs font-bold tracking-wider shadow-lg flex items-center gap-1",children:[I.jsx(pm,{className:"w-3 h-3"}),R.official_label]}),I.jsx("div",{className:"mt-6 flex-grow flex items-center justify-center",children:I.jsx("p",{className:"text-xl text-white/90 font-bold text-center leading-relaxed",children:e})})]}),ie&&I.jsxs("div",{className:"w-full relative backdrop-blur-md bg-cyan-900/40 border border-cyan-400/30 rounded-2xl p-6 shadow-[0_0_30px_rgba(34,211,238,0.15)] flex flex-col h-full overflow-hidden",children:[I.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-5 pointer-events-none",children:I.jsx(nd,{className:"w-40 h-40 text-cyan-400"})}),I.jsxs("div",{className:"absolute top-0 left-0 bg-cyan-600 px-3 py-1 rounded-br-xl rounded-tl-xl text-black text-xs font-bold tracking-wider shadow-lg flex items-center gap-1",children:[I.jsx(nd,{className:"w-3 h-3"}),R.rumor_label]}),I.jsx("div",{className:"mt-6 flex-grow flex items-center justify-center relative z-10",children:I.jsxs("p",{className:"text-cyan-100 text-lg font-medium text-center leading-relaxed italic",children:['"',n,'"']})})]})]}),o&&o.length>0&&I.jsx(yC,{news:o,language:c}),r&&r.length>0&&I.jsx("div",{className:"mb-8 w-full max-w-4xl flex flex-wrap justify-center gap-2 text-xs",children:r.map((F,K)=>I.jsxs("a",{href:F.uri,target:"_blank",rel:"noopener noreferrer",className:"bg-black/40 hover:bg-black/60 text-white/70 hover:text-white px-3 py-1 rounded-full transition-colors flex items-center gap-1 border border-white/5",children:[I.jsx(fm,{className:"w-3 h-3"}),F.title||new URL(F.uri).hostname]},K))}),I.jsxs("div",{className:"flex flex-col items-center gap-2 text-white/60 font-medium pb-8",children:[i&&I.jsxs("div",{className:"flex items-center gap-2 bg-black/40 px-4 py-2 rounded-full border border-white/10",children:[I.jsx(pC,{className:"w-4 h-4"}),I.jsxs("span",{children:[R.last_check," ",i.toLocaleTimeString()]})]}),I.jsxs("p",{className:"text-sm text-center",children:[R.next_check," ",Math.ceil(u/60)," ",R.min]})]})]}),p&&I.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm animate-fade-in overflow-y-auto",children:I.jsxs("div",{className:"bg-gradient-to-br from-indigo-900 to-purple-900 border-2 border-yellow-400 rounded-2xl p-8 max-w-md w-full text-center relative shadow-[0_0_50px_rgba(250,204,21,0.3)] my-auto",children:[I.jsx("button",{onClick:()=>h(!1),className:"absolute top-2 right-2 text-white/50 hover:text-white",children:I.jsx(hC,{className:"w-6 h-6"})}),I.jsx(ed,{className:"w-16 h-16 text-yellow-400 mx-auto mb-4"}),I.jsx("h3",{className:"font-burbank text-3xl text-white mb-2",children:R.premium_title}),I.jsx("p",{className:"text-white/80 mb-6 font-medium",children:R.premium_desc}),I.jsxs("div",{className:"flex flex-col gap-3",children:[I.jsxs("button",{onClick:U,className:"w-full bg-yellow-400 hover:bg-yellow-300 text-black font-burbank text-xl py-3 rounded-lg flex items-center justify-center gap-2 shadow-lg transition-transform hover:scale-105 mb-4",children:[I.jsx(jc,{className:"w-5 h-5 fill-red-500 text-red-500"}),R.unlock_fee]}),I.jsxs("div",{className:"bg-black/40 p-4 rounded-xl border border-white/10",children:[I.jsx("label",{className:"text-white/60 text-sm mb-1 block text-left uppercase tracking-wider font-bold",children:R.enter_code}),I.jsxs("div",{className:"flex flex-col gap-2",children:[I.jsx("input",{type:"text",value:S,onChange:F=>{v(F.target.value.toUpperCase()),y(!1)},onKeyDown:F=>F.key==="Enter"&&O(),placeholder:"FN-XXXX-XXXX",className:`w-full bg-black/50 text-white font-mono text-center text-lg p-2 rounded border-2 focus:outline-none focus:border-yellow-400 transition-colors ${g?"border-red-500":"border-white/20"}`}),g&&I.jsx("span",{className:"text-red-400 text-sm font-bold animate-pulse",children:R.invalid_code}),T&&I.jsx("span",{className:"text-green-400 text-sm font-bold animate-bounce",children:R.code_success}),I.jsxs("button",{onClick:O,disabled:A,className:"w-full bg-blue-600 hover:bg-blue-500 text-white font-burbank text-lg py-2 rounded transition-colors flex items-center justify-center gap-2 mt-2 disabled:opacity-50",children:[A?I.jsx(td,{className:"w-4 h-4 animate-spin"}):I.jsx(mC,{className:"w-4 h-4"}),R.verify_btn]})]})]}),I.jsx("button",{onClick:()=>h(!1),className:"text-white/40 hover:text-white text-sm mt-4",children:R.cancel})]})]})})]})},_C=({onClose:t,language:e})=>{const n=ct(e);return I.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4 bg-black/90 backdrop-blur-md animate-fade-in",children:I.jsxs("div",{className:"bg-gradient-to-br from-blue-900 to-indigo-900 border-2 border-white/20 rounded-3xl p-8 max-w-lg w-full text-center relative shadow-[0_0_50px_rgba(59,130,246,0.3)] transform transition-all scale-100",children:[I.jsx("div",{className:"flex justify-center mb-6",children:I.jsx("div",{className:"w-20 h-20 bg-blue-500 rounded-full flex items-center justify-center shadow-lg animate-bounce-slow",children:I.jsx(pm,{className:"w-10 h-10 text-white"})})}),I.jsx("h2",{className:"font-burbank text-4xl text-white mb-4 drop-shadow-md tracking-wide",children:n.welcome_title}),I.jsx("p",{className:"text-white/90 text-lg leading-relaxed mb-8 font-medium",children:n.welcome_desc}),I.jsx("button",{onClick:t,className:"w-full bg-yellow-400 hover:bg-yellow-300 text-black font-burbank text-2xl py-4 rounded-xl shadow-xl transition-transform hover:scale-105 active:scale-95",children:n.welcome_btn})]})})},rd="Rk4tVklQ",TC=t=>{try{const e=t.trim().toUpperCase(),n=btoa(e);console.log(`Checking Code: "${e}" -> Encoded: "${n}"`);const o=n===rd;return o?console.log(" Code Valid!"):console.log(" Code Invalid. Expected result:",rd),o}catch(e){return console.error("Code verification error",e),!1}},cr=15*60*1e3,id="fortnite_status_cache_v3",sd="fortnite_status_welcome_seen";function SC(){const[t,e]=$.useState(Z.IDLE),[n,o]=$.useState("en"),[r,i]=$.useState(()=>{const U={};return Object.keys(pt).forEach(O=>U[O]="..."),U}),[l,u]=$.useState(()=>{const U={};return Object.keys(pt).forEach(O=>U[O]=""),U}),[c,d]=$.useState([]),[f,m]=$.useState([]),[p,h]=$.useState(null),[E,_]=$.useState(Date.now()+cr),[S,v]=$.useState(15*60),[g,y]=$.useState(!1),[T,C]=$.useState(!1),A=$.useRef(t);$.useEffect(()=>{A.current=t},[t]),$.useEffect(()=>{const U=navigator.language.split("-")[0].toLowerCase();["en","bg","es","de","fr","it","ru"].includes(U)?o(U):o("en"),localStorage.getItem("isPremium")==="true"&&y(!0),localStorage.getItem(sd)||C(!0)},[]);const w=async U=>TC(U)?(y(!0),localStorage.setItem("isPremium","true"),!0):!1,R=()=>{C(!1),localStorage.setItem(sd,"true")},P=()=>{try{const U=new(window.AudioContext||window.webkitAudioContext),O=U.createOscillator(),F=U.createGain();O.connect(F),F.connect(U.destination),O.type="square",O.frequency.setValueAtTime(523.25,U.currentTime),O.frequency.setValueAtTime(659.25,U.currentTime+.1),O.frequency.setValueAtTime(783.99,U.currentTime+.2),F.gain.setValueAtTime(.1,U.currentTime),F.gain.exponentialRampToValueAtTime(1e-5,U.currentTime+.5),O.start(),O.stop(U.currentTime+.5)}catch(U){console.error("Audio play failed",U)}},x=$.useCallback(async()=>{const U=Date.now();_(U+cr),e(Z.CHECKING);const O=await lC(),F=new Date;h(F);let K=Z.OFFLINE;O.isOnline&&(K=Z.ONLINE,A.current!==Z.ONLINE&&P()),e(K),i(O.messages),u(O.rumorMessages),d(O.news||[]),O.sources&&m(O.sources);const M={status:K,messages:O.messages,rumorMessages:O.rumorMessages,news:O.news||[],sources:O.sources||[],timestamp:F.getTime()};localStorage.setItem(id,JSON.stringify(M))},[]);$.useEffect(()=>{(()=>{const F=localStorage.getItem(id);if(F)try{const K=JSON.parse(F);if(Date.now()-K.timestamp<cr)return e(K.status),i(K.messages),u(K.rumorMessages||{}),d(K.news||[]),m(K.sources),h(new Date(K.timestamp)),_(K.timestamp+cr),!0}catch(K){console.error("Cache parse error",K)}return!1})()||x()},[x]),$.useEffect(()=>{const U=setInterval(()=>{const F=Date.now(),K=E-F;K<=0?x():v(Math.ceil(K/1e3))},1e3),O=E-Date.now();return v(Math.max(0,Math.ceil(O/1e3))),()=>clearInterval(U)},[E,x]),$.useEffect(()=>{"Notification"in window&&Notification.permission!=="granted"&&Notification.requestPermission()},[]);const H=r[n]||r.en||"...",ie=l[n]||"",z=t===Z.IDLE&&H==="..."?ct(n).waiting:H;return I.jsxs(I.Fragment,{children:[T&&I.jsx(_C,{onClose:R,language:n}),I.jsx(EC,{status:t,message:z,rumorMessage:ie,news:c,sources:f,lastChecked:p,onCheckNow:x,nextCheckTime:S,language:n,onLanguageChange:o,isPremium:g,onUnlockPremium:w})]})}const mm=document.getElementById("root");if(!mm)throw new Error("Could not find root element to mount to");const CC=ji.createRoot(mm);CC.render(I.jsx(km.StrictMode,{children:I.jsx(SC,{})}));
